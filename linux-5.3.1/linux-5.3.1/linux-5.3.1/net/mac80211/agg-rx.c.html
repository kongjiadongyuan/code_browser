<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>agg-rx.c source code [linux-5.3.1/net/mac80211/agg-rx.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-5.3.1/net/mac80211/agg-rx.c'; var root_path = '../../..'; var data_path = '../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>linux-5.3.1</a>/<a href='..'>net</a>/<a href='./'>mac80211</a>/<a href='agg-rx.c.html'>agg-rx.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>// SPDX-License-Identifier: GPL-2.0-only</i></td></tr>
<tr><th id="2">2</th><td><i>/*</i></td></tr>
<tr><th id="3">3</th><td><i> * HT handling</i></td></tr>
<tr><th id="4">4</th><td><i> *</i></td></tr>
<tr><th id="5">5</th><td><i> * Copyright 2003, Jouni Malinen &lt;jkmaline@cc.hut.fi&gt;</i></td></tr>
<tr><th id="6">6</th><td><i> * Copyright 2002-2005, Instant802 Networks, Inc.</i></td></tr>
<tr><th id="7">7</th><td><i> * Copyright 2005-2006, Devicescape Software, Inc.</i></td></tr>
<tr><th id="8">8</th><td><i> * Copyright 2006-2007	Jiri Benc &lt;jbenc@suse.cz&gt;</i></td></tr>
<tr><th id="9">9</th><td><i> * Copyright 2007, Michael Wu &lt;flamingice@sourmilk.net&gt;</i></td></tr>
<tr><th id="10">10</th><td><i> * Copyright 2007-2010, Intel Corporation</i></td></tr>
<tr><th id="11">11</th><td><i> * Copyright(c) 2015-2017 Intel Deutschland GmbH</i></td></tr>
<tr><th id="12">12</th><td><i> * Copyright (C) 2018        Intel Corporation</i></td></tr>
<tr><th id="13">13</th><td><i> */</i></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><i class="doc">/**</i></td></tr>
<tr><th id="16">16</th><td><i class="doc"> * DOC: RX A-MPDU aggregation</i></td></tr>
<tr><th id="17">17</th><td><i class="doc"> *</i></td></tr>
<tr><th id="18">18</th><td><i class="doc"> * Aggregation on the RX side requires only implementing the</i></td></tr>
<tr><th id="19">19</th><td><i class="doc"> *<span class="command"> @ampdu</span>_action callback that is invoked to start/stop any</i></td></tr>
<tr><th id="20">20</th><td><i class="doc"> * block-ack sessions for RX aggregation.</i></td></tr>
<tr><th id="21">21</th><td><i class="doc"> *</i></td></tr>
<tr><th id="22">22</th><td><i class="doc"> * When RX aggregation is started by the peer, the driver is</i></td></tr>
<tr><th id="23">23</th><td><i class="doc"> * notified via<span class="command"> @ampdu</span>_action function, with the</i></td></tr>
<tr><th id="24">24</th><td><i class="doc"> * %IEEE80211_AMPDU_RX_START action, and may reject the request</i></td></tr>
<tr><th id="25">25</th><td><i class="doc"> * in which case a negative response is sent to the peer, if it</i></td></tr>
<tr><th id="26">26</th><td><i class="doc"> * accepts it a positive response is sent.</i></td></tr>
<tr><th id="27">27</th><td><i class="doc"> *</i></td></tr>
<tr><th id="28">28</th><td><i class="doc"> * While the session is active, the device/driver are required</i></td></tr>
<tr><th id="29">29</th><td><i class="doc"> * to de-aggregate frames and pass them up one by one to mac80211,</i></td></tr>
<tr><th id="30">30</th><td><i class="doc"> * which will handle the reorder buffer.</i></td></tr>
<tr><th id="31">31</th><td><i class="doc"> *</i></td></tr>
<tr><th id="32">32</th><td><i class="doc"> * When the aggregation session is stopped again by the peer or</i></td></tr>
<tr><th id="33">33</th><td><i class="doc"> * ourselves, the driver's<span class="command"> @ampdu</span>_action function will be called</i></td></tr>
<tr><th id="34">34</th><td><i class="doc"> * with the action %IEEE80211_AMPDU_RX_STOP. In this case, the</i></td></tr>
<tr><th id="35">35</th><td><i class="doc"> * call must not fail.</i></td></tr>
<tr><th id="36">36</th><td><i class="doc"> */</i></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../include/linux/ieee80211.h.html">&lt;linux/ieee80211.h&gt;</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../../include/linux/slab.h.html">&lt;linux/slab.h&gt;</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../../include/linux/export.h.html">&lt;linux/export.h&gt;</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../../include/net/mac80211.h.html">&lt;net/mac80211.h&gt;</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="ieee80211_i.h.html">"ieee80211_i.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="driver-ops.h.html">"driver-ops.h"</a></u></td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ieee80211_free_tid_rx" title='ieee80211_free_tid_rx' data-type='void ieee80211_free_tid_rx(struct callback_head * h)' data-ref="ieee80211_free_tid_rx" data-ref-filename="ieee80211_free_tid_rx">ieee80211_free_tid_rx</dfn>(<b>struct</b> <a class="macro" href="../../include/linux/types.h.html#223" title="callback_head" data-ref="_M/rcu_head">rcu_head</a> *<dfn class="local col2 decl" id="3662h" title='h' data-type='struct callback_head *' data-ref="3662h" data-ref-filename="3662h">h</dfn>)</td></tr>
<tr><th id="46">46</th><td>{</td></tr>
<tr><th id="47">47</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a> *<dfn class="local col3 decl" id="3663tid_rx" title='tid_rx' data-type='struct tid_ampdu_rx *' data-ref="3663tid_rx" data-ref-filename="3663tid_rx">tid_rx</dfn> =</td></tr>
<tr><th id="48">48</th><td>		<a class="macro" href="../../include/linux/kernel.h.html#971" title="({ void *__mptr = (void *)(h); do { extern void __compiletime_assert_48(void) ; if (!(!(!__builtin_types_compatible_p(typeof(*(h)), typeof(((struct tid_ampdu_rx *)0)-&gt;callback_head)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(h)), typeof(void))))) __compiletime_assert_48(); } while (0); ((struct tid_ampdu_rx *)(__mptr - __builtin_offsetof(struct tid_ampdu_rx, callback_head))); })" data-ref="_M/container_of">container_of</a>(<a class="local col2 ref" href="#3662h" title='h' data-ref="3662h" data-ref-filename="3662h">h</a>, <b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a>, <a class="macro" href="../../include/linux/types.h.html#223" title="callback_head" data-ref="_M/rcu_head">rcu_head</a>);</td></tr>
<tr><th id="49">49</th><td>	<em>int</em> <dfn class="local col4 decl" id="3664i" title='i' data-type='int' data-ref="3664i" data-ref-filename="3664i">i</dfn>;</td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td>	<b>for</b> (<a class="local col4 ref" href="#3664i" title='i' data-ref="3664i" data-ref-filename="3664i">i</a> = <var>0</var>; <a class="local col4 ref" href="#3664i" title='i' data-ref="3664i" data-ref-filename="3664i">i</a> &lt; <a class="local col3 ref" href="#3663tid_rx" title='tid_rx' data-ref="3663tid_rx" data-ref-filename="3663tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::buf_size" title='tid_ampdu_rx::buf_size' data-ref="tid_ampdu_rx::buf_size" data-ref-filename="tid_ampdu_rx..buf_size">buf_size</a>; <a class="local col4 ref" href="#3664i" title='i' data-ref="3664i" data-ref-filename="3664i">i</a>++)</td></tr>
<tr><th id="52">52</th><td>		<a class="ref fn" href="../../include/linux/skbuff.h.html#__skb_queue_purge" title='__skb_queue_purge' data-ref="__skb_queue_purge" data-ref-filename="__skb_queue_purge">__skb_queue_purge</a>(&amp;<a class="local col3 ref" href="#3663tid_rx" title='tid_rx' data-ref="3663tid_rx" data-ref-filename="3663tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a>[<a class="local col4 ref" href="#3664i" title='i' data-ref="3664i" data-ref-filename="3664i">i</a>]);</td></tr>
<tr><th id="53">53</th><td>	<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col3 ref" href="#3663tid_rx" title='tid_rx' data-ref="3663tid_rx" data-ref-filename="3663tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a>);</td></tr>
<tr><th id="54">54</th><td>	<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col3 ref" href="#3663tid_rx" title='tid_rx' data-ref="3663tid_rx" data-ref-filename="3663tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_time" title='tid_ampdu_rx::reorder_time' data-ref="tid_ampdu_rx::reorder_time" data-ref-filename="tid_ampdu_rx..reorder_time">reorder_time</a>);</td></tr>
<tr><th id="55">55</th><td>	<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col3 ref" href="#3663tid_rx" title='tid_rx' data-ref="3663tid_rx" data-ref-filename="3663tid_rx">tid_rx</a>);</td></tr>
<tr><th id="56">56</th><td>}</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><em>void</em> <dfn class="decl def fn" id="___ieee80211_stop_rx_ba_session" title='___ieee80211_stop_rx_ba_session' data-ref="___ieee80211_stop_rx_ba_session" data-ref-filename="___ieee80211_stop_rx_ba_session">___ieee80211_stop_rx_ba_session</dfn>(<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col5 decl" id="3665sta" title='sta' data-type='struct sta_info *' data-ref="3665sta" data-ref-filename="3665sta">sta</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col6 decl" id="3666tid" title='tid' data-type='u16' data-ref="3666tid" data-ref-filename="3666tid">tid</dfn>,</td></tr>
<tr><th id="59">59</th><td>				     <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col7 decl" id="3667initiator" title='initiator' data-type='u16' data-ref="3667initiator" data-ref-filename="3667initiator">initiator</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col8 decl" id="3668reason" title='reason' data-type='u16' data-ref="3668reason" data-ref-filename="3668reason">reason</dfn>, <a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col9 decl" id="3669tx" title='tx' data-type='bool' data-ref="3669tx" data-ref-filename="3669tx">tx</dfn>)</td></tr>
<tr><th id="60">60</th><td>{</td></tr>
<tr><th id="61">61</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_local" title='ieee80211_local' data-ref="ieee80211_local" data-ref-filename="ieee80211_local">ieee80211_local</a> *<dfn class="local col0 decl" id="3670local" title='local' data-type='struct ieee80211_local *' data-ref="3670local" data-ref-filename="3670local">local</dfn> = <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::local" title='sta_info::local' data-ref="sta_info::local" data-ref-filename="sta_info..local">local</a>;</td></tr>
<tr><th id="62">62</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a> *<dfn class="local col1 decl" id="3671tid_rx" title='tid_rx' data-type='struct tid_ampdu_rx *' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</dfn>;</td></tr>
<tr><th id="63">63</th><td>	<b>struct</b> <a class="type" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params" title='ieee80211_ampdu_params' data-ref="ieee80211_ampdu_params" data-ref-filename="ieee80211_ampdu_params">ieee80211_ampdu_params</a> <dfn class="local col2 decl" id="3672params" title='params' data-type='struct ieee80211_ampdu_params' data-ref="3672params" data-ref-filename="3672params">params</dfn> = {</td></tr>
<tr><th id="64">64</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::sta" title='ieee80211_ampdu_params::sta' data-ref="ieee80211_ampdu_params::sta" data-ref-filename="ieee80211_ampdu_params..sta">sta</a> = &amp;<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>,</td></tr>
<tr><th id="65">65</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::action" title='ieee80211_ampdu_params::action' data-ref="ieee80211_ampdu_params::action" data-ref-filename="ieee80211_ampdu_params..action">action</a> = <a class="enum" href="../../include/net/mac80211.h.html#IEEE80211_AMPDU_RX_STOP" title='IEEE80211_AMPDU_RX_STOP' data-ref="IEEE80211_AMPDU_RX_STOP" data-ref-filename="IEEE80211_AMPDU_RX_STOP">IEEE80211_AMPDU_RX_STOP</a>,</td></tr>
<tr><th id="66">66</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::tid" title='ieee80211_ampdu_params::tid' data-ref="ieee80211_ampdu_params::tid" data-ref-filename="ieee80211_ampdu_params..tid">tid</a> = <a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>,</td></tr>
<tr><th id="67">67</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::amsdu" title='ieee80211_ampdu_params::amsdu' data-ref="ieee80211_ampdu_params::amsdu" data-ref-filename="ieee80211_ampdu_params..amsdu">amsdu</a> = <a class="enum" href="../../include/linux/stddef.h.html#false" title='false' data-ref="false" data-ref-filename="false">false</a>,</td></tr>
<tr><th id="68">68</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::timeout" title='ieee80211_ampdu_params::timeout' data-ref="ieee80211_ampdu_params::timeout" data-ref-filename="ieee80211_ampdu_params..timeout">timeout</a> = <var>0</var>,</td></tr>
<tr><th id="69">69</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::ssn" title='ieee80211_ampdu_params::ssn' data-ref="ieee80211_ampdu_params::ssn" data-ref-filename="ieee80211_ampdu_params..ssn">ssn</a> = <var>0</var>,</td></tr>
<tr><th id="70">70</th><td>	};</td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td>	<a class="macro" href="../../include/linux/lockdep.h.html#481" title="do { (void)(&amp;sta-&gt;ampdu_mlme.mtx); } while (0)" data-ref="_M/lockdep_assert_held">lockdep_assert_held</a>(&amp;<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::mtx" title='sta_ampdu_mlme::mtx' data-ref="sta_ampdu_mlme::mtx" data-ref-filename="sta_ampdu_mlme..mtx">mtx</a>);</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>	<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a> = <a class="macro" href="../../include/linux/rcupdate.h.html#497" title="({ do { } while (0); ; ((typeof(*(sta-&gt;ampdu_mlme.tid_rx[tid])) *)((sta-&gt;ampdu_mlme.tid_rx[tid]))); })" data-ref="_M/rcu_dereference_protected">rcu_dereference_protected</a>(<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx" title='sta_ampdu_mlme::tid_rx' data-ref="sta_ampdu_mlme::tid_rx" data-ref-filename="sta_ampdu_mlme..tid_rx">tid_rx</a>[<a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>],</td></tr>
<tr><th id="75">75</th><td>					lockdep_is_held(&amp;sta-&gt;ampdu_mlme.mtx));</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>	<b>if</b> (!<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#test_bit" title='test_bit' data-ref="test_bit" data-ref-filename="test_bit">test_bit</a>(<a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>, <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::agg_session_valid" title='sta_ampdu_mlme::agg_session_valid' data-ref="sta_ampdu_mlme::agg_session_valid" data-ref-filename="sta_ampdu_mlme..agg_session_valid">agg_session_valid</a>))</td></tr>
<tr><th id="78">78</th><td>		<b>return</b>;</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td>	<a class="macro" href="../../include/linux/rcupdate.h.html#771" title="do { ; ({ union { typeof(sta-&gt;ampdu_mlme.tid_rx[tid]) __val; char __c[1]; } __u = { .__val = ( typeof(sta-&gt;ampdu_mlme.tid_rx[tid])) ((typeof(*(((void *)0))) *)(((void *)0))) }; __write_once_size(&amp;(sta-&gt;ampdu_mlme.tid_rx[tid]), __u.__c, sizeof(sta-&gt;ampdu_mlme.tid_rx[tid])); __u.__val; }); } while (0)" data-ref="_M/RCU_INIT_POINTER">RCU_INIT_POINTER</a>(<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx" title='sta_ampdu_mlme::tid_rx' data-ref="sta_ampdu_mlme::tid_rx" data-ref-filename="sta_ampdu_mlme..tid_rx">tid_rx</a>[<a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>], <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="81">81</th><td>	<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#__clear_bit" title='__clear_bit' data-ref="__clear_bit" data-ref-filename="__clear_bit">__clear_bit</a>(<a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>, <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::agg_session_valid" title='sta_ampdu_mlme::agg_session_valid' data-ref="sta_ampdu_mlme::agg_session_valid" data-ref-filename="sta_ampdu_mlme..agg_session_valid">agg_session_valid</a>);</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td>	<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;Rx BA session stop requested for %pM tid %u %s reason: %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid, initiator == WLAN_BACK_RECIPIENT ? &quot;recipient&quot; : &quot;initiator&quot;, (int)reason); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="84">84</th><td>	       <q>"Rx BA session stop requested for %pM tid %u %s reason: %d\n"</q>,</td></tr>
<tr><th id="85">85</th><td>	       <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>,</td></tr>
<tr><th id="86">86</th><td>	       <a class="local col7 ref" href="#3667initiator" title='initiator' data-ref="3667initiator" data-ref-filename="3667initiator">initiator</a> == <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_BACK_RECIPIENT" title='WLAN_BACK_RECIPIENT' data-ref="WLAN_BACK_RECIPIENT" data-ref-filename="WLAN_BACK_RECIPIENT">WLAN_BACK_RECIPIENT</a> ? <q>"recipient"</q> : <q>"initiator"</q>,</td></tr>
<tr><th id="87">87</th><td>	       (<em>int</em>)<a class="local col8 ref" href="#3668reason" title='reason' data-ref="3668reason" data-ref-filename="3668reason">reason</a>);</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td>	<b>if</b> (<a class="ref fn" href="driver-ops.h.html#drv_ampdu_action" title='drv_ampdu_action' data-ref="drv_ampdu_action" data-ref-filename="drv_ampdu_action">drv_ampdu_action</a>(<a class="local col0 ref" href="#3670local" title='local' data-ref="3670local" data-ref-filename="3670local">local</a>, <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, &amp;<a class="local col2 ref" href="#3672params" title='params' data-ref="3672params" data-ref-filename="3672params">params</a>))</td></tr>
<tr><th id="90">90</th><td>		<a class="macro" href="debug.h.html#126" title="do { printk(&quot;\001&quot; &quot;6&quot; &quot;%s: &quot; &quot;HW problem - can not stop rx aggregation for %pM tid %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/sdata_info">sdata_info</a>(<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="91">91</th><td>			   <q>"HW problem - can not stop rx aggregation for %pM tid %d\n"</q>,</td></tr>
<tr><th id="92">92</th><td>			   <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>);</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>	<i>/* check if this is a self generated aggregation halt */</i></td></tr>
<tr><th id="95">95</th><td>	<b>if</b> (<a class="local col7 ref" href="#3667initiator" title='initiator' data-ref="3667initiator" data-ref-filename="3667initiator">initiator</a> == <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_BACK_RECIPIENT" title='WLAN_BACK_RECIPIENT' data-ref="WLAN_BACK_RECIPIENT" data-ref-filename="WLAN_BACK_RECIPIENT">WLAN_BACK_RECIPIENT</a> &amp;&amp; <a class="local col9 ref" href="#3669tx" title='tx' data-ref="3669tx" data-ref-filename="3669tx">tx</a>)</td></tr>
<tr><th id="96">96</th><td>		<a class="ref fn" href="ieee80211_i.h.html#ieee80211_send_delba" title='ieee80211_send_delba' data-ref="ieee80211_send_delba" data-ref-filename="ieee80211_send_delba">ieee80211_send_delba</a>(<a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, <a class="local col5 ref" href="#3665sta" title='sta' data-ref="3665sta" data-ref-filename="3665sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>,</td></tr>
<tr><th id="97">97</th><td>				     <a class="local col6 ref" href="#3666tid" title='tid' data-ref="3666tid" data-ref-filename="3666tid">tid</a>, <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_BACK_RECIPIENT" title='WLAN_BACK_RECIPIENT' data-ref="WLAN_BACK_RECIPIENT" data-ref-filename="WLAN_BACK_RECIPIENT">WLAN_BACK_RECIPIENT</a>, <a class="local col8 ref" href="#3668reason" title='reason' data-ref="3668reason" data-ref-filename="3668reason">reason</a>);</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td>	<i>/*</i></td></tr>
<tr><th id="100">100</th><td><i>	 * return here in case tid_rx is not assigned - which will happen if</i></td></tr>
<tr><th id="101">101</th><td><i>	 * IEEE80211_HW_SUPPORTS_REORDERING_BUFFER is set.</i></td></tr>
<tr><th id="102">102</th><td><i>	 */</i></td></tr>
<tr><th id="103">103</th><td>	<b>if</b> (!<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>)</td></tr>
<tr><th id="104">104</th><td>		<b>return</b>;</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td>	<a class="ref fn" href="../../include/linux/timer.h.html#del_timer_sync" title='del_timer_sync' data-ref="del_timer_sync" data-ref-filename="del_timer_sync">del_timer_sync</a>(&amp;<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::session_timer" title='tid_ampdu_rx::session_timer' data-ref="tid_ampdu_rx::session_timer" data-ref-filename="tid_ampdu_rx..session_timer">session_timer</a>);</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td>	<i>/* make sure ieee80211_sta_reorder_release() doesn't re-arm the timer */</i></td></tr>
<tr><th id="109">109</th><td>	<a class="ref fn" href="../../include/linux/spinlock.h.html#spin_lock_bh" title='spin_lock_bh' data-ref="spin_lock_bh" data-ref-filename="spin_lock_bh">spin_lock_bh</a>(&amp;<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_lock" title='tid_ampdu_rx::reorder_lock' data-ref="tid_ampdu_rx::reorder_lock" data-ref-filename="tid_ampdu_rx..reorder_lock">reorder_lock</a>);</td></tr>
<tr><th id="110">110</th><td>	<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::removed" title='tid_ampdu_rx::removed' data-ref="tid_ampdu_rx::removed" data-ref-filename="tid_ampdu_rx..removed">removed</a> = <a class="enum" href="../../include/linux/stddef.h.html#true" title='true' data-ref="true" data-ref-filename="true">true</a>;</td></tr>
<tr><th id="111">111</th><td>	<a class="ref fn" href="../../include/linux/spinlock.h.html#spin_unlock_bh" title='spin_unlock_bh' data-ref="spin_unlock_bh" data-ref-filename="spin_unlock_bh">spin_unlock_bh</a>(&amp;<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_lock" title='tid_ampdu_rx::reorder_lock' data-ref="tid_ampdu_rx::reorder_lock" data-ref-filename="tid_ampdu_rx..reorder_lock">reorder_lock</a>);</td></tr>
<tr><th id="112">112</th><td>	<a class="ref fn" href="../../include/linux/timer.h.html#del_timer_sync" title='del_timer_sync' data-ref="del_timer_sync" data-ref-filename="del_timer_sync">del_timer_sync</a>(&amp;<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_timer" title='tid_ampdu_rx::reorder_timer' data-ref="tid_ampdu_rx::reorder_timer" data-ref-filename="tid_ampdu_rx..reorder_timer">reorder_timer</a>);</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#call_rcu" title='call_rcu' data-ref="call_rcu" data-ref-filename="call_rcu">call_rcu</a>(&amp;<a class="local col1 ref" href="#3671tid_rx" title='tid_rx' data-ref="3671tid_rx" data-ref-filename="3671tid_rx">tid_rx</a>-&gt;<a class="macro" href="../../include/linux/types.h.html#223" title="callback_head" data-ref="_M/rcu_head">rcu_head</a>, <a class="tu ref fn" href="#ieee80211_free_tid_rx" title='ieee80211_free_tid_rx' data-use='r' data-ref="ieee80211_free_tid_rx" data-ref-filename="ieee80211_free_tid_rx">ieee80211_free_tid_rx</a>);</td></tr>
<tr><th id="115">115</th><td>}</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><em>void</em> <dfn class="decl def fn" id="__ieee80211_stop_rx_ba_session" title='__ieee80211_stop_rx_ba_session' data-ref="__ieee80211_stop_rx_ba_session" data-ref-filename="__ieee80211_stop_rx_ba_session">__ieee80211_stop_rx_ba_session</dfn>(<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col3 decl" id="3673sta" title='sta' data-type='struct sta_info *' data-ref="3673sta" data-ref-filename="3673sta">sta</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col4 decl" id="3674tid" title='tid' data-type='u16' data-ref="3674tid" data-ref-filename="3674tid">tid</dfn>,</td></tr>
<tr><th id="118">118</th><td>				    <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col5 decl" id="3675initiator" title='initiator' data-type='u16' data-ref="3675initiator" data-ref-filename="3675initiator">initiator</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col6 decl" id="3676reason" title='reason' data-type='u16' data-ref="3676reason" data-ref-filename="3676reason">reason</dfn>, <a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col7 decl" id="3677tx" title='tx' data-type='bool' data-ref="3677tx" data-ref-filename="3677tx">tx</dfn>)</td></tr>
<tr><th id="119">119</th><td>{</td></tr>
<tr><th id="120">120</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_lock" title='mutex_lock' data-ref="mutex_lock" data-ref-filename="mutex_lock">mutex_lock</a>(&amp;<a class="local col3 ref" href="#3673sta" title='sta' data-ref="3673sta" data-ref-filename="3673sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::mtx" title='sta_ampdu_mlme::mtx' data-ref="sta_ampdu_mlme::mtx" data-ref-filename="sta_ampdu_mlme..mtx">mtx</a>);</td></tr>
<tr><th id="121">121</th><td>	<a class="ref fn" href="#___ieee80211_stop_rx_ba_session" title='___ieee80211_stop_rx_ba_session' data-ref="___ieee80211_stop_rx_ba_session" data-ref-filename="___ieee80211_stop_rx_ba_session">___ieee80211_stop_rx_ba_session</a>(<a class="local col3 ref" href="#3673sta" title='sta' data-ref="3673sta" data-ref-filename="3673sta">sta</a>, <a class="local col4 ref" href="#3674tid" title='tid' data-ref="3674tid" data-ref-filename="3674tid">tid</a>, <a class="local col5 ref" href="#3675initiator" title='initiator' data-ref="3675initiator" data-ref-filename="3675initiator">initiator</a>, <a class="local col6 ref" href="#3676reason" title='reason' data-ref="3676reason" data-ref-filename="3676reason">reason</a>, <a class="local col7 ref" href="#3677tx" title='tx' data-ref="3677tx" data-ref-filename="3677tx">tx</a>);</td></tr>
<tr><th id="122">122</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="local col3 ref" href="#3673sta" title='sta' data-ref="3673sta" data-ref-filename="3673sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::mtx" title='sta_ampdu_mlme::mtx' data-ref="sta_ampdu_mlme::mtx" data-ref-filename="sta_ampdu_mlme..mtx">mtx</a>);</td></tr>
<tr><th id="123">123</th><td>}</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td><em>void</em> <dfn class="decl def fn" id="ieee80211_stop_rx_ba_session" title='ieee80211_stop_rx_ba_session' data-ref="ieee80211_stop_rx_ba_session" data-ref-filename="ieee80211_stop_rx_ba_session">ieee80211_stop_rx_ba_session</dfn>(<b>struct</b> <a class="type" href="../../include/net/mac80211.h.html#ieee80211_vif" title='ieee80211_vif' data-ref="ieee80211_vif" data-ref-filename="ieee80211_vif">ieee80211_vif</a> *<dfn class="local col8 decl" id="3678vif" title='vif' data-type='struct ieee80211_vif *' data-ref="3678vif" data-ref-filename="3678vif">vif</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col9 decl" id="3679ba_rx_bitmap" title='ba_rx_bitmap' data-type='u16' data-ref="3679ba_rx_bitmap" data-ref-filename="3679ba_rx_bitmap">ba_rx_bitmap</dfn>,</td></tr>
<tr><th id="126">126</th><td>				  <em>const</em> <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> *<dfn class="local col0 decl" id="3680addr" title='addr' data-type='const u8 *' data-ref="3680addr" data-ref-filename="3680addr">addr</dfn>)</td></tr>
<tr><th id="127">127</th><td>{</td></tr>
<tr><th id="128">128</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_sub_if_data" title='ieee80211_sub_if_data' data-ref="ieee80211_sub_if_data" data-ref-filename="ieee80211_sub_if_data">ieee80211_sub_if_data</a> *<dfn class="local col1 decl" id="3681sdata" title='sdata' data-type='struct ieee80211_sub_if_data *' data-ref="3681sdata" data-ref-filename="3681sdata">sdata</dfn> = <a class="ref fn" href="ieee80211_i.h.html#vif_to_sdata" title='vif_to_sdata' data-ref="vif_to_sdata" data-ref-filename="vif_to_sdata">vif_to_sdata</a>(<a class="local col8 ref" href="#3678vif" title='vif' data-ref="3678vif" data-ref-filename="3678vif">vif</a>);</td></tr>
<tr><th id="129">129</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col2 decl" id="3682sta" title='sta' data-type='struct sta_info *' data-ref="3682sta" data-ref-filename="3682sta">sta</dfn>;</td></tr>
<tr><th id="130">130</th><td>	<em>int</em> <dfn class="local col3 decl" id="3683i" title='i' data-type='int' data-ref="3683i" data-ref-filename="3683i">i</dfn>;</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_lock" title='rcu_read_lock' data-ref="rcu_read_lock" data-ref-filename="rcu_read_lock">rcu_read_lock</a>();</td></tr>
<tr><th id="133">133</th><td>	<a class="local col2 ref" href="#3682sta" title='sta' data-ref="3682sta" data-ref-filename="3682sta">sta</a> = <a class="ref fn" href="sta_info.h.html#sta_info_get_bss" title='sta_info_get_bss' data-ref="sta_info_get_bss" data-ref-filename="sta_info_get_bss">sta_info_get_bss</a>(<a class="local col1 ref" href="#3681sdata" title='sdata' data-ref="3681sdata" data-ref-filename="3681sdata">sdata</a>, <a class="local col0 ref" href="#3680addr" title='addr' data-ref="3680addr" data-ref-filename="3680addr">addr</a>);</td></tr>
<tr><th id="134">134</th><td>	<b>if</b> (!<a class="local col2 ref" href="#3682sta" title='sta' data-ref="3682sta" data-ref-filename="3682sta">sta</a>) {</td></tr>
<tr><th id="135">135</th><td>		<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_unlock" title='rcu_read_unlock' data-ref="rcu_read_unlock" data-ref-filename="rcu_read_unlock">rcu_read_unlock</a>();</td></tr>
<tr><th id="136">136</th><td>		<b>return</b>;</td></tr>
<tr><th id="137">137</th><td>	}</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>	<b>for</b> (<a class="local col3 ref" href="#3683i" title='i' data-ref="3683i" data-ref-filename="3683i">i</a> = <var>0</var>; <a class="local col3 ref" href="#3683i" title='i' data-ref="3683i" data-ref-filename="3683i">i</a> &lt; <a class="macro" href="../../include/linux/ieee80211.h.html#182" title="16" data-ref="_M/IEEE80211_NUM_TIDS">IEEE80211_NUM_TIDS</a>; <a class="local col3 ref" href="#3683i" title='i' data-ref="3683i" data-ref-filename="3683i">i</a>++)</td></tr>
<tr><th id="140">140</th><td>		<b>if</b> (<a class="local col9 ref" href="#3679ba_rx_bitmap" title='ba_rx_bitmap' data-ref="3679ba_rx_bitmap" data-ref-filename="3679ba_rx_bitmap">ba_rx_bitmap</a> &amp; <a class="macro" href="../../include/linux/bits.h.html#8" title="((((1UL))) &lt;&lt; (i))" data-ref="_M/BIT">BIT</a>(<a class="local col3 ref" href="#3683i" title='i' data-ref="3683i" data-ref-filename="3683i">i</a>))</td></tr>
<tr><th id="141">141</th><td>			<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#set_bit" title='set_bit' data-ref="set_bit" data-ref-filename="set_bit">set_bit</a>(<a class="local col3 ref" href="#3683i" title='i' data-ref="3683i" data-ref-filename="3683i">i</a>, <a class="local col2 ref" href="#3682sta" title='sta' data-ref="3682sta" data-ref-filename="3682sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx_stop_requested" title='sta_ampdu_mlme::tid_rx_stop_requested' data-ref="sta_ampdu_mlme::tid_rx_stop_requested" data-ref-filename="sta_ampdu_mlme..tid_rx_stop_requested">tid_rx_stop_requested</a>);</td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td>	<a class="ref fn" href="../../include/net/mac80211.h.html#ieee80211_queue_work" title='ieee80211_queue_work' data-ref="ieee80211_queue_work" data-ref-filename="ieee80211_queue_work">ieee80211_queue_work</a>(&amp;<a class="local col2 ref" href="#3682sta" title='sta' data-ref="3682sta" data-ref-filename="3682sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::local" title='sta_info::local' data-ref="sta_info::local" data-ref-filename="sta_info..local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>, &amp;<a class="local col2 ref" href="#3682sta" title='sta' data-ref="3682sta" data-ref-filename="3682sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::work" title='sta_ampdu_mlme::work' data-ref="sta_ampdu_mlme::work" data-ref-filename="sta_ampdu_mlme..work">work</a>);</td></tr>
<tr><th id="144">144</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_unlock" title='rcu_read_unlock' data-ref="rcu_read_unlock" data-ref-filename="rcu_read_unlock">rcu_read_unlock</a>();</td></tr>
<tr><th id="145">145</th><td>}</td></tr>
<tr><th id="146">146</th><td><a class="macro" href="../../include/linux/export.h.html#123" title="extern typeof(ieee80211_stop_rx_ba_session) ieee80211_stop_rx_ba_session; static const char __kstrtab_ieee80211_stop_rx_ba_session[] __attribute__((section(&quot;__ksymtab_strings&quot;), used, aligned(1))) = &quot;ieee80211_stop_rx_ba_session&quot;; static void * __attribute__((__section__(&quot;.discard.addressable&quot;))) __attribute__((__used__)) __addressable_ieee80211_stop_rx_ba_session146 = (void *)&amp;ieee80211_stop_rx_ba_session; asm(&quot;	.section \&quot;___ksymtab&quot; &quot;&quot; &quot;+&quot; &quot;ieee80211_stop_rx_ba_session&quot; &quot;\&quot;, \&quot;a\&quot;	\n&quot; &quot;	.balign	8					\n&quot; &quot;__ksymtab_&quot; &quot;ieee80211_stop_rx_ba_session&quot; &quot;:				\n&quot; &quot;	.long	&quot; &quot;ieee80211_stop_rx_ba_session&quot; &quot;- .				\n&quot; &quot;	.long	__kstrtab_&quot; &quot;ieee80211_stop_rx_ba_session&quot; &quot;- .			\n&quot; &quot;	.previous					\n&quot;)" data-ref="_M/EXPORT_SYMBOL">EXPORT_SYMBOL</a>(<a class="decl fn" href="#ieee80211_stop_rx_ba_session" title='ieee80211_stop_rx_ba_session' data-ref="ieee80211_stop_rx_ba_session" data-ref-filename="ieee80211_stop_rx_ba_session"><a class="ref fn" href="#ieee80211_stop_rx_ba_session" title='ieee80211_stop_rx_ba_session' data-ref="ieee80211_stop_rx_ba_session" data-ref-filename="ieee80211_stop_rx_ba_session"><a class="ref fn" href="#ieee80211_stop_rx_ba_session" title='ieee80211_stop_rx_ba_session' data-ref="ieee80211_stop_rx_ba_session" data-ref-filename="ieee80211_stop_rx_ba_session">ieee80211_stop_rx_ba_session</a></a></a>);</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td><i  data-doc="sta_rx_agg_session_timer_expired">/*</i></td></tr>
<tr><th id="149">149</th><td><i  data-doc="sta_rx_agg_session_timer_expired"> * After accepting the AddBA Request we activated a timer,</i></td></tr>
<tr><th id="150">150</th><td><i  data-doc="sta_rx_agg_session_timer_expired"> * resetting it after each frame that arrives from the originator.</i></td></tr>
<tr><th id="151">151</th><td><i  data-doc="sta_rx_agg_session_timer_expired"> */</i></td></tr>
<tr><th id="152">152</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="sta_rx_agg_session_timer_expired" title='sta_rx_agg_session_timer_expired' data-type='void sta_rx_agg_session_timer_expired(struct timer_list * t)' data-ref="sta_rx_agg_session_timer_expired" data-ref-filename="sta_rx_agg_session_timer_expired">sta_rx_agg_session_timer_expired</dfn>(<b>struct</b> <a class="type" href="../../include/linux/timer.h.html#timer_list" title='timer_list' data-ref="timer_list" data-ref-filename="timer_list">timer_list</a> *<dfn class="local col4 decl" id="3684t" title='t' data-type='struct timer_list *' data-ref="3684t" data-ref-filename="3684t">t</dfn>)</td></tr>
<tr><th id="153">153</th><td>{</td></tr>
<tr><th id="154">154</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a> *<dfn class="local col5 decl" id="3685tid_rx" title='tid_rx' data-type='struct tid_ampdu_rx *' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</dfn> = <a class="macro" href="../../include/linux/timer.h.html#152" title="({ void *__mptr = (void *)(t); do { extern void __compiletime_assert_154(void) ; if (!(!(!__builtin_types_compatible_p(typeof(*(t)), typeof(((typeof(*tid_rx) *)0)-&gt;session_timer)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(t)), typeof(void))))) __compiletime_assert_154(); } while (0); ((typeof(*tid_rx) *)(__mptr - __builtin_offsetof(typeof(*tid_rx), session_timer))); })" data-ref="_M/from_timer">from_timer</a>(<a class="local col5 ref" href="#3685tid_rx" title='tid_rx' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</a>, <a class="local col4 ref" href="#3684t" title='t' data-ref="3684t" data-ref-filename="3684t">t</a>, <a class="ref field" href="sta_info.h.html#tid_ampdu_rx::session_timer" title='tid_ampdu_rx::session_timer' data-ref="tid_ampdu_rx::session_timer" data-ref-filename="tid_ampdu_rx..session_timer">session_timer</a>);</td></tr>
<tr><th id="155">155</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col6 decl" id="3686sta" title='sta' data-type='struct sta_info *' data-ref="3686sta" data-ref-filename="3686sta">sta</dfn> = <a class="local col5 ref" href="#3685tid_rx" title='tid_rx' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::sta" title='tid_ampdu_rx::sta' data-ref="tid_ampdu_rx::sta" data-ref-filename="tid_ampdu_rx..sta">sta</a>;</td></tr>
<tr><th id="156">156</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> <dfn class="local col7 decl" id="3687tid" title='tid' data-type='u8' data-ref="3687tid" data-ref-filename="3687tid">tid</dfn> = <a class="local col5 ref" href="#3685tid_rx" title='tid_rx' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::tid" title='tid_ampdu_rx::tid' data-ref="tid_ampdu_rx::tid" data-ref-filename="tid_ampdu_rx..tid">tid</a>;</td></tr>
<tr><th id="157">157</th><td>	<em>unsigned</em> <em>long</em> <dfn class="local col8 decl" id="3688timeout" title='timeout' data-type='unsigned long' data-ref="3688timeout" data-ref-filename="3688timeout">timeout</dfn>;</td></tr>
<tr><th id="158">158</th><td></td></tr>
<tr><th id="159">159</th><td>	<a class="local col8 ref" href="#3688timeout" title='timeout' data-ref="3688timeout" data-ref-filename="3688timeout">timeout</a> = <a class="local col5 ref" href="#3685tid_rx" title='tid_rx' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::last_rx" title='tid_ampdu_rx::last_rx' data-ref="tid_ampdu_rx::last_rx" data-ref-filename="tid_ampdu_rx..last_rx">last_rx</a> + <a class="macro" href="../../include/linux/ieee80211.h.html#3253" title="(usecs_to_jiffies((tid_rx-&gt;timeout) * 1024))" data-ref="_M/TU_TO_JIFFIES">TU_TO_JIFFIES</a>(<a class="local col5 ref" href="#3685tid_rx" title='tid_rx' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::timeout" title='tid_ampdu_rx::timeout' data-ref="tid_ampdu_rx::timeout" data-ref-filename="tid_ampdu_rx..timeout">timeout</a>);</td></tr>
<tr><th id="160">160</th><td>	<b>if</b> (<a class="macro" href="../../include/linux/jiffies.h.html#159" title="(({ unsigned long __dummy; typeof(timeout) __dummy2; (void)(&amp;__dummy == &amp;__dummy2); 1; }) &amp;&amp; ({ unsigned long __dummy; typeof(jiffies) __dummy2; (void)(&amp;__dummy == &amp;__dummy2); 1; }) &amp;&amp; ((long)((jiffies) - (timeout)) &lt; 0))" data-ref="_M/time_is_after_jiffies">time_is_after_jiffies</a>(<a class="local col8 ref" href="#3688timeout" title='timeout' data-ref="3688timeout" data-ref-filename="3688timeout">timeout</a>)) {</td></tr>
<tr><th id="161">161</th><td>		<a class="ref fn" href="../../include/linux/timer.h.html#mod_timer" title='mod_timer' data-ref="mod_timer" data-ref-filename="mod_timer">mod_timer</a>(&amp;<a class="local col5 ref" href="#3685tid_rx" title='tid_rx' data-ref="3685tid_rx" data-ref-filename="3685tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::session_timer" title='tid_ampdu_rx::session_timer' data-ref="tid_ampdu_rx::session_timer" data-ref-filename="tid_ampdu_rx..session_timer">session_timer</a>, <a class="local col8 ref" href="#3688timeout" title='timeout' data-ref="3688timeout" data-ref-filename="3688timeout">timeout</a>);</td></tr>
<tr><th id="162">162</th><td>		<b>return</b>;</td></tr>
<tr><th id="163">163</th><td>	}</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td>	<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;RX session timer expired on %pM tid %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col6 ref" href="#3686sta" title='sta' data-ref="3686sta" data-ref-filename="3686sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, <q>"RX session timer expired on %pM tid %d\n"</q>,</td></tr>
<tr><th id="166">166</th><td>	       <a class="local col6 ref" href="#3686sta" title='sta' data-ref="3686sta" data-ref-filename="3686sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col7 ref" href="#3687tid" title='tid' data-ref="3687tid" data-ref-filename="3687tid">tid</a>);</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td>	<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#set_bit" title='set_bit' data-ref="set_bit" data-ref-filename="set_bit">set_bit</a>(<a class="local col7 ref" href="#3687tid" title='tid' data-ref="3687tid" data-ref-filename="3687tid">tid</a>, <a class="local col6 ref" href="#3686sta" title='sta' data-ref="3686sta" data-ref-filename="3686sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx_timer_expired" title='sta_ampdu_mlme::tid_rx_timer_expired' data-ref="sta_ampdu_mlme::tid_rx_timer_expired" data-ref-filename="sta_ampdu_mlme..tid_rx_timer_expired">tid_rx_timer_expired</a>);</td></tr>
<tr><th id="169">169</th><td>	<a class="ref fn" href="../../include/net/mac80211.h.html#ieee80211_queue_work" title='ieee80211_queue_work' data-ref="ieee80211_queue_work" data-ref-filename="ieee80211_queue_work">ieee80211_queue_work</a>(&amp;<a class="local col6 ref" href="#3686sta" title='sta' data-ref="3686sta" data-ref-filename="3686sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::local" title='sta_info::local' data-ref="sta_info::local" data-ref-filename="sta_info..local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>, &amp;<a class="local col6 ref" href="#3686sta" title='sta' data-ref="3686sta" data-ref-filename="3686sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::work" title='sta_ampdu_mlme::work' data-ref="sta_ampdu_mlme::work" data-ref-filename="sta_ampdu_mlme..work">work</a>);</td></tr>
<tr><th id="170">170</th><td>}</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="sta_rx_agg_reorder_timer_expired" title='sta_rx_agg_reorder_timer_expired' data-type='void sta_rx_agg_reorder_timer_expired(struct timer_list * t)' data-ref="sta_rx_agg_reorder_timer_expired" data-ref-filename="sta_rx_agg_reorder_timer_expired">sta_rx_agg_reorder_timer_expired</dfn>(<b>struct</b> <a class="type" href="../../include/linux/timer.h.html#timer_list" title='timer_list' data-ref="timer_list" data-ref-filename="timer_list">timer_list</a> *<dfn class="local col9 decl" id="3689t" title='t' data-type='struct timer_list *' data-ref="3689t" data-ref-filename="3689t">t</dfn>)</td></tr>
<tr><th id="173">173</th><td>{</td></tr>
<tr><th id="174">174</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a> *<dfn class="local col0 decl" id="3690tid_rx" title='tid_rx' data-type='struct tid_ampdu_rx *' data-ref="3690tid_rx" data-ref-filename="3690tid_rx">tid_rx</dfn> = <a class="macro" href="../../include/linux/timer.h.html#152" title="({ void *__mptr = (void *)(t); do { extern void __compiletime_assert_174(void) ; if (!(!(!__builtin_types_compatible_p(typeof(*(t)), typeof(((typeof(*tid_rx) *)0)-&gt;reorder_timer)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(t)), typeof(void))))) __compiletime_assert_174(); } while (0); ((typeof(*tid_rx) *)(__mptr - __builtin_offsetof(typeof(*tid_rx), reorder_timer))); })" data-ref="_M/from_timer">from_timer</a>(<a class="local col0 ref" href="#3690tid_rx" title='tid_rx' data-ref="3690tid_rx" data-ref-filename="3690tid_rx">tid_rx</a>, <a class="local col9 ref" href="#3689t" title='t' data-ref="3689t" data-ref-filename="3689t">t</a>, <a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_timer" title='tid_ampdu_rx::reorder_timer' data-ref="tid_ampdu_rx::reorder_timer" data-ref-filename="tid_ampdu_rx..reorder_timer">reorder_timer</a>);</td></tr>
<tr><th id="175">175</th><td></td></tr>
<tr><th id="176">176</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_lock" title='rcu_read_lock' data-ref="rcu_read_lock" data-ref-filename="rcu_read_lock">rcu_read_lock</a>();</td></tr>
<tr><th id="177">177</th><td>	<a class="ref fn" href="ieee80211_i.h.html#ieee80211_release_reorder_timeout" title='ieee80211_release_reorder_timeout' data-ref="ieee80211_release_reorder_timeout" data-ref-filename="ieee80211_release_reorder_timeout">ieee80211_release_reorder_timeout</a>(<a class="local col0 ref" href="#3690tid_rx" title='tid_rx' data-ref="3690tid_rx" data-ref-filename="3690tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::sta" title='tid_ampdu_rx::sta' data-ref="tid_ampdu_rx::sta" data-ref-filename="tid_ampdu_rx..sta">sta</a>, <a class="local col0 ref" href="#3690tid_rx" title='tid_rx' data-ref="3690tid_rx" data-ref-filename="3690tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::tid" title='tid_ampdu_rx::tid' data-ref="tid_ampdu_rx::tid" data-ref-filename="tid_ampdu_rx..tid">tid</a>);</td></tr>
<tr><th id="178">178</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_unlock" title='rcu_read_unlock' data-ref="rcu_read_unlock" data-ref-filename="rcu_read_unlock">rcu_read_unlock</a>();</td></tr>
<tr><th id="179">179</th><td>}</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ieee80211_send_addba_resp" title='ieee80211_send_addba_resp' data-type='void ieee80211_send_addba_resp(struct ieee80211_sub_if_data * sdata, u8 * da, u16 tid, u8 dialog_token, u16 status, u16 policy, u16 buf_size, u16 timeout)' data-ref="ieee80211_send_addba_resp" data-ref-filename="ieee80211_send_addba_resp">ieee80211_send_addba_resp</dfn>(<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_sub_if_data" title='ieee80211_sub_if_data' data-ref="ieee80211_sub_if_data" data-ref-filename="ieee80211_sub_if_data">ieee80211_sub_if_data</a> *<dfn class="local col1 decl" id="3691sdata" title='sdata' data-type='struct ieee80211_sub_if_data *' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> *<dfn class="local col2 decl" id="3692da" title='da' data-type='u8 *' data-ref="3692da" data-ref-filename="3692da">da</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col3 decl" id="3693tid" title='tid' data-type='u16' data-ref="3693tid" data-ref-filename="3693tid">tid</dfn>,</td></tr>
<tr><th id="182">182</th><td>				      <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> <dfn class="local col4 decl" id="3694dialog_token" title='dialog_token' data-type='u8' data-ref="3694dialog_token" data-ref-filename="3694dialog_token">dialog_token</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col5 decl" id="3695status" title='status' data-type='u16' data-ref="3695status" data-ref-filename="3695status">status</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col6 decl" id="3696policy" title='policy' data-type='u16' data-ref="3696policy" data-ref-filename="3696policy">policy</dfn>,</td></tr>
<tr><th id="183">183</th><td>				      <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col7 decl" id="3697buf_size" title='buf_size' data-type='u16' data-ref="3697buf_size" data-ref-filename="3697buf_size">buf_size</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col8 decl" id="3698timeout" title='timeout' data-type='u16' data-ref="3698timeout" data-ref-filename="3698timeout">timeout</dfn>)</td></tr>
<tr><th id="184">184</th><td>{</td></tr>
<tr><th id="185">185</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_local" title='ieee80211_local' data-ref="ieee80211_local" data-ref-filename="ieee80211_local">ieee80211_local</a> *<dfn class="local col9 decl" id="3699local" title='local' data-type='struct ieee80211_local *' data-ref="3699local" data-ref-filename="3699local">local</dfn> = <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::local" title='ieee80211_sub_if_data::local' data-ref="ieee80211_sub_if_data::local" data-ref-filename="ieee80211_sub_if_data..local">local</a>;</td></tr>
<tr><th id="186">186</th><td>	<b>struct</b> <a class="type" href="../../include/linux/skbuff.h.html#sk_buff" title='sk_buff' data-ref="sk_buff" data-ref-filename="sk_buff">sk_buff</a> *<dfn class="local col0 decl" id="3700skb" title='skb' data-type='struct sk_buff *' data-ref="3700skb" data-ref-filename="3700skb">skb</dfn>;</td></tr>
<tr><th id="187">187</th><td>	<b>struct</b> <a class="type" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt" title='ieee80211_mgmt' data-ref="ieee80211_mgmt" data-ref-filename="ieee80211_mgmt">ieee80211_mgmt</a> *<dfn class="local col1 decl" id="3701mgmt" title='mgmt' data-type='struct ieee80211_mgmt *' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</dfn>;</td></tr>
<tr><th id="188">188</th><td>	<a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col2 decl" id="3702amsdu" title='amsdu' data-type='bool' data-ref="3702amsdu" data-ref-filename="3702amsdu">amsdu</dfn> = <a class="macro" href="../../include/net/mac80211.h.html#2501" title="_ieee80211_hw_check(&amp;local-&gt;hw, IEEE80211_HW_SUPPORTS_AMSDU_IN_AMPDU)" data-ref="_M/ieee80211_hw_check">ieee80211_hw_check</a>(&amp;<a class="local col9 ref" href="#3699local" title='local' data-ref="3699local" data-ref-filename="3699local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>, SUPPORTS_AMSDU_IN_AMPDU);</td></tr>
<tr><th id="189">189</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col3 decl" id="3703capab" title='capab' data-type='u16' data-ref="3703capab" data-ref-filename="3703capab">capab</dfn>;</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>	<a class="local col0 ref" href="#3700skb" title='skb' data-ref="3700skb" data-ref-filename="3700skb">skb</a> = <a class="ref fn" href="../../include/linux/skbuff.h.html#dev_alloc_skb" title='dev_alloc_skb' data-ref="dev_alloc_skb" data-ref-filename="dev_alloc_skb">dev_alloc_skb</a>(<b>sizeof</b>(*<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>) + <a class="local col9 ref" href="#3699local" title='local' data-ref="3699local" data-ref-filename="3699local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_hw::extra_tx_headroom" title='ieee80211_hw::extra_tx_headroom' data-ref="ieee80211_hw::extra_tx_headroom" data-ref-filename="ieee80211_hw..extra_tx_headroom">extra_tx_headroom</a>);</td></tr>
<tr><th id="192">192</th><td>	<b>if</b> (!<a class="local col0 ref" href="#3700skb" title='skb' data-ref="3700skb" data-ref-filename="3700skb">skb</a>)</td></tr>
<tr><th id="193">193</th><td>		<b>return</b>;</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td>	<a class="ref fn" href="../../include/linux/skbuff.h.html#skb_reserve" title='skb_reserve' data-ref="skb_reserve" data-ref-filename="skb_reserve">skb_reserve</a>(<a class="local col0 ref" href="#3700skb" title='skb' data-ref="3700skb" data-ref-filename="3700skb">skb</a>, <a class="local col9 ref" href="#3699local" title='local' data-ref="3699local" data-ref-filename="3699local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_hw::extra_tx_headroom" title='ieee80211_hw::extra_tx_headroom' data-ref="ieee80211_hw::extra_tx_headroom" data-ref-filename="ieee80211_hw..extra_tx_headroom">extra_tx_headroom</a>);</td></tr>
<tr><th id="196">196</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a> = <a class="ref fn" href="../../include/linux/skbuff.h.html#skb_put_zero" title='skb_put_zero' data-ref="skb_put_zero" data-ref-filename="skb_put_zero">skb_put_zero</a>(<a class="local col0 ref" href="#3700skb" title='skb' data-ref="3700skb" data-ref-filename="3700skb">skb</a>, <var>24</var>);</td></tr>
<tr><th id="197">197</th><td>	<a class="ref fn" href="../../arch/x86/include/asm/string_64.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::da" title='ieee80211_mgmt::da' data-ref="ieee80211_mgmt::da" data-ref-filename="ieee80211_mgmt..da">da</a>, <a class="local col2 ref" href="#3692da" title='da' data-ref="3692da" data-ref-filename="3692da">da</a>, <a class="macro" href="../../include/uapi/linux/if_ether.h.html#32" title="6" data-ref="_M/ETH_ALEN">ETH_ALEN</a>);</td></tr>
<tr><th id="198">198</th><td>	<a class="ref fn" href="../../arch/x86/include/asm/string_64.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::sa" title='ieee80211_mgmt::sa' data-ref="ieee80211_mgmt::sa" data-ref-filename="ieee80211_mgmt..sa">sa</a>, <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::addr" title='ieee80211_vif::addr' data-ref="ieee80211_vif::addr" data-ref-filename="ieee80211_vif..addr">addr</a>, <a class="macro" href="../../include/uapi/linux/if_ether.h.html#32" title="6" data-ref="_M/ETH_ALEN">ETH_ALEN</a>);</td></tr>
<tr><th id="199">199</th><td>	<b>if</b> (<a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::type" title='ieee80211_vif::type' data-ref="ieee80211_vif::type" data-ref-filename="ieee80211_vif..type">type</a> == <a class="enum" href="../../include/uapi/linux/nl80211.h.html#NL80211_IFTYPE_AP" title='NL80211_IFTYPE_AP' data-ref="NL80211_IFTYPE_AP" data-ref-filename="NL80211_IFTYPE_AP">NL80211_IFTYPE_AP</a> ||</td></tr>
<tr><th id="200">200</th><td>	    <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::type" title='ieee80211_vif::type' data-ref="ieee80211_vif::type" data-ref-filename="ieee80211_vif..type">type</a> == <a class="enum" href="../../include/uapi/linux/nl80211.h.html#NL80211_IFTYPE_AP_VLAN" title='NL80211_IFTYPE_AP_VLAN' data-ref="NL80211_IFTYPE_AP_VLAN" data-ref-filename="NL80211_IFTYPE_AP_VLAN">NL80211_IFTYPE_AP_VLAN</a> ||</td></tr>
<tr><th id="201">201</th><td>	    <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::type" title='ieee80211_vif::type' data-ref="ieee80211_vif::type" data-ref-filename="ieee80211_vif..type">type</a> == <a class="enum" href="../../include/uapi/linux/nl80211.h.html#NL80211_IFTYPE_MESH_POINT" title='NL80211_IFTYPE_MESH_POINT' data-ref="NL80211_IFTYPE_MESH_POINT" data-ref-filename="NL80211_IFTYPE_MESH_POINT">NL80211_IFTYPE_MESH_POINT</a>)</td></tr>
<tr><th id="202">202</th><td>		<a class="ref fn" href="../../arch/x86/include/asm/string_64.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::bssid" title='ieee80211_mgmt::bssid' data-ref="ieee80211_mgmt::bssid" data-ref-filename="ieee80211_mgmt..bssid">bssid</a>, <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::addr" title='ieee80211_vif::addr' data-ref="ieee80211_vif::addr" data-ref-filename="ieee80211_vif..addr">addr</a>, <a class="macro" href="../../include/uapi/linux/if_ether.h.html#32" title="6" data-ref="_M/ETH_ALEN">ETH_ALEN</a>);</td></tr>
<tr><th id="203">203</th><td>	<b>else</b> <b>if</b> (<a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::type" title='ieee80211_vif::type' data-ref="ieee80211_vif::type" data-ref-filename="ieee80211_vif..type">type</a> == <a class="enum" href="../../include/uapi/linux/nl80211.h.html#NL80211_IFTYPE_STATION" title='NL80211_IFTYPE_STATION' data-ref="NL80211_IFTYPE_STATION" data-ref-filename="NL80211_IFTYPE_STATION">NL80211_IFTYPE_STATION</a>)</td></tr>
<tr><th id="204">204</th><td>		<a class="ref fn" href="../../arch/x86/include/asm/string_64.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::bssid" title='ieee80211_mgmt::bssid' data-ref="ieee80211_mgmt::bssid" data-ref-filename="ieee80211_mgmt..bssid">bssid</a>, <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::u" title='ieee80211_sub_if_data::u' data-ref="ieee80211_sub_if_data::u" data-ref-filename="ieee80211_sub_if_data..u">u</a>.<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::(anonymous)::mgd" title='ieee80211_sub_if_data::(anonymous union)::mgd' data-ref="ieee80211_sub_if_data::(anonymous)::mgd" data-ref-filename="ieee80211_sub_if_data..(anonymous)..mgd">mgd</a>.<a class="ref field" href="ieee80211_i.h.html#ieee80211_if_managed::bssid" title='ieee80211_if_managed::bssid' data-ref="ieee80211_if_managed::bssid" data-ref-filename="ieee80211_if_managed..bssid">bssid</a>, <a class="macro" href="../../include/uapi/linux/if_ether.h.html#32" title="6" data-ref="_M/ETH_ALEN">ETH_ALEN</a>);</td></tr>
<tr><th id="205">205</th><td>	<b>else</b> <b>if</b> (<a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::vif" title='ieee80211_sub_if_data::vif' data-ref="ieee80211_sub_if_data::vif" data-ref-filename="ieee80211_sub_if_data..vif">vif</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_vif::type" title='ieee80211_vif::type' data-ref="ieee80211_vif::type" data-ref-filename="ieee80211_vif..type">type</a> == <a class="enum" href="../../include/uapi/linux/nl80211.h.html#NL80211_IFTYPE_ADHOC" title='NL80211_IFTYPE_ADHOC' data-ref="NL80211_IFTYPE_ADHOC" data-ref-filename="NL80211_IFTYPE_ADHOC">NL80211_IFTYPE_ADHOC</a>)</td></tr>
<tr><th id="206">206</th><td>		<a class="ref fn" href="../../arch/x86/include/asm/string_64.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::bssid" title='ieee80211_mgmt::bssid' data-ref="ieee80211_mgmt::bssid" data-ref-filename="ieee80211_mgmt..bssid">bssid</a>, <a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::u" title='ieee80211_sub_if_data::u' data-ref="ieee80211_sub_if_data::u" data-ref-filename="ieee80211_sub_if_data..u">u</a>.<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::(anonymous)::ibss" title='ieee80211_sub_if_data::(anonymous union)::ibss' data-ref="ieee80211_sub_if_data::(anonymous)::ibss" data-ref-filename="ieee80211_sub_if_data..(anonymous)..ibss">ibss</a>.<a class="ref field" href="ieee80211_i.h.html#ieee80211_if_ibss::bssid" title='ieee80211_if_ibss::bssid' data-ref="ieee80211_if_ibss::bssid" data-ref-filename="ieee80211_if_ibss..bssid">bssid</a>, <a class="macro" href="../../include/uapi/linux/if_ether.h.html#32" title="6" data-ref="_M/ETH_ALEN">ETH_ALEN</a>);</td></tr>
<tr><th id="207">207</th><td></td></tr>
<tr><th id="208">208</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::frame_control" title='ieee80211_mgmt::frame_control' data-ref="ieee80211_mgmt::frame_control" data-ref-filename="ieee80211_mgmt..frame_control">frame_control</a> = <a class="macro" href="../../include/linux/byteorder/generic.h.html#90" title="__cpu_to_le16" data-ref="_M/cpu_to_le16">cpu_to_le16</a>(<a class="macro" href="../../include/linux/ieee80211.h.html#58" title="0x0000" data-ref="_M/IEEE80211_FTYPE_MGMT">IEEE80211_FTYPE_MGMT</a> |</td></tr>
<tr><th id="209">209</th><td>					  <a class="macro" href="../../include/linux/ieee80211.h.html#75" title="0x00D0" data-ref="_M/IEEE80211_STYPE_ACTION">IEEE80211_STYPE_ACTION</a>);</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td>	<a class="ref fn" href="../../include/linux/skbuff.h.html#skb_put" title='skb_put' data-ref="skb_put" data-ref-filename="skb_put">skb_put</a>(<a class="local col0 ref" href="#3700skb" title='skb' data-ref="3700skb" data-ref-filename="3700skb">skb</a>, <var>1</var> + <b>sizeof</b>(<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_resp' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_resp">addba_resp</a>));</td></tr>
<tr><th id="212">212</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::category" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::category' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::category" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..category">category</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_CATEGORY_BACK" title='WLAN_CATEGORY_BACK' data-ref="WLAN_CATEGORY_BACK" data-ref-filename="WLAN_CATEGORY_BACK">WLAN_CATEGORY_BACK</a>;</td></tr>
<tr><th id="213">213</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_resp' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_resp">addba_resp</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::action_code" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::action_code' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::action_code" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..action_code">action_code</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_ACTION_ADDBA_RESP" title='WLAN_ACTION_ADDBA_RESP' data-ref="WLAN_ACTION_ADDBA_RESP" data-ref-filename="WLAN_ACTION_ADDBA_RESP">WLAN_ACTION_ADDBA_RESP</a>;</td></tr>
<tr><th id="214">214</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_resp' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_resp">addba_resp</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::dialog_token" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::dialog_token' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::dialog_token" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..dialog_token">dialog_token</a> = <a class="local col4 ref" href="#3694dialog_token" title='dialog_token' data-ref="3694dialog_token" data-ref-filename="3694dialog_token">dialog_token</a>;</td></tr>
<tr><th id="215">215</th><td></td></tr>
<tr><th id="216">216</th><td>	<a class="local col3 ref" href="#3703capab" title='capab' data-ref="3703capab" data-ref-filename="3703capab">capab</a> = (<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a>)(<a class="local col2 ref" href="#3702amsdu" title='amsdu' data-ref="3702amsdu" data-ref-filename="3702amsdu">amsdu</a> &lt;&lt; <var>0</var>);	<i>/* bit 0 A-MSDU support */</i></td></tr>
<tr><th id="217">217</th><td>	<a class="local col3 ref" href="#3703capab" title='capab' data-ref="3703capab" data-ref-filename="3703capab">capab</a> |= (<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a>)(<a class="local col6 ref" href="#3696policy" title='policy' data-ref="3696policy" data-ref-filename="3696policy">policy</a> &lt;&lt; <var>1</var>);	<i>/* bit 1 aggregation policy */</i></td></tr>
<tr><th id="218">218</th><td>	<a class="local col3 ref" href="#3703capab" title='capab' data-ref="3703capab" data-ref-filename="3703capab">capab</a> |= (<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a>)(<a class="local col3 ref" href="#3693tid" title='tid' data-ref="3693tid" data-ref-filename="3693tid">tid</a> &lt;&lt; <var>2</var>); 	<i>/* bit 5:2 TID number */</i></td></tr>
<tr><th id="219">219</th><td>	<a class="local col3 ref" href="#3703capab" title='capab' data-ref="3703capab" data-ref-filename="3703capab">capab</a> |= (<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a>)(<a class="local col7 ref" href="#3697buf_size" title='buf_size' data-ref="3697buf_size" data-ref-filename="3697buf_size">buf_size</a> &lt;&lt; <var>6</var>);	<i>/* bit 15:6 max size of aggregation */</i></td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_resp' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_resp">addba_resp</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::capab" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::capab' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::capab" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..capab">capab</a> = <a class="macro" href="../../include/linux/byteorder/generic.h.html#90" title="__cpu_to_le16" data-ref="_M/cpu_to_le16">cpu_to_le16</a>(<a class="local col3 ref" href="#3703capab" title='capab' data-ref="3703capab" data-ref-filename="3703capab">capab</a>);</td></tr>
<tr><th id="222">222</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_resp' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_resp">addba_resp</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::timeout" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::timeout' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::timeout" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..timeout">timeout</a> = <a class="macro" href="../../include/linux/byteorder/generic.h.html#90" title="__cpu_to_le16" data-ref="_M/cpu_to_le16">cpu_to_le16</a>(<a class="local col8 ref" href="#3698timeout" title='timeout' data-ref="3698timeout" data-ref-filename="3698timeout">timeout</a>);</td></tr>
<tr><th id="223">223</th><td>	<a class="local col1 ref" href="#3701mgmt" title='mgmt' data-ref="3701mgmt" data-ref-filename="3701mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_resp' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_resp" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_resp">addba_resp</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::status" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::status' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::status" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..status">status</a> = <a class="macro" href="../../include/linux/byteorder/generic.h.html#90" title="__cpu_to_le16" data-ref="_M/cpu_to_le16">cpu_to_le16</a>(<a class="local col5 ref" href="#3695status" title='status' data-ref="3695status" data-ref-filename="3695status">status</a>);</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>	<a class="ref fn" href="ieee80211_i.h.html#ieee80211_tx_skb" title='ieee80211_tx_skb' data-ref="ieee80211_tx_skb" data-ref-filename="ieee80211_tx_skb">ieee80211_tx_skb</a>(<a class="local col1 ref" href="#3691sdata" title='sdata' data-ref="3691sdata" data-ref-filename="3691sdata">sdata</a>, <a class="local col0 ref" href="#3700skb" title='skb' data-ref="3700skb" data-ref-filename="3700skb">skb</a>);</td></tr>
<tr><th id="226">226</th><td>}</td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td><em>void</em> <dfn class="decl def fn" id="___ieee80211_start_rx_ba_session" title='___ieee80211_start_rx_ba_session' data-ref="___ieee80211_start_rx_ba_session" data-ref-filename="___ieee80211_start_rx_ba_session">___ieee80211_start_rx_ba_session</dfn>(<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col4 decl" id="3704sta" title='sta' data-type='struct sta_info *' data-ref="3704sta" data-ref-filename="3704sta">sta</dfn>,</td></tr>
<tr><th id="229">229</th><td>				      <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> <dfn class="local col5 decl" id="3705dialog_token" title='dialog_token' data-type='u8' data-ref="3705dialog_token" data-ref-filename="3705dialog_token">dialog_token</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col6 decl" id="3706timeout" title='timeout' data-type='u16' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</dfn>,</td></tr>
<tr><th id="230">230</th><td>				      <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col7 decl" id="3707start_seq_num" title='start_seq_num' data-type='u16' data-ref="3707start_seq_num" data-ref-filename="3707start_seq_num">start_seq_num</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col8 decl" id="3708ba_policy" title='ba_policy' data-type='u16' data-ref="3708ba_policy" data-ref-filename="3708ba_policy">ba_policy</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col9 decl" id="3709tid" title='tid' data-type='u16' data-ref="3709tid" data-ref-filename="3709tid">tid</dfn>,</td></tr>
<tr><th id="231">231</th><td>				      <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col0 decl" id="3710buf_size" title='buf_size' data-type='u16' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</dfn>, <a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col1 decl" id="3711tx" title='tx' data-type='bool' data-ref="3711tx" data-ref-filename="3711tx">tx</dfn>, <a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col2 decl" id="3712auto_seq" title='auto_seq' data-type='bool' data-ref="3712auto_seq" data-ref-filename="3712auto_seq">auto_seq</dfn>)</td></tr>
<tr><th id="232">232</th><td>{</td></tr>
<tr><th id="233">233</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_local" title='ieee80211_local' data-ref="ieee80211_local" data-ref-filename="ieee80211_local">ieee80211_local</a> *<dfn class="local col3 decl" id="3713local" title='local' data-type='struct ieee80211_local *' data-ref="3713local" data-ref-filename="3713local">local</dfn> = <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::local" title='ieee80211_sub_if_data::local' data-ref="ieee80211_sub_if_data::local" data-ref-filename="ieee80211_sub_if_data..local">local</a>;</td></tr>
<tr><th id="234">234</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a> *<dfn class="local col4 decl" id="3714tid_agg_rx" title='tid_agg_rx' data-type='struct tid_ampdu_rx *' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</dfn>;</td></tr>
<tr><th id="235">235</th><td>	<b>struct</b> <a class="type" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params" title='ieee80211_ampdu_params' data-ref="ieee80211_ampdu_params" data-ref-filename="ieee80211_ampdu_params">ieee80211_ampdu_params</a> <dfn class="local col5 decl" id="3715params" title='params' data-type='struct ieee80211_ampdu_params' data-ref="3715params" data-ref-filename="3715params">params</dfn> = {</td></tr>
<tr><th id="236">236</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::sta" title='ieee80211_ampdu_params::sta' data-ref="ieee80211_ampdu_params::sta" data-ref-filename="ieee80211_ampdu_params..sta">sta</a> = &amp;<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>,</td></tr>
<tr><th id="237">237</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::action" title='ieee80211_ampdu_params::action' data-ref="ieee80211_ampdu_params::action" data-ref-filename="ieee80211_ampdu_params..action">action</a> = <a class="enum" href="../../include/net/mac80211.h.html#IEEE80211_AMPDU_RX_START" title='IEEE80211_AMPDU_RX_START' data-ref="IEEE80211_AMPDU_RX_START" data-ref-filename="IEEE80211_AMPDU_RX_START">IEEE80211_AMPDU_RX_START</a>,</td></tr>
<tr><th id="238">238</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::tid" title='ieee80211_ampdu_params::tid' data-ref="ieee80211_ampdu_params::tid" data-ref-filename="ieee80211_ampdu_params..tid">tid</a> = <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>,</td></tr>
<tr><th id="239">239</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::amsdu" title='ieee80211_ampdu_params::amsdu' data-ref="ieee80211_ampdu_params::amsdu" data-ref-filename="ieee80211_ampdu_params..amsdu">amsdu</a> = <a class="enum" href="../../include/linux/stddef.h.html#false" title='false' data-ref="false" data-ref-filename="false">false</a>,</td></tr>
<tr><th id="240">240</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::timeout" title='ieee80211_ampdu_params::timeout' data-ref="ieee80211_ampdu_params::timeout" data-ref-filename="ieee80211_ampdu_params..timeout">timeout</a> = <a class="local col6 ref" href="#3706timeout" title='timeout' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</a>,</td></tr>
<tr><th id="241">241</th><td>		.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::ssn" title='ieee80211_ampdu_params::ssn' data-ref="ieee80211_ampdu_params::ssn" data-ref-filename="ieee80211_ampdu_params..ssn">ssn</a> = <a class="local col7 ref" href="#3707start_seq_num" title='start_seq_num' data-ref="3707start_seq_num" data-ref-filename="3707start_seq_num">start_seq_num</a>,</td></tr>
<tr><th id="242">242</th><td>	};</td></tr>
<tr><th id="243">243</th><td>	<em>int</em> <dfn class="local col6 decl" id="3716i" title='i' data-type='int' data-ref="3716i" data-ref-filename="3716i">i</dfn>, <dfn class="local col7 decl" id="3717ret" title='ret' data-type='int' data-ref="3717ret" data-ref-filename="3717ret">ret</dfn> = -<a class="macro" href="../../include/uapi/asm-generic/errno.h.html#78" title="95" data-ref="_M/EOPNOTSUPP">EOPNOTSUPP</a>;</td></tr>
<tr><th id="244">244</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col8 decl" id="3718status" title='status' data-type='u16' data-ref="3718status" data-ref-filename="3718status">status</dfn> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_REQUEST_DECLINED" title='WLAN_STATUS_REQUEST_DECLINED' data-ref="WLAN_STATUS_REQUEST_DECLINED" data-ref-filename="WLAN_STATUS_REQUEST_DECLINED">WLAN_STATUS_REQUEST_DECLINED</a>;</td></tr>
<tr><th id="245">245</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col9 decl" id="3719max_buf_size" title='max_buf_size' data-type='u16' data-ref="3719max_buf_size" data-ref-filename="3719max_buf_size">max_buf_size</dfn>;</td></tr>
<tr><th id="246">246</th><td></td></tr>
<tr><th id="247">247</th><td>	<b>if</b> (<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a> &gt;= <a class="macro" href="../../include/linux/ieee80211.h.html#181" title="8" data-ref="_M/IEEE80211_FIRST_TSPEC_TSID">IEEE80211_FIRST_TSPEC_TSID</a>) {</td></tr>
<tr><th id="248">248</th><td>		<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;STA %pM requests BA session on unsupported tid %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="249">249</th><td>		       <q>"STA %pM requests BA session on unsupported tid %d\n"</q>,</td></tr>
<tr><th id="250">250</th><td>		       <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>);</td></tr>
<tr><th id="251">251</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="252">252</th><td>	}</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td>	<b>if</b> (!<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::ht_cap" title='ieee80211_sta::ht_cap' data-ref="ieee80211_sta::ht_cap" data-ref-filename="ieee80211_sta..ht_cap">ht_cap</a>.<a class="ref field" href="../../include/net/cfg80211.h.html#ieee80211_sta_ht_cap::ht_supported" title='ieee80211_sta_ht_cap::ht_supported' data-ref="ieee80211_sta_ht_cap::ht_supported" data-ref-filename="ieee80211_sta_ht_cap..ht_supported">ht_supported</a>) {</td></tr>
<tr><th id="255">255</th><td>		<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;STA %pM erroneously requests BA session on tid %d w/o QoS\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="256">256</th><td>		       <q>"STA %pM erroneously requests BA session on tid %d w/o QoS\n"</q>,</td></tr>
<tr><th id="257">257</th><td>		       <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>);</td></tr>
<tr><th id="258">258</th><td>		<i>/* send a response anyway, it's an error case if we get here */</i></td></tr>
<tr><th id="259">259</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="260">260</th><td>	}</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>	<b>if</b> (<a class="ref fn" href="sta_info.h.html#test_sta_flag" title='test_sta_flag' data-ref="test_sta_flag" data-ref-filename="test_sta_flag">test_sta_flag</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>, <a class="enum" href="sta_info.h.html#WLAN_STA_BLOCK_BA" title='WLAN_STA_BLOCK_BA' data-ref="WLAN_STA_BLOCK_BA" data-ref-filename="WLAN_STA_BLOCK_BA">WLAN_STA_BLOCK_BA</a>)) {</td></tr>
<tr><th id="263">263</th><td>		<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;Suspend in progress - Denying ADDBA request (%pM tid %d)\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="264">264</th><td>		       <q>"Suspend in progress - Denying ADDBA request (%pM tid %d)\n"</q>,</td></tr>
<tr><th id="265">265</th><td>		       <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>);</td></tr>
<tr><th id="266">266</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="267">267</th><td>	}</td></tr>
<tr><th id="268">268</th><td></td></tr>
<tr><th id="269">269</th><td>	<b>if</b> (<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::he_cap" title='ieee80211_sta::he_cap' data-ref="ieee80211_sta::he_cap" data-ref-filename="ieee80211_sta..he_cap">he_cap</a>.<a class="ref field" href="../../include/net/cfg80211.h.html#ieee80211_sta_he_cap::has_he" title='ieee80211_sta_he_cap::has_he' data-ref="ieee80211_sta_he_cap::has_he" data-ref-filename="ieee80211_sta_he_cap..has_he">has_he</a>)</td></tr>
<tr><th id="270">270</th><td>		<a class="local col9 ref" href="#3719max_buf_size" title='max_buf_size' data-ref="3719max_buf_size" data-ref-filename="3719max_buf_size">max_buf_size</a> = <a class="macro" href="../../include/linux/ieee80211.h.html#1441" title="0x100" data-ref="_M/IEEE80211_MAX_AMPDU_BUF">IEEE80211_MAX_AMPDU_BUF</a>;</td></tr>
<tr><th id="271">271</th><td>	<b>else</b></td></tr>
<tr><th id="272">272</th><td>		<a class="local col9 ref" href="#3719max_buf_size" title='max_buf_size' data-ref="3719max_buf_size" data-ref-filename="3719max_buf_size">max_buf_size</a> = <a class="macro" href="../../include/linux/ieee80211.h.html#1440" title="0x40" data-ref="_M/IEEE80211_MAX_AMPDU_BUF_HT">IEEE80211_MAX_AMPDU_BUF_HT</a>;</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td>	<i>/* sanity check for incoming parameters:</i></td></tr>
<tr><th id="275">275</th><td><i>	 * check if configuration can support the BA policy</i></td></tr>
<tr><th id="276">276</th><td><i>	 * and if buffer size does not exceeds max value */</i></td></tr>
<tr><th id="277">277</th><td>	<i>/* XXX: check own ht delayed BA capability?? */</i></td></tr>
<tr><th id="278">278</th><td>	<b>if</b> (((<a class="local col8 ref" href="#3708ba_policy" title='ba_policy' data-ref="3708ba_policy" data-ref-filename="3708ba_policy">ba_policy</a> != <var>1</var>) &amp;&amp;</td></tr>
<tr><th id="279">279</th><td>	     (!(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::ht_cap" title='ieee80211_sta::ht_cap' data-ref="ieee80211_sta::ht_cap" data-ref-filename="ieee80211_sta..ht_cap">ht_cap</a>.<a class="ref field" href="../../include/net/cfg80211.h.html#ieee80211_sta_ht_cap::cap" title='ieee80211_sta_ht_cap::cap' data-ref="ieee80211_sta_ht_cap::cap" data-ref-filename="ieee80211_sta_ht_cap..cap">cap</a> &amp; <a class="macro" href="../../include/linux/ieee80211.h.html#1323" title="0x0400" data-ref="_M/IEEE80211_HT_CAP_DELAY_BA">IEEE80211_HT_CAP_DELAY_BA</a>))) ||</td></tr>
<tr><th id="280">280</th><td>	    (<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a> &gt; <a class="local col9 ref" href="#3719max_buf_size" title='max_buf_size' data-ref="3719max_buf_size" data-ref-filename="3719max_buf_size">max_buf_size</a>)) {</td></tr>
<tr><th id="281">281</th><td>		<a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_INVALID_QOS_PARAM" title='WLAN_STATUS_INVALID_QOS_PARAM' data-ref="WLAN_STATUS_INVALID_QOS_PARAM" data-ref-filename="WLAN_STATUS_INVALID_QOS_PARAM">WLAN_STATUS_INVALID_QOS_PARAM</a>;</td></tr>
<tr><th id="282">282</th><td>		<a class="macro" href="debug.h.html#137" title="do { if (0 &amp;&amp; net_ratelimit()) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;AddBA Req with bad params from %pM on tid %u. policy %d, buffer size %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid, ba_policy, buf_size); } while (0)" data-ref="_M/ht_dbg_ratelimited">ht_dbg_ratelimited</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="283">283</th><td>				   <q>"AddBA Req with bad params from %pM on tid %u. policy %d, buffer size %d\n"</q>,</td></tr>
<tr><th id="284">284</th><td>				   <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="local col8 ref" href="#3708ba_policy" title='ba_policy' data-ref="3708ba_policy" data-ref-filename="3708ba_policy">ba_policy</a>, <a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>);</td></tr>
<tr><th id="285">285</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="286">286</th><td>	}</td></tr>
<tr><th id="287">287</th><td>	<i>/* determine default buffer size */</i></td></tr>
<tr><th id="288">288</th><td>	<b>if</b> (<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a> == <var>0</var>)</td></tr>
<tr><th id="289">289</th><td>		<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a> = <a class="local col9 ref" href="#3719max_buf_size" title='max_buf_size' data-ref="3719max_buf_size" data-ref-filename="3719max_buf_size">max_buf_size</a>;</td></tr>
<tr><th id="290">290</th><td></td></tr>
<tr><th id="291">291</th><td>	<i>/* make sure the size doesn't exceed the maximum supported by the hw */</i></td></tr>
<tr><th id="292">292</th><td>	<b>if</b> (<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a> &gt; <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::max_rx_aggregation_subframes" title='ieee80211_sta::max_rx_aggregation_subframes' data-ref="ieee80211_sta::max_rx_aggregation_subframes" data-ref-filename="ieee80211_sta..max_rx_aggregation_subframes">max_rx_aggregation_subframes</a>)</td></tr>
<tr><th id="293">293</th><td>		<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a> = <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::max_rx_aggregation_subframes" title='ieee80211_sta::max_rx_aggregation_subframes' data-ref="ieee80211_sta::max_rx_aggregation_subframes" data-ref-filename="ieee80211_sta..max_rx_aggregation_subframes">max_rx_aggregation_subframes</a>;</td></tr>
<tr><th id="294">294</th><td>	<a class="local col5 ref" href="#3715params" title='params' data-ref="3715params" data-ref-filename="3715params">params</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_ampdu_params::buf_size" title='ieee80211_ampdu_params::buf_size' data-ref="ieee80211_ampdu_params::buf_size" data-ref-filename="ieee80211_ampdu_params..buf_size">buf_size</a> = <a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>;</td></tr>
<tr><th id="295">295</th><td></td></tr>
<tr><th id="296">296</th><td>	<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;AddBA Req buf_size=%d for %pM\n&quot;, (sta-&gt;sdata)-&gt;name, buf_size, sta-&gt;sta.addr); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, <q>"AddBA Req buf_size=%d for %pM\n"</q>,</td></tr>
<tr><th id="297">297</th><td>	       <a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>);</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>	<i>/* examine state machine */</i></td></tr>
<tr><th id="300">300</th><td>	<a class="macro" href="../../include/linux/lockdep.h.html#481" title="do { (void)(&amp;sta-&gt;ampdu_mlme.mtx); } while (0)" data-ref="_M/lockdep_assert_held">lockdep_assert_held</a>(&amp;<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::mtx" title='sta_ampdu_mlme::mtx' data-ref="sta_ampdu_mlme::mtx" data-ref-filename="sta_ampdu_mlme..mtx">mtx</a>);</td></tr>
<tr><th id="301">301</th><td></td></tr>
<tr><th id="302">302</th><td>	<b>if</b> (<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#test_bit" title='test_bit' data-ref="test_bit" data-ref-filename="test_bit">test_bit</a>(<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::agg_session_valid" title='sta_ampdu_mlme::agg_session_valid' data-ref="sta_ampdu_mlme::agg_session_valid" data-ref-filename="sta_ampdu_mlme..agg_session_valid">agg_session_valid</a>)) {</td></tr>
<tr><th id="303">303</th><td>		<b>if</b> (<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx_token" title='sta_ampdu_mlme::tid_rx_token' data-ref="sta_ampdu_mlme::tid_rx_token" data-ref-filename="sta_ampdu_mlme..tid_rx_token">tid_rx_token</a>[<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>] == <a class="local col5 ref" href="#3705dialog_token" title='dialog_token' data-ref="3705dialog_token" data-ref-filename="3705dialog_token">dialog_token</a>) {</td></tr>
<tr><th id="304">304</th><td>			<b>struct</b> <a class="type" href="sta_info.h.html#tid_ampdu_rx" title='tid_ampdu_rx' data-ref="tid_ampdu_rx" data-ref-filename="tid_ampdu_rx">tid_ampdu_rx</a> *<dfn class="local col1 decl" id="3721tid_rx" title='tid_rx' data-type='struct tid_ampdu_rx *' data-ref="3721tid_rx" data-ref-filename="3721tid_rx">tid_rx</dfn>;</td></tr>
<tr><th id="305">305</th><td></td></tr>
<tr><th id="306">306</th><td>			<a class="macro" href="debug.h.html#137" title="do { if (0 &amp;&amp; net_ratelimit()) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;updated AddBA Req from %pM on tid %u\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/ht_dbg_ratelimited">ht_dbg_ratelimited</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="307">307</th><td>					   <q>"updated AddBA Req from %pM on tid %u\n"</q>,</td></tr>
<tr><th id="308">308</th><td>					   <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>);</td></tr>
<tr><th id="309">309</th><td>			<i>/* We have no API to update the timeout value in the</i></td></tr>
<tr><th id="310">310</th><td><i>			 * driver so reject the timeout update if the timeout</i></td></tr>
<tr><th id="311">311</th><td><i>			 * changed. If if did not change, i.e., no real update,</i></td></tr>
<tr><th id="312">312</th><td><i>			 * just reply with success.</i></td></tr>
<tr><th id="313">313</th><td><i>			 */</i></td></tr>
<tr><th id="314">314</th><td>			<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_lock" title='rcu_read_lock' data-ref="rcu_read_lock" data-ref-filename="rcu_read_lock">rcu_read_lock</a>();</td></tr>
<tr><th id="315">315</th><td>			<a class="local col1 ref" href="#3721tid_rx" title='tid_rx' data-ref="3721tid_rx" data-ref-filename="3721tid_rx">tid_rx</a> = <a class="macro" href="../../include/linux/rcupdate.h.html#507" title="({ typeof(*(sta-&gt;ampdu_mlme.tid_rx[tid])) *________p1 = (typeof(*(sta-&gt;ampdu_mlme.tid_rx[tid])) *)({ union { typeof((sta-&gt;ampdu_mlme.tid_rx[tid])) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((sta-&gt;ampdu_mlme.tid_rx[tid])), __u.__c, sizeof((sta-&gt;ampdu_mlme.tid_rx[tid]))); else __read_once_size_nocheck(&amp;((sta-&gt;ampdu_mlme.tid_rx[tid])), __u.__c, sizeof((sta-&gt;ampdu_mlme.tid_rx[tid]))); do { } while (0); __u.__val; }); do { } while (0); ; ((typeof(*(sta-&gt;ampdu_mlme.tid_rx[tid])) *)(________p1)); })" data-ref="_M/rcu_dereference">rcu_dereference</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx" title='sta_ampdu_mlme::tid_rx' data-ref="sta_ampdu_mlme::tid_rx" data-ref-filename="sta_ampdu_mlme..tid_rx">tid_rx</a>[<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>]);</td></tr>
<tr><th id="316">316</th><td>			<b>if</b> (<a class="local col1 ref" href="#3721tid_rx" title='tid_rx' data-ref="3721tid_rx" data-ref-filename="3721tid_rx">tid_rx</a> &amp;&amp; <a class="local col1 ref" href="#3721tid_rx" title='tid_rx' data-ref="3721tid_rx" data-ref-filename="3721tid_rx">tid_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::timeout" title='tid_ampdu_rx::timeout' data-ref="tid_ampdu_rx::timeout" data-ref-filename="tid_ampdu_rx..timeout">timeout</a> == <a class="local col6 ref" href="#3706timeout" title='timeout' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</a>)</td></tr>
<tr><th id="317">317</th><td>				<a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_SUCCESS" title='WLAN_STATUS_SUCCESS' data-ref="WLAN_STATUS_SUCCESS" data-ref-filename="WLAN_STATUS_SUCCESS">WLAN_STATUS_SUCCESS</a>;</td></tr>
<tr><th id="318">318</th><td>			<b>else</b></td></tr>
<tr><th id="319">319</th><td>				<a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_REQUEST_DECLINED" title='WLAN_STATUS_REQUEST_DECLINED' data-ref="WLAN_STATUS_REQUEST_DECLINED" data-ref-filename="WLAN_STATUS_REQUEST_DECLINED">WLAN_STATUS_REQUEST_DECLINED</a>;</td></tr>
<tr><th id="320">320</th><td>			<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_unlock" title='rcu_read_unlock' data-ref="rcu_read_unlock" data-ref-filename="rcu_read_unlock">rcu_read_unlock</a>();</td></tr>
<tr><th id="321">321</th><td>			<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="322">322</th><td>		}</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>		<a class="macro" href="debug.h.html#137" title="do { if (0 &amp;&amp; net_ratelimit()) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;unexpected AddBA Req from %pM on tid %u\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid); } while (0)" data-ref="_M/ht_dbg_ratelimited">ht_dbg_ratelimited</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="325">325</th><td>				   <q>"unexpected AddBA Req from %pM on tid %u\n"</q>,</td></tr>
<tr><th id="326">326</th><td>				   <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>);</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>		<i>/* delete existing Rx BA session on the same tid */</i></td></tr>
<tr><th id="329">329</th><td>		<a class="ref fn" href="#___ieee80211_stop_rx_ba_session" title='___ieee80211_stop_rx_ba_session' data-ref="___ieee80211_stop_rx_ba_session" data-ref-filename="___ieee80211_stop_rx_ba_session">___ieee80211_stop_rx_ba_session</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_BACK_RECIPIENT" title='WLAN_BACK_RECIPIENT' data-ref="WLAN_BACK_RECIPIENT" data-ref-filename="WLAN_BACK_RECIPIENT">WLAN_BACK_RECIPIENT</a>,</td></tr>
<tr><th id="330">330</th><td>						<a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_UNSPECIFIED_QOS" title='WLAN_STATUS_UNSPECIFIED_QOS' data-ref="WLAN_STATUS_UNSPECIFIED_QOS" data-ref-filename="WLAN_STATUS_UNSPECIFIED_QOS">WLAN_STATUS_UNSPECIFIED_QOS</a>,</td></tr>
<tr><th id="331">331</th><td>						<a class="enum" href="../../include/linux/stddef.h.html#false" title='false' data-ref="false" data-ref-filename="false">false</a>);</td></tr>
<tr><th id="332">332</th><td>	}</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td>	<b>if</b> (<a class="macro" href="../../include/net/mac80211.h.html#2501" title="_ieee80211_hw_check(&amp;local-&gt;hw, IEEE80211_HW_SUPPORTS_REORDERING_BUFFER)" data-ref="_M/ieee80211_hw_check">ieee80211_hw_check</a>(&amp;<a class="local col3 ref" href="#3713local" title='local' data-ref="3713local" data-ref-filename="3713local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>, SUPPORTS_REORDERING_BUFFER)) {</td></tr>
<tr><th id="335">335</th><td>		<a class="local col7 ref" href="#3717ret" title='ret' data-ref="3717ret" data-ref-filename="3717ret">ret</a> = <a class="ref fn" href="driver-ops.h.html#drv_ampdu_action" title='drv_ampdu_action' data-ref="drv_ampdu_action" data-ref-filename="drv_ampdu_action">drv_ampdu_action</a>(<a class="local col3 ref" href="#3713local" title='local' data-ref="3713local" data-ref-filename="3713local">local</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, &amp;<a class="local col5 ref" href="#3715params" title='params' data-ref="3715params" data-ref-filename="3715params">params</a>);</td></tr>
<tr><th id="336">336</th><td>		<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;Rx A-MPDU request on %pM tid %d result %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid, ret); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>,</td></tr>
<tr><th id="337">337</th><td>		       <q>"Rx A-MPDU request on %pM tid %d result %d\n"</q>,</td></tr>
<tr><th id="338">338</th><td>		       <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="local col7 ref" href="#3717ret" title='ret' data-ref="3717ret" data-ref-filename="3717ret">ret</a>);</td></tr>
<tr><th id="339">339</th><td>		<b>if</b> (!<a class="local col7 ref" href="#3717ret" title='ret' data-ref="3717ret" data-ref-filename="3717ret">ret</a>)</td></tr>
<tr><th id="340">340</th><td>			<a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_SUCCESS" title='WLAN_STATUS_SUCCESS' data-ref="WLAN_STATUS_SUCCESS" data-ref-filename="WLAN_STATUS_SUCCESS">WLAN_STATUS_SUCCESS</a>;</td></tr>
<tr><th id="341">341</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="342">342</th><td>	}</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td>	<i>/* prepare A-MPDU MLME for Rx aggregation */</i></td></tr>
<tr><th id="345">345</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a> = <a class="ref fn" href="../../include/linux/slab.h.html#kzalloc" title='kzalloc' data-ref="kzalloc" data-ref-filename="kzalloc">kzalloc</a>(<b>sizeof</b>(*<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>), <a class="macro" href="../../include/linux/gfp.h.html#290" title="((( gfp_t)(0x400u|0x800u)) | (( gfp_t)0x40u) | (( gfp_t)0x80u))" data-ref="_M/GFP_KERNEL">GFP_KERNEL</a>);</td></tr>
<tr><th id="346">346</th><td>	<b>if</b> (!<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>)</td></tr>
<tr><th id="347">347</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td>	<a class="macro" href="../../include/linux/spinlock.h.html#330" title="do { spinlock_check(&amp;tid_agg_rx-&gt;reorder_lock); do { *(&amp;(&amp;tid_agg_rx-&gt;reorder_lock)-&gt;rlock) = (raw_spinlock_t) { .raw_lock = { { .val = { (0) } } }, }; } while (0); } while (0)" data-ref="_M/spin_lock_init">spin_lock_init</a>(&amp;<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_lock" title='tid_ampdu_rx::reorder_lock' data-ref="tid_ampdu_rx::reorder_lock" data-ref-filename="tid_ampdu_rx..reorder_lock">reorder_lock</a>);</td></tr>
<tr><th id="350">350</th><td></td></tr>
<tr><th id="351">351</th><td>	<i>/* rx timer */</i></td></tr>
<tr><th id="352">352</th><td>	<a class="macro" href="../../include/linux/timer.h.html#140" title="init_timer_key(((&amp;tid_agg_rx-&gt;session_timer)), ((sta_rx_agg_session_timer_expired)), ((0x00080000)), ((void *)0), ((void *)0))" data-ref="_M/timer_setup">timer_setup</a>(&amp;<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::session_timer" title='tid_ampdu_rx::session_timer' data-ref="tid_ampdu_rx::session_timer" data-ref-filename="tid_ampdu_rx..session_timer">session_timer</a>,</td></tr>
<tr><th id="353">353</th><td>		    <a class="tu ref fn" href="#sta_rx_agg_session_timer_expired" title='sta_rx_agg_session_timer_expired' data-use='r' data-ref="sta_rx_agg_session_timer_expired" data-ref-filename="sta_rx_agg_session_timer_expired">sta_rx_agg_session_timer_expired</a>, <a class="macro" href="../../include/linux/timer.h.html#67" title="0x00080000" data-ref="_M/TIMER_DEFERRABLE">TIMER_DEFERRABLE</a>);</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td>	<i>/* rx reorder timer */</i></td></tr>
<tr><th id="356">356</th><td>	<a class="macro" href="../../include/linux/timer.h.html#140" title="init_timer_key(((&amp;tid_agg_rx-&gt;reorder_timer)), ((sta_rx_agg_reorder_timer_expired)), ((0)), ((void *)0), ((void *)0))" data-ref="_M/timer_setup">timer_setup</a>(&amp;<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_timer" title='tid_ampdu_rx::reorder_timer' data-ref="tid_ampdu_rx::reorder_timer" data-ref-filename="tid_ampdu_rx..reorder_timer">reorder_timer</a>,</td></tr>
<tr><th id="357">357</th><td>		    <a class="tu ref fn" href="#sta_rx_agg_reorder_timer_expired" title='sta_rx_agg_reorder_timer_expired' data-use='r' data-ref="sta_rx_agg_reorder_timer_expired" data-ref-filename="sta_rx_agg_reorder_timer_expired">sta_rx_agg_reorder_timer_expired</a>, <var>0</var>);</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td>	<i>/* prepare reordering buffer */</i></td></tr>
<tr><th id="360">360</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a> =</td></tr>
<tr><th id="361">361</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kcalloc" title='kcalloc' data-ref="kcalloc" data-ref-filename="kcalloc">kcalloc</a>(<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>, <b>sizeof</b>(<b>struct</b> <a class="type" href="../../include/linux/skbuff.h.html#sk_buff_head" title='sk_buff_head' data-ref="sk_buff_head" data-ref-filename="sk_buff_head">sk_buff_head</a>), <a class="macro" href="../../include/linux/gfp.h.html#290" title="((( gfp_t)(0x400u|0x800u)) | (( gfp_t)0x40u) | (( gfp_t)0x80u))" data-ref="_M/GFP_KERNEL">GFP_KERNEL</a>);</td></tr>
<tr><th id="362">362</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_time" title='tid_ampdu_rx::reorder_time' data-ref="tid_ampdu_rx::reorder_time" data-ref-filename="tid_ampdu_rx..reorder_time">reorder_time</a> =</td></tr>
<tr><th id="363">363</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kcalloc" title='kcalloc' data-ref="kcalloc" data-ref-filename="kcalloc">kcalloc</a>(<a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>, <b>sizeof</b>(<em>unsigned</em> <em>long</em>), <a class="macro" href="../../include/linux/gfp.h.html#290" title="((( gfp_t)(0x400u|0x800u)) | (( gfp_t)0x40u) | (( gfp_t)0x80u))" data-ref="_M/GFP_KERNEL">GFP_KERNEL</a>);</td></tr>
<tr><th id="364">364</th><td>	<b>if</b> (!<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a> || !<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_time" title='tid_ampdu_rx::reorder_time' data-ref="tid_ampdu_rx::reorder_time" data-ref-filename="tid_ampdu_rx..reorder_time">reorder_time</a>) {</td></tr>
<tr><th id="365">365</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a>);</td></tr>
<tr><th id="366">366</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_time" title='tid_ampdu_rx::reorder_time' data-ref="tid_ampdu_rx::reorder_time" data-ref-filename="tid_ampdu_rx..reorder_time">reorder_time</a>);</td></tr>
<tr><th id="367">367</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>);</td></tr>
<tr><th id="368">368</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="369">369</th><td>	}</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td>	<b>for</b> (<a class="local col6 ref" href="#3716i" title='i' data-ref="3716i" data-ref-filename="3716i">i</a> = <var>0</var>; <a class="local col6 ref" href="#3716i" title='i' data-ref="3716i" data-ref-filename="3716i">i</a> &lt; <a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>; <a class="local col6 ref" href="#3716i" title='i' data-ref="3716i" data-ref-filename="3716i">i</a>++)</td></tr>
<tr><th id="372">372</th><td>		<a class="ref fn" href="../../include/linux/skbuff.h.html#__skb_queue_head_init" title='__skb_queue_head_init' data-ref="__skb_queue_head_init" data-ref-filename="__skb_queue_head_init">__skb_queue_head_init</a>(&amp;<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a>[<a class="local col6 ref" href="#3716i" title='i' data-ref="3716i" data-ref-filename="3716i">i</a>]);</td></tr>
<tr><th id="373">373</th><td></td></tr>
<tr><th id="374">374</th><td>	<a class="local col7 ref" href="#3717ret" title='ret' data-ref="3717ret" data-ref-filename="3717ret">ret</a> = <a class="ref fn" href="driver-ops.h.html#drv_ampdu_action" title='drv_ampdu_action' data-ref="drv_ampdu_action" data-ref-filename="drv_ampdu_action">drv_ampdu_action</a>(<a class="local col3 ref" href="#3713local" title='local' data-ref="3713local" data-ref-filename="3713local">local</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, &amp;<a class="local col5 ref" href="#3715params" title='params' data-ref="3715params" data-ref-filename="3715params">params</a>);</td></tr>
<tr><th id="375">375</th><td>	<a class="macro" href="debug.h.html#133" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;Rx A-MPDU request on %pM tid %d result %d\n&quot;, (sta-&gt;sdata)-&gt;name, sta-&gt;sta.addr, tid, ret); } while (0)" data-ref="_M/ht_dbg">ht_dbg</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, <q>"Rx A-MPDU request on %pM tid %d result %d\n"</q>,</td></tr>
<tr><th id="376">376</th><td>	       <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="local col7 ref" href="#3717ret" title='ret' data-ref="3717ret" data-ref-filename="3717ret">ret</a>);</td></tr>
<tr><th id="377">377</th><td>	<b>if</b> (<a class="local col7 ref" href="#3717ret" title='ret' data-ref="3717ret" data-ref-filename="3717ret">ret</a>) {</td></tr>
<tr><th id="378">378</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf" title='tid_ampdu_rx::reorder_buf' data-ref="tid_ampdu_rx::reorder_buf" data-ref-filename="tid_ampdu_rx..reorder_buf">reorder_buf</a>);</td></tr>
<tr><th id="379">379</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_time" title='tid_ampdu_rx::reorder_time' data-ref="tid_ampdu_rx::reorder_time" data-ref-filename="tid_ampdu_rx..reorder_time">reorder_time</a>);</td></tr>
<tr><th id="380">380</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>);</td></tr>
<tr><th id="381">381</th><td>		<b>goto</b> <a class="lbl" href="#3720end" data-ref="3720end" data-ref-filename="3720end">end</a>;</td></tr>
<tr><th id="382">382</th><td>	}</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td>	<i>/* update data */</i></td></tr>
<tr><th id="385">385</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::ssn" title='tid_ampdu_rx::ssn' data-ref="tid_ampdu_rx::ssn" data-ref-filename="tid_ampdu_rx..ssn">ssn</a> = <a class="local col7 ref" href="#3707start_seq_num" title='start_seq_num' data-ref="3707start_seq_num" data-ref-filename="3707start_seq_num">start_seq_num</a>;</td></tr>
<tr><th id="386">386</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::head_seq_num" title='tid_ampdu_rx::head_seq_num' data-ref="tid_ampdu_rx::head_seq_num" data-ref-filename="tid_ampdu_rx..head_seq_num">head_seq_num</a> = <a class="local col7 ref" href="#3707start_seq_num" title='start_seq_num' data-ref="3707start_seq_num" data-ref-filename="3707start_seq_num">start_seq_num</a>;</td></tr>
<tr><th id="387">387</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::buf_size" title='tid_ampdu_rx::buf_size' data-ref="tid_ampdu_rx::buf_size" data-ref-filename="tid_ampdu_rx..buf_size">buf_size</a> = <a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>;</td></tr>
<tr><th id="388">388</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::timeout" title='tid_ampdu_rx::timeout' data-ref="tid_ampdu_rx::timeout" data-ref-filename="tid_ampdu_rx..timeout">timeout</a> = <a class="local col6 ref" href="#3706timeout" title='timeout' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</a>;</td></tr>
<tr><th id="389">389</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::stored_mpdu_num" title='tid_ampdu_rx::stored_mpdu_num' data-ref="tid_ampdu_rx::stored_mpdu_num" data-ref-filename="tid_ampdu_rx..stored_mpdu_num">stored_mpdu_num</a> = <var>0</var>;</td></tr>
<tr><th id="390">390</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::auto_seq" title='tid_ampdu_rx::auto_seq' data-ref="tid_ampdu_rx::auto_seq" data-ref-filename="tid_ampdu_rx..auto_seq">auto_seq</a> = <a class="local col2 ref" href="#3712auto_seq" title='auto_seq' data-ref="3712auto_seq" data-ref-filename="3712auto_seq">auto_seq</a>;</td></tr>
<tr><th id="391">391</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::started" title='tid_ampdu_rx::started' data-ref="tid_ampdu_rx::started" data-ref-filename="tid_ampdu_rx..started">started</a> = <a class="enum" href="../../include/linux/stddef.h.html#false" title='false' data-ref="false" data-ref-filename="false">false</a>;</td></tr>
<tr><th id="392">392</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::reorder_buf_filtered" title='tid_ampdu_rx::reorder_buf_filtered' data-ref="tid_ampdu_rx::reorder_buf_filtered" data-ref-filename="tid_ampdu_rx..reorder_buf_filtered">reorder_buf_filtered</a> = <var>0</var>;</td></tr>
<tr><th id="393">393</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::tid" title='tid_ampdu_rx::tid' data-ref="tid_ampdu_rx::tid" data-ref-filename="tid_ampdu_rx..tid">tid</a> = <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>;</td></tr>
<tr><th id="394">394</th><td>	<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::sta" title='tid_ampdu_rx::sta' data-ref="tid_ampdu_rx::sta" data-ref-filename="tid_ampdu_rx..sta">sta</a> = <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>;</td></tr>
<tr><th id="395">395</th><td>	<a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a> = <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_SUCCESS" title='WLAN_STATUS_SUCCESS' data-ref="WLAN_STATUS_SUCCESS" data-ref-filename="WLAN_STATUS_SUCCESS">WLAN_STATUS_SUCCESS</a>;</td></tr>
<tr><th id="396">396</th><td></td></tr>
<tr><th id="397">397</th><td>	<i>/* activate it for RX */</i></td></tr>
<tr><th id="398">398</th><td>	<a class="macro" href="../../include/linux/rcupdate.h.html#367" title="do { uintptr_t _r_a_p__v = (uintptr_t)(tid_agg_rx); ; if (__builtin_constant_p(tid_agg_rx) &amp;&amp; (_r_a_p__v) == (uintptr_t)((void *)0)) ({ union { typeof((sta-&gt;ampdu_mlme.tid_rx[tid])) __val; char __c[1]; } __u = { .__val = ( typeof((sta-&gt;ampdu_mlme.tid_rx[tid]))) ((typeof(sta-&gt;ampdu_mlme.tid_rx[tid]))(_r_a_p__v)) }; __write_once_size(&amp;((sta-&gt;ampdu_mlme.tid_rx[tid])), __u.__c, sizeof((sta-&gt;ampdu_mlme.tid_rx[tid]))); __u.__val; }); else do { do { extern void __compiletime_assert_398(void) ; if (!((sizeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid]) == sizeof(char) || sizeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid]) == sizeof(short) || sizeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid]) == sizeof(int) || sizeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid]) == sizeof(long)))) __compiletime_assert_398(); } while (0); __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); ({ union { typeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid]) __val; char __c[1]; } __u = { .__val = ( typeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid])) ((typeof(*((typeof(sta-&gt;ampdu_mlme.tid_rx[tid]))_r_a_p__v)) *)((typeof(sta-&gt;ampdu_mlme.tid_rx[tid]))_r_a_p__v)) }; __write_once_size(&amp;(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid]), __u.__c, sizeof(*&amp;sta-&gt;ampdu_mlme.tid_rx[tid])); __u.__val; }); } while (0); } while (0)" data-ref="_M/rcu_assign_pointer">rcu_assign_pointer</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx" title='sta_ampdu_mlme::tid_rx' data-ref="sta_ampdu_mlme::tid_rx" data-ref-filename="sta_ampdu_mlme..tid_rx">tid_rx</a>[<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>], <a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>);</td></tr>
<tr><th id="399">399</th><td></td></tr>
<tr><th id="400">400</th><td>	<b>if</b> (<a class="local col6 ref" href="#3706timeout" title='timeout' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</a>) {</td></tr>
<tr><th id="401">401</th><td>		<a class="ref fn" href="../../include/linux/timer.h.html#mod_timer" title='mod_timer' data-ref="mod_timer" data-ref-filename="mod_timer">mod_timer</a>(&amp;<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::session_timer" title='tid_ampdu_rx::session_timer' data-ref="tid_ampdu_rx::session_timer" data-ref-filename="tid_ampdu_rx..session_timer">session_timer</a>, <a class="macro" href="../../include/linux/ieee80211.h.html#3254" title="(jiffies + (usecs_to_jiffies((timeout) * 1024)))" data-ref="_M/TU_TO_EXP_TIME">TU_TO_EXP_TIME</a>(<a class="local col6 ref" href="#3706timeout" title='timeout' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</a>));</td></tr>
<tr><th id="402">402</th><td>		<a class="local col4 ref" href="#3714tid_agg_rx" title='tid_agg_rx' data-ref="3714tid_agg_rx" data-ref-filename="3714tid_agg_rx">tid_agg_rx</a>-&gt;<a class="ref field" href="sta_info.h.html#tid_ampdu_rx::last_rx" title='tid_ampdu_rx::last_rx' data-ref="tid_ampdu_rx::last_rx" data-ref-filename="tid_ampdu_rx..last_rx">last_rx</a> = <a class="ref" href="../../include/linux/jiffies.h.html#jiffies" title='jiffies' data-ref="jiffies" data-ref-filename="jiffies">jiffies</a>;</td></tr>
<tr><th id="403">403</th><td>	}</td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td><dfn class="lbl" id="3720end" data-ref="3720end" data-ref-filename="3720end">end</dfn>:</td></tr>
<tr><th id="406">406</th><td>	<b>if</b> (<a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a> == <a class="enum" href="../../include/linux/ieee80211.h.html#WLAN_STATUS_SUCCESS" title='WLAN_STATUS_SUCCESS' data-ref="WLAN_STATUS_SUCCESS" data-ref-filename="WLAN_STATUS_SUCCESS">WLAN_STATUS_SUCCESS</a>) {</td></tr>
<tr><th id="407">407</th><td>		<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#__set_bit" title='__set_bit' data-ref="__set_bit" data-ref-filename="__set_bit">__set_bit</a>(<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::agg_session_valid" title='sta_ampdu_mlme::agg_session_valid' data-ref="sta_ampdu_mlme::agg_session_valid" data-ref-filename="sta_ampdu_mlme..agg_session_valid">agg_session_valid</a>);</td></tr>
<tr><th id="408">408</th><td>		<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#__clear_bit" title='__clear_bit' data-ref="__clear_bit" data-ref-filename="__clear_bit">__clear_bit</a>(<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::unexpected_agg" title='sta_ampdu_mlme::unexpected_agg' data-ref="sta_ampdu_mlme::unexpected_agg" data-ref-filename="sta_ampdu_mlme..unexpected_agg">unexpected_agg</a>);</td></tr>
<tr><th id="409">409</th><td>		<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx_token" title='sta_ampdu_mlme::tid_rx_token' data-ref="sta_ampdu_mlme::tid_rx_token" data-ref-filename="sta_ampdu_mlme..tid_rx_token">tid_rx_token</a>[<a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>] = <a class="local col5 ref" href="#3705dialog_token" title='dialog_token' data-ref="3705dialog_token" data-ref-filename="3705dialog_token">dialog_token</a>;</td></tr>
<tr><th id="410">410</th><td>	}</td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td>	<b>if</b> (<a class="local col1 ref" href="#3711tx" title='tx' data-ref="3711tx" data-ref-filename="3711tx">tx</a>)</td></tr>
<tr><th id="413">413</th><td>		<a class="tu ref fn" href="#ieee80211_send_addba_resp" title='ieee80211_send_addba_resp' data-use='c' data-ref="ieee80211_send_addba_resp" data-ref-filename="ieee80211_send_addba_resp">ieee80211_send_addba_resp</a>(<a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sdata" title='sta_info::sdata' data-ref="sta_info::sdata" data-ref-filename="sta_info..sdata">sdata</a>, <a class="local col4 ref" href="#3704sta" title='sta' data-ref="3704sta" data-ref-filename="3704sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::sta" title='sta_info::sta' data-ref="sta_info::sta" data-ref-filename="sta_info..sta">sta</a>.<a class="ref field" href="../../include/net/mac80211.h.html#ieee80211_sta::addr" title='ieee80211_sta::addr' data-ref="ieee80211_sta::addr" data-ref-filename="ieee80211_sta..addr">addr</a>, <a class="local col9 ref" href="#3709tid" title='tid' data-ref="3709tid" data-ref-filename="3709tid">tid</a>,</td></tr>
<tr><th id="414">414</th><td>					  <a class="local col5 ref" href="#3705dialog_token" title='dialog_token' data-ref="3705dialog_token" data-ref-filename="3705dialog_token">dialog_token</a>, <a class="local col8 ref" href="#3718status" title='status' data-ref="3718status" data-ref-filename="3718status">status</a>, <var>1</var>, <a class="local col0 ref" href="#3710buf_size" title='buf_size' data-ref="3710buf_size" data-ref-filename="3710buf_size">buf_size</a>,</td></tr>
<tr><th id="415">415</th><td>					  <a class="local col6 ref" href="#3706timeout" title='timeout' data-ref="3706timeout" data-ref-filename="3706timeout">timeout</a>);</td></tr>
<tr><th id="416">416</th><td>}</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__ieee80211_start_rx_ba_session" title='__ieee80211_start_rx_ba_session' data-type='void __ieee80211_start_rx_ba_session(struct sta_info * sta, u8 dialog_token, u16 timeout, u16 start_seq_num, u16 ba_policy, u16 tid, u16 buf_size, bool tx, bool auto_seq)' data-ref="__ieee80211_start_rx_ba_session" data-ref-filename="__ieee80211_start_rx_ba_session">__ieee80211_start_rx_ba_session</dfn>(<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col2 decl" id="3722sta" title='sta' data-type='struct sta_info *' data-ref="3722sta" data-ref-filename="3722sta">sta</dfn>,</td></tr>
<tr><th id="419">419</th><td>					    <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> <dfn class="local col3 decl" id="3723dialog_token" title='dialog_token' data-type='u8' data-ref="3723dialog_token" data-ref-filename="3723dialog_token">dialog_token</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col4 decl" id="3724timeout" title='timeout' data-type='u16' data-ref="3724timeout" data-ref-filename="3724timeout">timeout</dfn>,</td></tr>
<tr><th id="420">420</th><td>					    <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col5 decl" id="3725start_seq_num" title='start_seq_num' data-type='u16' data-ref="3725start_seq_num" data-ref-filename="3725start_seq_num">start_seq_num</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col6 decl" id="3726ba_policy" title='ba_policy' data-type='u16' data-ref="3726ba_policy" data-ref-filename="3726ba_policy">ba_policy</dfn>,</td></tr>
<tr><th id="421">421</th><td>					    <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col7 decl" id="3727tid" title='tid' data-type='u16' data-ref="3727tid" data-ref-filename="3727tid">tid</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col8 decl" id="3728buf_size" title='buf_size' data-type='u16' data-ref="3728buf_size" data-ref-filename="3728buf_size">buf_size</dfn>, <a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col9 decl" id="3729tx" title='tx' data-type='bool' data-ref="3729tx" data-ref-filename="3729tx">tx</dfn>,</td></tr>
<tr><th id="422">422</th><td>					    <a class="typedef" href="../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col0 decl" id="3730auto_seq" title='auto_seq' data-type='bool' data-ref="3730auto_seq" data-ref-filename="3730auto_seq">auto_seq</dfn>)</td></tr>
<tr><th id="423">423</th><td>{</td></tr>
<tr><th id="424">424</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_lock" title='mutex_lock' data-ref="mutex_lock" data-ref-filename="mutex_lock">mutex_lock</a>(&amp;<a class="local col2 ref" href="#3722sta" title='sta' data-ref="3722sta" data-ref-filename="3722sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::mtx" title='sta_ampdu_mlme::mtx' data-ref="sta_ampdu_mlme::mtx" data-ref-filename="sta_ampdu_mlme..mtx">mtx</a>);</td></tr>
<tr><th id="425">425</th><td>	<a class="ref fn" href="#___ieee80211_start_rx_ba_session" title='___ieee80211_start_rx_ba_session' data-ref="___ieee80211_start_rx_ba_session" data-ref-filename="___ieee80211_start_rx_ba_session">___ieee80211_start_rx_ba_session</a>(<a class="local col2 ref" href="#3722sta" title='sta' data-ref="3722sta" data-ref-filename="3722sta">sta</a>, <a class="local col3 ref" href="#3723dialog_token" title='dialog_token' data-ref="3723dialog_token" data-ref-filename="3723dialog_token">dialog_token</a>, <a class="local col4 ref" href="#3724timeout" title='timeout' data-ref="3724timeout" data-ref-filename="3724timeout">timeout</a>,</td></tr>
<tr><th id="426">426</th><td>					 <a class="local col5 ref" href="#3725start_seq_num" title='start_seq_num' data-ref="3725start_seq_num" data-ref-filename="3725start_seq_num">start_seq_num</a>, <a class="local col6 ref" href="#3726ba_policy" title='ba_policy' data-ref="3726ba_policy" data-ref-filename="3726ba_policy">ba_policy</a>, <a class="local col7 ref" href="#3727tid" title='tid' data-ref="3727tid" data-ref-filename="3727tid">tid</a>,</td></tr>
<tr><th id="427">427</th><td>					 <a class="local col8 ref" href="#3728buf_size" title='buf_size' data-ref="3728buf_size" data-ref-filename="3728buf_size">buf_size</a>, <a class="local col9 ref" href="#3729tx" title='tx' data-ref="3729tx" data-ref-filename="3729tx">tx</a>, <a class="local col0 ref" href="#3730auto_seq" title='auto_seq' data-ref="3730auto_seq" data-ref-filename="3730auto_seq">auto_seq</a>);</td></tr>
<tr><th id="428">428</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="local col2 ref" href="#3722sta" title='sta' data-ref="3722sta" data-ref-filename="3722sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::mtx" title='sta_ampdu_mlme::mtx' data-ref="sta_ampdu_mlme::mtx" data-ref-filename="sta_ampdu_mlme..mtx">mtx</a>);</td></tr>
<tr><th id="429">429</th><td>}</td></tr>
<tr><th id="430">430</th><td></td></tr>
<tr><th id="431">431</th><td><em>void</em> <dfn class="decl def fn" id="ieee80211_process_addba_request" title='ieee80211_process_addba_request' data-ref="ieee80211_process_addba_request" data-ref-filename="ieee80211_process_addba_request">ieee80211_process_addba_request</dfn>(<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_local" title='ieee80211_local' data-ref="ieee80211_local" data-ref-filename="ieee80211_local">ieee80211_local</a> *<dfn class="local col1 decl" id="3731local" title='local' data-type='struct ieee80211_local *' data-ref="3731local" data-ref-filename="3731local">local</dfn>,</td></tr>
<tr><th id="432">432</th><td>				     <b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col2 decl" id="3732sta" title='sta' data-type='struct sta_info *' data-ref="3732sta" data-ref-filename="3732sta">sta</dfn>,</td></tr>
<tr><th id="433">433</th><td>				     <b>struct</b> <a class="type" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt" title='ieee80211_mgmt' data-ref="ieee80211_mgmt" data-ref-filename="ieee80211_mgmt">ieee80211_mgmt</a> *<dfn class="local col3 decl" id="3733mgmt" title='mgmt' data-type='struct ieee80211_mgmt *' data-ref="3733mgmt" data-ref-filename="3733mgmt">mgmt</dfn>,</td></tr>
<tr><th id="434">434</th><td>				     <a class="typedef" href="../../include/linux/types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</a> <dfn class="local col4 decl" id="3734len" title='len' data-type='size_t' data-ref="3734len" data-ref-filename="3734len">len</dfn>)</td></tr>
<tr><th id="435">435</th><td>{</td></tr>
<tr><th id="436">436</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col5 decl" id="3735capab" title='capab' data-type='u16' data-ref="3735capab" data-ref-filename="3735capab">capab</dfn>, <dfn class="local col6 decl" id="3736tid" title='tid' data-type='u16' data-ref="3736tid" data-ref-filename="3736tid">tid</dfn>, <dfn class="local col7 decl" id="3737timeout" title='timeout' data-type='u16' data-ref="3737timeout" data-ref-filename="3737timeout">timeout</dfn>, <dfn class="local col8 decl" id="3738ba_policy" title='ba_policy' data-type='u16' data-ref="3738ba_policy" data-ref-filename="3738ba_policy">ba_policy</dfn>, <dfn class="local col9 decl" id="3739buf_size" title='buf_size' data-type='u16' data-ref="3739buf_size" data-ref-filename="3739buf_size">buf_size</dfn>, <dfn class="local col0 decl" id="3740start_seq_num" title='start_seq_num' data-type='u16' data-ref="3740start_seq_num" data-ref-filename="3740start_seq_num">start_seq_num</dfn>;</td></tr>
<tr><th id="437">437</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> <dfn class="local col1 decl" id="3741dialog_token" title='dialog_token' data-type='u8' data-ref="3741dialog_token" data-ref-filename="3741dialog_token">dialog_token</dfn>;</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td>	<i>/* extract session parameters from addba request frame */</i></td></tr>
<tr><th id="440">440</th><td>	<a class="local col1 ref" href="#3741dialog_token" title='dialog_token' data-ref="3741dialog_token" data-ref-filename="3741dialog_token">dialog_token</a> = <a class="local col3 ref" href="#3733mgmt" title='mgmt' data-ref="3733mgmt" data-ref-filename="3733mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_req' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_req">addba_req</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::dialog_token" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::dialog_token' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::dialog_token" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..dialog_token">dialog_token</a>;</td></tr>
<tr><th id="441">441</th><td>	<a class="local col7 ref" href="#3737timeout" title='timeout' data-ref="3737timeout" data-ref-filename="3737timeout">timeout</a> = <a class="macro" href="../../include/linux/byteorder/generic.h.html#91" title="__le16_to_cpu" data-ref="_M/le16_to_cpu">le16_to_cpu</a>(<a class="local col3 ref" href="#3733mgmt" title='mgmt' data-ref="3733mgmt" data-ref-filename="3733mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_req' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_req">addba_req</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::timeout" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::timeout' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::timeout" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..timeout">timeout</a>);</td></tr>
<tr><th id="442">442</th><td>	<a class="local col0 ref" href="#3740start_seq_num" title='start_seq_num' data-ref="3740start_seq_num" data-ref-filename="3740start_seq_num">start_seq_num</a> =</td></tr>
<tr><th id="443">443</th><td>		<a class="macro" href="../../include/linux/byteorder/generic.h.html#91" title="__le16_to_cpu" data-ref="_M/le16_to_cpu">le16_to_cpu</a>(<a class="local col3 ref" href="#3733mgmt" title='mgmt' data-ref="3733mgmt" data-ref-filename="3733mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_req' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_req">addba_req</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::start_seq_num" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::start_seq_num' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::start_seq_num" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..start_seq_num">start_seq_num</a>) &gt;&gt; <var>4</var>;</td></tr>
<tr><th id="444">444</th><td></td></tr>
<tr><th id="445">445</th><td>	<a class="local col5 ref" href="#3735capab" title='capab' data-ref="3735capab" data-ref-filename="3735capab">capab</a> = <a class="macro" href="../../include/linux/byteorder/generic.h.html#91" title="__le16_to_cpu" data-ref="_M/le16_to_cpu">le16_to_cpu</a>(<a class="local col3 ref" href="#3733mgmt" title='mgmt' data-ref="3733mgmt" data-ref-filename="3733mgmt">mgmt</a>-&gt;<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::u" title='ieee80211_mgmt::u' data-ref="ieee80211_mgmt::u" data-ref-filename="ieee80211_mgmt..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymous)::action" title='ieee80211_mgmt::(anonymous union)::action' data-ref="ieee80211_mgmt::(anonymous)::action" data-ref-filename="ieee80211_mgmt..(anonymous)..action">action</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymous)::u" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::u' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymous)::u" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymous)..u">u</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::addba_req' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymous)::addba_req" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymous)..addba_req">addba_req</a>.<a class="ref field" href="../../include/linux/ieee80211.h.html#ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::capab" title='ieee80211_mgmt::(anonymous union)::(anonymous struct)::(anonymous union)::(anonymous struct)::capab' data-ref="ieee80211_mgmt::(anonymousunion)::(anonymousstruct)::(anonymousunion)::(anonymous)::capab" data-ref-filename="ieee80211_mgmt..(anonymousunion)..(anonymousstruct)..(anonymousunion)..(anonymous)..capab">capab</a>);</td></tr>
<tr><th id="446">446</th><td>	<a class="local col8 ref" href="#3738ba_policy" title='ba_policy' data-ref="3738ba_policy" data-ref-filename="3738ba_policy">ba_policy</a> = (<a class="local col5 ref" href="#3735capab" title='capab' data-ref="3735capab" data-ref-filename="3735capab">capab</a> &amp; <a class="macro" href="../../include/linux/ieee80211.h.html#1428" title="0x0002" data-ref="_M/IEEE80211_ADDBA_PARAM_POLICY_MASK">IEEE80211_ADDBA_PARAM_POLICY_MASK</a>) &gt;&gt; <var>1</var>;</td></tr>
<tr><th id="447">447</th><td>	<a class="local col6 ref" href="#3736tid" title='tid' data-ref="3736tid" data-ref-filename="3736tid">tid</a> = (<a class="local col5 ref" href="#3735capab" title='capab' data-ref="3735capab" data-ref-filename="3735capab">capab</a> &amp; <a class="macro" href="../../include/linux/ieee80211.h.html#1429" title="0x003C" data-ref="_M/IEEE80211_ADDBA_PARAM_TID_MASK">IEEE80211_ADDBA_PARAM_TID_MASK</a>) &gt;&gt; <var>2</var>;</td></tr>
<tr><th id="448">448</th><td>	<a class="local col9 ref" href="#3739buf_size" title='buf_size' data-ref="3739buf_size" data-ref-filename="3739buf_size">buf_size</a> = (<a class="local col5 ref" href="#3735capab" title='capab' data-ref="3735capab" data-ref-filename="3735capab">capab</a> &amp; <a class="macro" href="../../include/linux/ieee80211.h.html#1430" title="0xFFC0" data-ref="_M/IEEE80211_ADDBA_PARAM_BUF_SIZE_MASK">IEEE80211_ADDBA_PARAM_BUF_SIZE_MASK</a>) &gt;&gt; <var>6</var>;</td></tr>
<tr><th id="449">449</th><td></td></tr>
<tr><th id="450">450</th><td>	<a class="tu ref fn" href="#__ieee80211_start_rx_ba_session" title='__ieee80211_start_rx_ba_session' data-use='c' data-ref="__ieee80211_start_rx_ba_session" data-ref-filename="__ieee80211_start_rx_ba_session">__ieee80211_start_rx_ba_session</a>(<a class="local col2 ref" href="#3732sta" title='sta' data-ref="3732sta" data-ref-filename="3732sta">sta</a>, <a class="local col1 ref" href="#3741dialog_token" title='dialog_token' data-ref="3741dialog_token" data-ref-filename="3741dialog_token">dialog_token</a>, <a class="local col7 ref" href="#3737timeout" title='timeout' data-ref="3737timeout" data-ref-filename="3737timeout">timeout</a>,</td></tr>
<tr><th id="451">451</th><td>					<a class="local col0 ref" href="#3740start_seq_num" title='start_seq_num' data-ref="3740start_seq_num" data-ref-filename="3740start_seq_num">start_seq_num</a>, <a class="local col8 ref" href="#3738ba_policy" title='ba_policy' data-ref="3738ba_policy" data-ref-filename="3738ba_policy">ba_policy</a>, <a class="local col6 ref" href="#3736tid" title='tid' data-ref="3736tid" data-ref-filename="3736tid">tid</a>,</td></tr>
<tr><th id="452">452</th><td>					<a class="local col9 ref" href="#3739buf_size" title='buf_size' data-ref="3739buf_size" data-ref-filename="3739buf_size">buf_size</a>, <a class="enum" href="../../include/linux/stddef.h.html#true" title='true' data-ref="true" data-ref-filename="true">true</a>, <a class="enum" href="../../include/linux/stddef.h.html#false" title='false' data-ref="false" data-ref-filename="false">false</a>);</td></tr>
<tr><th id="453">453</th><td>}</td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td><em>void</em> <dfn class="decl def fn" id="ieee80211_manage_rx_ba_offl" title='ieee80211_manage_rx_ba_offl' data-ref="ieee80211_manage_rx_ba_offl" data-ref-filename="ieee80211_manage_rx_ba_offl">ieee80211_manage_rx_ba_offl</dfn>(<b>struct</b> <a class="type" href="../../include/net/mac80211.h.html#ieee80211_vif" title='ieee80211_vif' data-ref="ieee80211_vif" data-ref-filename="ieee80211_vif">ieee80211_vif</a> *<dfn class="local col2 decl" id="3742vif" title='vif' data-type='struct ieee80211_vif *' data-ref="3742vif" data-ref-filename="3742vif">vif</dfn>,</td></tr>
<tr><th id="456">456</th><td>				 <em>const</em> <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> *<dfn class="local col3 decl" id="3743addr" title='addr' data-type='const u8 *' data-ref="3743addr" data-ref-filename="3743addr">addr</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col4 decl" id="3744tid" title='tid' data-type='unsigned int' data-ref="3744tid" data-ref-filename="3744tid">tid</dfn>)</td></tr>
<tr><th id="457">457</th><td>{</td></tr>
<tr><th id="458">458</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_sub_if_data" title='ieee80211_sub_if_data' data-ref="ieee80211_sub_if_data" data-ref-filename="ieee80211_sub_if_data">ieee80211_sub_if_data</a> *<dfn class="local col5 decl" id="3745sdata" title='sdata' data-type='struct ieee80211_sub_if_data *' data-ref="3745sdata" data-ref-filename="3745sdata">sdata</dfn> = <a class="ref fn" href="ieee80211_i.h.html#vif_to_sdata" title='vif_to_sdata' data-ref="vif_to_sdata" data-ref-filename="vif_to_sdata">vif_to_sdata</a>(<a class="local col2 ref" href="#3742vif" title='vif' data-ref="3742vif" data-ref-filename="3742vif">vif</a>);</td></tr>
<tr><th id="459">459</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_local" title='ieee80211_local' data-ref="ieee80211_local" data-ref-filename="ieee80211_local">ieee80211_local</a> *<dfn class="local col6 decl" id="3746local" title='local' data-type='struct ieee80211_local *' data-ref="3746local" data-ref-filename="3746local">local</dfn> = <a class="local col5 ref" href="#3745sdata" title='sdata' data-ref="3745sdata" data-ref-filename="3745sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::local" title='ieee80211_sub_if_data::local' data-ref="ieee80211_sub_if_data::local" data-ref-filename="ieee80211_sub_if_data..local">local</a>;</td></tr>
<tr><th id="460">460</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col7 decl" id="3747sta" title='sta' data-type='struct sta_info *' data-ref="3747sta" data-ref-filename="3747sta">sta</dfn>;</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_lock" title='rcu_read_lock' data-ref="rcu_read_lock" data-ref-filename="rcu_read_lock">rcu_read_lock</a>();</td></tr>
<tr><th id="463">463</th><td>	<a class="local col7 ref" href="#3747sta" title='sta' data-ref="3747sta" data-ref-filename="3747sta">sta</a> = <a class="ref fn" href="sta_info.h.html#sta_info_get_bss" title='sta_info_get_bss' data-ref="sta_info_get_bss" data-ref-filename="sta_info_get_bss">sta_info_get_bss</a>(<a class="local col5 ref" href="#3745sdata" title='sdata' data-ref="3745sdata" data-ref-filename="3745sdata">sdata</a>, <a class="local col3 ref" href="#3743addr" title='addr' data-ref="3743addr" data-ref-filename="3743addr">addr</a>);</td></tr>
<tr><th id="464">464</th><td>	<b>if</b> (!<a class="local col7 ref" href="#3747sta" title='sta' data-ref="3747sta" data-ref-filename="3747sta">sta</a>)</td></tr>
<tr><th id="465">465</th><td>		<b>goto</b> <a class="lbl" href="#3748unlock" data-ref="3748unlock" data-ref-filename="3748unlock">unlock</a>;</td></tr>
<tr><th id="466">466</th><td></td></tr>
<tr><th id="467">467</th><td>	<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#set_bit" title='set_bit' data-ref="set_bit" data-ref-filename="set_bit">set_bit</a>(<a class="local col4 ref" href="#3744tid" title='tid' data-ref="3744tid" data-ref-filename="3744tid">tid</a>, <a class="local col7 ref" href="#3747sta" title='sta' data-ref="3747sta" data-ref-filename="3747sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx_manage_offl" title='sta_ampdu_mlme::tid_rx_manage_offl' data-ref="sta_ampdu_mlme::tid_rx_manage_offl" data-ref-filename="sta_ampdu_mlme..tid_rx_manage_offl">tid_rx_manage_offl</a>);</td></tr>
<tr><th id="468">468</th><td>	<a class="ref fn" href="../../include/net/mac80211.h.html#ieee80211_queue_work" title='ieee80211_queue_work' data-ref="ieee80211_queue_work" data-ref-filename="ieee80211_queue_work">ieee80211_queue_work</a>(&amp;<a class="local col6 ref" href="#3746local" title='local' data-ref="3746local" data-ref-filename="3746local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>, &amp;<a class="local col7 ref" href="#3747sta" title='sta' data-ref="3747sta" data-ref-filename="3747sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::work" title='sta_ampdu_mlme::work' data-ref="sta_ampdu_mlme::work" data-ref-filename="sta_ampdu_mlme..work">work</a>);</td></tr>
<tr><th id="469">469</th><td> <dfn class="lbl" id="3748unlock" data-ref="3748unlock" data-ref-filename="3748unlock">unlock</dfn>:</td></tr>
<tr><th id="470">470</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_unlock" title='rcu_read_unlock' data-ref="rcu_read_unlock" data-ref-filename="rcu_read_unlock">rcu_read_unlock</a>();</td></tr>
<tr><th id="471">471</th><td>}</td></tr>
<tr><th id="472">472</th><td><a class="macro" href="../../include/linux/export.h.html#123" title="extern typeof(ieee80211_manage_rx_ba_offl) ieee80211_manage_rx_ba_offl; static const char __kstrtab_ieee80211_manage_rx_ba_offl[] __attribute__((section(&quot;__ksymtab_strings&quot;), used, aligned(1))) = &quot;ieee80211_manage_rx_ba_offl&quot;; static void * __attribute__((__section__(&quot;.discard.addressable&quot;))) __attribute__((__used__)) __addressable_ieee80211_manage_rx_ba_offl472 = (void *)&amp;ieee80211_manage_rx_ba_offl; asm(&quot;	.section \&quot;___ksymtab&quot; &quot;&quot; &quot;+&quot; &quot;ieee80211_manage_rx_ba_offl&quot; &quot;\&quot;, \&quot;a\&quot;	\n&quot; &quot;	.balign	8					\n&quot; &quot;__ksymtab_&quot; &quot;ieee80211_manage_rx_ba_offl&quot; &quot;:				\n&quot; &quot;	.long	&quot; &quot;ieee80211_manage_rx_ba_offl&quot; &quot;- .				\n&quot; &quot;	.long	__kstrtab_&quot; &quot;ieee80211_manage_rx_ba_offl&quot; &quot;- .			\n&quot; &quot;	.previous					\n&quot;)" data-ref="_M/EXPORT_SYMBOL">EXPORT_SYMBOL</a>(<a class="decl fn" href="#ieee80211_manage_rx_ba_offl" title='ieee80211_manage_rx_ba_offl' data-ref="ieee80211_manage_rx_ba_offl" data-ref-filename="ieee80211_manage_rx_ba_offl"><a class="ref fn" href="#ieee80211_manage_rx_ba_offl" title='ieee80211_manage_rx_ba_offl' data-ref="ieee80211_manage_rx_ba_offl" data-ref-filename="ieee80211_manage_rx_ba_offl"><a class="ref fn" href="#ieee80211_manage_rx_ba_offl" title='ieee80211_manage_rx_ba_offl' data-ref="ieee80211_manage_rx_ba_offl" data-ref-filename="ieee80211_manage_rx_ba_offl">ieee80211_manage_rx_ba_offl</a></a></a>);</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td><em>void</em> <dfn class="decl def fn" id="ieee80211_rx_ba_timer_expired" title='ieee80211_rx_ba_timer_expired' data-ref="ieee80211_rx_ba_timer_expired" data-ref-filename="ieee80211_rx_ba_timer_expired">ieee80211_rx_ba_timer_expired</dfn>(<b>struct</b> <a class="type" href="../../include/net/mac80211.h.html#ieee80211_vif" title='ieee80211_vif' data-ref="ieee80211_vif" data-ref-filename="ieee80211_vif">ieee80211_vif</a> *<dfn class="local col9 decl" id="3749vif" title='vif' data-type='struct ieee80211_vif *' data-ref="3749vif" data-ref-filename="3749vif">vif</dfn>,</td></tr>
<tr><th id="475">475</th><td>				   <em>const</em> <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8" data-ref-filename="u8">u8</a> *<dfn class="local col0 decl" id="3750addr" title='addr' data-type='const u8 *' data-ref="3750addr" data-ref-filename="3750addr">addr</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col1 decl" id="3751tid" title='tid' data-type='unsigned int' data-ref="3751tid" data-ref-filename="3751tid">tid</dfn>)</td></tr>
<tr><th id="476">476</th><td>{</td></tr>
<tr><th id="477">477</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_sub_if_data" title='ieee80211_sub_if_data' data-ref="ieee80211_sub_if_data" data-ref-filename="ieee80211_sub_if_data">ieee80211_sub_if_data</a> *<dfn class="local col2 decl" id="3752sdata" title='sdata' data-type='struct ieee80211_sub_if_data *' data-ref="3752sdata" data-ref-filename="3752sdata">sdata</dfn> = <a class="ref fn" href="ieee80211_i.h.html#vif_to_sdata" title='vif_to_sdata' data-ref="vif_to_sdata" data-ref-filename="vif_to_sdata">vif_to_sdata</a>(<a class="local col9 ref" href="#3749vif" title='vif' data-ref="3749vif" data-ref-filename="3749vif">vif</a>);</td></tr>
<tr><th id="478">478</th><td>	<b>struct</b> <a class="type" href="ieee80211_i.h.html#ieee80211_local" title='ieee80211_local' data-ref="ieee80211_local" data-ref-filename="ieee80211_local">ieee80211_local</a> *<dfn class="local col3 decl" id="3753local" title='local' data-type='struct ieee80211_local *' data-ref="3753local" data-ref-filename="3753local">local</dfn> = <a class="local col2 ref" href="#3752sdata" title='sdata' data-ref="3752sdata" data-ref-filename="3752sdata">sdata</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_sub_if_data::local" title='ieee80211_sub_if_data::local' data-ref="ieee80211_sub_if_data::local" data-ref-filename="ieee80211_sub_if_data..local">local</a>;</td></tr>
<tr><th id="479">479</th><td>	<b>struct</b> <a class="type" href="sta_info.h.html#sta_info" title='sta_info' data-ref="sta_info" data-ref-filename="sta_info">sta_info</a> *<dfn class="local col4 decl" id="3754sta" title='sta' data-type='struct sta_info *' data-ref="3754sta" data-ref-filename="3754sta">sta</dfn>;</td></tr>
<tr><th id="480">480</th><td></td></tr>
<tr><th id="481">481</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_lock" title='rcu_read_lock' data-ref="rcu_read_lock" data-ref-filename="rcu_read_lock">rcu_read_lock</a>();</td></tr>
<tr><th id="482">482</th><td>	<a class="local col4 ref" href="#3754sta" title='sta' data-ref="3754sta" data-ref-filename="3754sta">sta</a> = <a class="ref fn" href="sta_info.h.html#sta_info_get_bss" title='sta_info_get_bss' data-ref="sta_info_get_bss" data-ref-filename="sta_info_get_bss">sta_info_get_bss</a>(<a class="local col2 ref" href="#3752sdata" title='sdata' data-ref="3752sdata" data-ref-filename="3752sdata">sdata</a>, <a class="local col0 ref" href="#3750addr" title='addr' data-ref="3750addr" data-ref-filename="3750addr">addr</a>);</td></tr>
<tr><th id="483">483</th><td>	<b>if</b> (!<a class="local col4 ref" href="#3754sta" title='sta' data-ref="3754sta" data-ref-filename="3754sta">sta</a>)</td></tr>
<tr><th id="484">484</th><td>		<b>goto</b> <a class="lbl" href="#3755unlock" data-ref="3755unlock" data-ref-filename="3755unlock">unlock</a>;</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td>	<a class="ref fn" href="../../include/asm-generic/bitops-instrumented.h.html#set_bit" title='set_bit' data-ref="set_bit" data-ref-filename="set_bit">set_bit</a>(<a class="local col1 ref" href="#3751tid" title='tid' data-ref="3751tid" data-ref-filename="3751tid">tid</a>, <a class="local col4 ref" href="#3754sta" title='sta' data-ref="3754sta" data-ref-filename="3754sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::tid_rx_timer_expired" title='sta_ampdu_mlme::tid_rx_timer_expired' data-ref="sta_ampdu_mlme::tid_rx_timer_expired" data-ref-filename="sta_ampdu_mlme..tid_rx_timer_expired">tid_rx_timer_expired</a>);</td></tr>
<tr><th id="487">487</th><td>	<a class="ref fn" href="../../include/net/mac80211.h.html#ieee80211_queue_work" title='ieee80211_queue_work' data-ref="ieee80211_queue_work" data-ref-filename="ieee80211_queue_work">ieee80211_queue_work</a>(&amp;<a class="local col3 ref" href="#3753local" title='local' data-ref="3753local" data-ref-filename="3753local">local</a>-&gt;<a class="ref field" href="ieee80211_i.h.html#ieee80211_local::hw" title='ieee80211_local::hw' data-ref="ieee80211_local::hw" data-ref-filename="ieee80211_local..hw">hw</a>, &amp;<a class="local col4 ref" href="#3754sta" title='sta' data-ref="3754sta" data-ref-filename="3754sta">sta</a>-&gt;<a class="ref field" href="sta_info.h.html#sta_info::ampdu_mlme" title='sta_info::ampdu_mlme' data-ref="sta_info::ampdu_mlme" data-ref-filename="sta_info..ampdu_mlme">ampdu_mlme</a>.<a class="ref field" href="sta_info.h.html#sta_ampdu_mlme::work" title='sta_ampdu_mlme::work' data-ref="sta_ampdu_mlme::work" data-ref-filename="sta_ampdu_mlme..work">work</a>);</td></tr>
<tr><th id="488">488</th><td></td></tr>
<tr><th id="489">489</th><td> <dfn class="lbl" id="3755unlock" data-ref="3755unlock" data-ref-filename="3755unlock">unlock</dfn>:</td></tr>
<tr><th id="490">490</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#rcu_read_unlock" title='rcu_read_unlock' data-ref="rcu_read_unlock" data-ref-filename="rcu_read_unlock">rcu_read_unlock</a>();</td></tr>
<tr><th id="491">491</th><td>}</td></tr>
<tr><th id="492">492</th><td><a class="macro" href="../../include/linux/export.h.html#123" title="extern typeof(ieee80211_rx_ba_timer_expired) ieee80211_rx_ba_timer_expired; static const char __kstrtab_ieee80211_rx_ba_timer_expired[] __attribute__((section(&quot;__ksymtab_strings&quot;), used, aligned(1))) = &quot;ieee80211_rx_ba_timer_expired&quot;; static void * __attribute__((__section__(&quot;.discard.addressable&quot;))) __attribute__((__used__)) __addressable_ieee80211_rx_ba_timer_expired492 = (void *)&amp;ieee80211_rx_ba_timer_expired; asm(&quot;	.section \&quot;___ksymtab&quot; &quot;&quot; &quot;+&quot; &quot;ieee80211_rx_ba_timer_expired&quot; &quot;\&quot;, \&quot;a\&quot;	\n&quot; &quot;	.balign	8					\n&quot; &quot;__ksymtab_&quot; &quot;ieee80211_rx_ba_timer_expired&quot; &quot;:				\n&quot; &quot;	.long	&quot; &quot;ieee80211_rx_ba_timer_expired&quot; &quot;- .				\n&quot; &quot;	.long	__kstrtab_&quot; &quot;ieee80211_rx_ba_timer_expired&quot; &quot;- .			\n&quot; &quot;	.previous					\n&quot;)" data-ref="_M/EXPORT_SYMBOL">EXPORT_SYMBOL</a>(<a class="decl fn" href="#ieee80211_rx_ba_timer_expired" title='ieee80211_rx_ba_timer_expired' data-ref="ieee80211_rx_ba_timer_expired" data-ref-filename="ieee80211_rx_ba_timer_expired"><a class="ref fn" href="#ieee80211_rx_ba_timer_expired" title='ieee80211_rx_ba_timer_expired' data-ref="ieee80211_rx_ba_timer_expired" data-ref-filename="ieee80211_rx_ba_timer_expired"><a class="ref fn" href="#ieee80211_rx_ba_timer_expired" title='ieee80211_rx_ba_timer_expired' data-ref="ieee80211_rx_ba_timer_expired" data-ref-filename="ieee80211_rx_ba_timer_expired">ieee80211_rx_ba_timer_expired</a></a></a>);</td></tr>
<tr><th id="493">493</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2020-Jun-10</em> from project linux-5.3.1 revision <em>5.3.1</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
