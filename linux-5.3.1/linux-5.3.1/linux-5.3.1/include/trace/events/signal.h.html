<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>signal.h source code [linux-5.3.1/include/trace/events/signal.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-5.3.1/include/trace/events/signal.h'; var root_path = '../../../..'; var data_path = '../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>linux-5.3.1</a>/<a href='../..'>include</a>/<a href='..'>trace</a>/<a href='./'>events</a>/<a href='signal.h.html'>signal.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* SPDX-License-Identifier: GPL-2.0 */</i></td></tr>
<tr><th id="2">2</th><td><u>#undef <span class="macro" data-ref="_M/TRACE_SYSTEM">TRACE_SYSTEM</span></u></td></tr>
<tr><th id="3">3</th><td><u>#define <dfn class="macro" id="_M/TRACE_SYSTEM" data-ref="_M/TRACE_SYSTEM">TRACE_SYSTEM</dfn> signal</u></td></tr>
<tr><th id="4">4</th><td></td></tr>
<tr><th id="5">5</th><td><u>#<span data-ppcond="5">if</span> !defined(<span class="macro" data-ref="_M/_TRACE_SIGNAL_H">_TRACE_SIGNAL_H</span>) || defined(<span class="macro" data-ref="_M/TRACE_HEADER_MULTI_READ">TRACE_HEADER_MULTI_READ</span>)</u></td></tr>
<tr><th id="6">6</th><td><u>#define <dfn class="macro" id="_M/_TRACE_SIGNAL_H" data-ref="_M/_TRACE_SIGNAL_H">_TRACE_SIGNAL_H</dfn></u></td></tr>
<tr><th id="7">7</th><td></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="../../linux/signal.h.html">&lt;linux/signal.h&gt;</a></u></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="../../linux/sched.h.html">&lt;linux/sched.h&gt;</a></u></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="../../linux/tracepoint.h.html">&lt;linux/tracepoint.h&gt;</a></u></td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td><u>#define <dfn class="macro" id="_M/TP_STORE_SIGINFO" data-ref="_M/TP_STORE_SIGINFO">TP_STORE_SIGINFO</dfn>(__entry, info)				\</u></td></tr>
<tr><th id="13">13</th><td><u>	do {							\</u></td></tr>
<tr><th id="14">14</th><td><u>		if (info == SEND_SIG_NOINFO) {			\</u></td></tr>
<tr><th id="15">15</th><td><u>			__entry-&gt;errno	= 0;			\</u></td></tr>
<tr><th id="16">16</th><td><u>			__entry-&gt;code	= SI_USER;		\</u></td></tr>
<tr><th id="17">17</th><td><u>		} else if (info == SEND_SIG_PRIV) {		\</u></td></tr>
<tr><th id="18">18</th><td><u>			__entry-&gt;errno	= 0;			\</u></td></tr>
<tr><th id="19">19</th><td><u>			__entry-&gt;code	= SI_KERNEL;		\</u></td></tr>
<tr><th id="20">20</th><td><u>		} else {					\</u></td></tr>
<tr><th id="21">21</th><td><u>			__entry-&gt;errno	= info-&gt;si_errno;	\</u></td></tr>
<tr><th id="22">22</th><td><u>			__entry-&gt;code	= info-&gt;si_code;	\</u></td></tr>
<tr><th id="23">23</th><td><u>		}						\</u></td></tr>
<tr><th id="24">24</th><td><u>	} while (0)</u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><u>#<span data-ppcond="26">ifndef</span> <span class="macro" data-ref="_M/TRACE_HEADER_MULTI_READ">TRACE_HEADER_MULTI_READ</span></u></td></tr>
<tr><th id="27">27</th><td><b>enum</b> {</td></tr>
<tr><th id="28">28</th><td>	<dfn class="enum" id="TRACE_SIGNAL_DELIVERED" title='TRACE_SIGNAL_DELIVERED' data-ref="TRACE_SIGNAL_DELIVERED" data-ref-filename="TRACE_SIGNAL_DELIVERED">TRACE_SIGNAL_DELIVERED</dfn>,</td></tr>
<tr><th id="29">29</th><td>	<dfn class="enum" id="TRACE_SIGNAL_IGNORED" title='TRACE_SIGNAL_IGNORED' data-ref="TRACE_SIGNAL_IGNORED" data-ref-filename="TRACE_SIGNAL_IGNORED">TRACE_SIGNAL_IGNORED</dfn>,</td></tr>
<tr><th id="30">30</th><td>	<dfn class="enum" id="TRACE_SIGNAL_ALREADY_PENDING" title='TRACE_SIGNAL_ALREADY_PENDING' data-ref="TRACE_SIGNAL_ALREADY_PENDING" data-ref-filename="TRACE_SIGNAL_ALREADY_PENDING">TRACE_SIGNAL_ALREADY_PENDING</dfn>,</td></tr>
<tr><th id="31">31</th><td>	<dfn class="enum" id="TRACE_SIGNAL_OVERFLOW_FAIL" title='TRACE_SIGNAL_OVERFLOW_FAIL' data-ref="TRACE_SIGNAL_OVERFLOW_FAIL" data-ref-filename="TRACE_SIGNAL_OVERFLOW_FAIL">TRACE_SIGNAL_OVERFLOW_FAIL</dfn>,</td></tr>
<tr><th id="32">32</th><td>	<dfn class="enum" id="TRACE_SIGNAL_LOSE_INFO" title='TRACE_SIGNAL_LOSE_INFO' data-ref="TRACE_SIGNAL_LOSE_INFO" data-ref-filename="TRACE_SIGNAL_LOSE_INFO">TRACE_SIGNAL_LOSE_INFO</dfn>,</td></tr>
<tr><th id="33">33</th><td>};</td></tr>
<tr><th id="34">34</th><td><u>#<span data-ppcond="26">endif</span></u></td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><i class="doc">/**</i></td></tr>
<tr><th id="37">37</th><td><i class="doc"> * signal_generate - called when a signal is generated</i></td></tr>
<tr><th id="38">38</th><td><i class="doc"> *<span class="command"> @sig</span>: signal number</i></td></tr>
<tr><th id="39">39</th><td><i class="doc"> *<span class="command"> @info</span>: pointer to struct siginfo</i></td></tr>
<tr><th id="40">40</th><td><i class="doc"> *<span class="command"> @task</span>: pointer to struct task_struct</i></td></tr>
<tr><th id="41">41</th><td><i class="doc"> *<span class="command"> @group</span>: shared or private</i></td></tr>
<tr><th id="42">42</th><td><i class="doc"> * <span class="command">@result</span>: TRACE_SIGNAL_*</i></td></tr>
<tr><th id="43">43</th><td><i class="doc"> *</i></td></tr>
<tr><th id="44">44</th><td><i class="doc"> * Current process sends a 'sig' signal to 'task' process with</i></td></tr>
<tr><th id="45">45</th><td><i class="doc"> * 'info' siginfo. If 'info' is SEND_SIG_NOINFO or SEND_SIG_PRIV,</i></td></tr>
<tr><th id="46">46</th><td><i class="doc"> * 'info' is not a pointer and you can't access its field. Instead,</i></td></tr>
<tr><th id="47">47</th><td><i class="doc"> * SEND_SIG_NOINFO means that si_code is SI_USER, and SEND_SIG_PRIV</i></td></tr>
<tr><th id="48">48</th><td><i class="doc"> * means that si_code is SI_KERNEL.</i></td></tr>
<tr><th id="49">49</th><td><i class="doc"> */</i></td></tr>
<tr><th id="50">50</th><td><a class="macro" href="../../linux/tracepoint.h.html#531" title="extern struct tracepoint __tracepoint_signal_generate; static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) void trace_signal_generate(int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result) { if (static_key_false(&amp;__tracepoint_signal_generate.key)) do { struct tracepoint_func *it_func_ptr; void *it_func; void *__data; int __attribute__((__unused__)) __idx = 0; if (!(cpumask_test_cpu((({ typeof(cpu_number) pscr_ret__; do { const void *__vpp_verify = (typeof((&amp;(cpu_number)) + 0))((void *)0); (void)__vpp_verify; } while (0); switch(sizeof(cpu_number)) { case 1: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 2: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 4: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 8: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; default: __bad_size_call_parameter(); break; } pscr_ret__; })), ((const struct cpumask *)&amp;__cpu_online_mask)))) return; ({ int __ret_warn_on = !!(0 &amp;&amp; (preempt_count() &amp; (((1UL &lt;&lt; (1))-1) &lt;&lt; (((0 + 8) + 8) + 4)))); if (__builtin_expect(!!(__ret_warn_on), 0)) do { do { asm volatile(&quot;1:\t&quot; &quot;.byte 0x0f, 0x0b&quot; &quot;\n&quot; &quot;.pushsection __bug_table,\&quot;aw\&quot;\n&quot; &quot;2:\t&quot; &quot;.long &quot; &quot;1b&quot; &quot; - 2b&quot; &quot;\t# bug_entry::bug_addr\n&quot; &quot;\t&quot; &quot;.long &quot; &quot;%c0&quot; &quot; - 2b&quot; &quot;\t# bug_entry::file\n&quot; &quot;\t.word %c1&quot; &quot;\t# bug_entry::line\n&quot; &quot;\t.word %c2&quot; &quot;\t# bug_entry::flags\n&quot; &quot;\t.org 2b+%c3\n&quot; &quot;.popsection&quot; : : &quot;i&quot; (&quot;/home/woboq/linux-5.3.1/./include/trace/events/signal.h&quot;), &quot;i&quot; (80), &quot;i&quot; ((1 &lt;&lt; 0)|((1 &lt;&lt; 1)|((9) &lt;&lt; 8))), &quot;i&quot; (sizeof(struct bug_entry))); } while (0); ({ asm volatile(&quot;%c0:\n\t&quot; &quot;.pushsection .discard.reachable\n\t&quot; &quot;.long %c0b - .\n\t&quot; &quot;.popsection\n\t&quot; : : &quot;i&quot; (98)); }); } while (0); __builtin_expect(!!(__ret_warn_on), 0); }); __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); if (0) { __idx = srcu_read_lock_notrace(&amp;tracepoint_srcu); rcu_irq_enter_irqson(); } it_func_ptr = ({ typeof((&amp;__tracepoint_signal_generate)-&gt;funcs) ________p1 = ({ union { typeof((&amp;__tracepoint_signal_generate)-&gt;funcs) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((&amp;__tracepoint_signal_generate)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_generate)-&gt;funcs)); else __read_once_size_nocheck(&amp;((&amp;__tracepoint_signal_generate)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_generate)-&gt;funcs)); do { } while (0); __u.__val; }); ((typeof(*(&amp;__tracepoint_signal_generate)-&gt;funcs) *)(________p1)); }); if (it_func_ptr) { do { it_func = (it_func_ptr)-&gt;func; __data = (it_func_ptr)-&gt;data; ((void(*)(void *__data, int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result))(it_func))(__data, sig, info, task, group, result); } while ((++it_func_ptr)-&gt;func); } if (0) { rcu_irq_exit_irqson(); srcu_read_unlock_notrace(&amp;tracepoint_srcu, __idx); } __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); } while (0); if (0 &amp;&amp; (cpumask_test_cpu((({ typeof(cpu_number) pscr_ret__; do { const void *__vpp_verify = (typeof((&amp;(cpu_number)) + 0))((void *)0); (void)__vpp_verify; } while (0); switch(sizeof(cpu_number)) { case 1: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 2: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 4: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 8: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; default: __bad_size_call_parameter(); break; } pscr_ret__; })), ((const struct cpumask *)&amp;__cpu_online_mask)))) { rcu_read_lock_sched_notrace(); ({ typeof(*(__tracepoint_signal_generate.funcs)) *________p1 = (typeof(*(__tracepoint_signal_generate.funcs)) *)({ union { typeof((__tracepoint_signal_generate.funcs)) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((__tracepoint_signal_generate.funcs)), __u.__c, sizeof((__tracepoint_signal_generate.funcs))); else __read_once_size_nocheck(&amp;((__tracepoint_signal_generate.funcs)), __u.__c, sizeof((__tracepoint_signal_generate.funcs))); do { } while (0); __u.__val; }); do { } while (0); ; ((typeof(*(__tracepoint_signal_generate.funcs)) *)(________p1)); }); rcu_read_unlock_sched_notrace(); } } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) void trace_signal_generate_rcuidle(int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result) { if (static_key_false(&amp;__tracepoint_signal_generate.key)) do { struct tracepoint_func *it_func_ptr; void *it_func; void *__data; int __attribute__((__unused__)) __idx = 0; if (!(cpumask_test_cpu((({ typeof(cpu_number) pscr_ret__; do { const void *__vpp_verify = (typeof((&amp;(cpu_number)) + 0))((void *)0); (void)__vpp_verify; } while (0); switch(sizeof(cpu_number)) { case 1: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 2: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 4: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 8: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; default: __bad_size_call_parameter(); break; } pscr_ret__; })), ((const struct cpumask *)&amp;__cpu_online_mask)))) return; ({ int __ret_warn_on = !!(1 &amp;&amp; (preempt_count() &amp; (((1UL &lt;&lt; (1))-1) &lt;&lt; (((0 + 8) + 8) + 4)))); if (__builtin_expect(!!(__ret_warn_on), 0)) do { do { asm volatile(&quot;1:\t&quot; &quot;.byte 0x0f, 0x0b&quot; &quot;\n&quot; &quot;.pushsection __bug_table,\&quot;aw\&quot;\n&quot; &quot;2:\t&quot; &quot;.long &quot; &quot;1b&quot; &quot; - 2b&quot; &quot;\t# bug_entry::bug_addr\n&quot; &quot;\t&quot; &quot;.long &quot; &quot;%c0&quot; &quot; - 2b&quot; &quot;\t# bug_entry::file\n&quot; &quot;\t.word %c1&quot; &quot;\t# bug_entry::line\n&quot; &quot;\t.word %c2&quot; &quot;\t# bug_entry::flags\n&quot; &quot;\t.org 2b+%c3\n&quot; &quot;.popsection&quot; : : &quot;i&quot; (&quot;/home/woboq/linux-5.3.1/./include/trace/events/signal.h&quot;), &quot;i&quot; (80), &quot;i&quot; ((1 &lt;&lt; 0)|((1 &lt;&lt; 1)|((9) &lt;&lt; 8))), &quot;i&quot; (sizeof(struct bug_entry))); } while (0); ({ asm volatile(&quot;%c0:\n\t&quot; &quot;.pushsection .discard.reachable\n\t&quot; &quot;.long %c0b - .\n\t&quot; &quot;.popsection\n\t&quot; : : &quot;i&quot; (99)); }); } while (0); __builtin_expect(!!(__ret_warn_on), 0); }); __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); if (1) { __idx = srcu_read_lock_notrace(&amp;tracepoint_srcu); rcu_irq_enter_irqson(); } it_func_ptr = ({ typeof((&amp;__tracepoint_signal_generate)-&gt;funcs) ________p1 = ({ union { typeof((&amp;__tracepoint_signal_generate)-&gt;funcs) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((&amp;__tracepoint_signal_generate)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_generate)-&gt;funcs)); else __read_once_size_nocheck(&amp;((&amp;__tracepoint_signal_generate)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_generate)-&gt;funcs)); do { } while (0); __u.__val; }); ((typeof(*(&amp;__tracepoint_signal_generate)-&gt;funcs) *)(________p1)); }); if (it_func_ptr) { do { it_func = (it_func_ptr)-&gt;func; __data = (it_func_ptr)-&gt;data; ((void(*)(void *__data, int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result))(it_func))(__data, sig, info, task, group, result); } while ((++it_func_ptr)-&gt;func); } if (1) { rcu_irq_exit_irqson(); srcu_read_unlock_notrace(&amp;tracepoint_srcu, __idx); } __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); } while (0); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) int register_trace_signal_generate(void (*probe)(void *__data, int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result), void *data) { return tracepoint_probe_register(&amp;__tracepoint_signal_generate, (void *)probe, data); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) int register_trace_prio_signal_generate(void (*probe)(void *__data, int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result), void *data, int prio) { return tracepoint_probe_register_prio(&amp;__tracepoint_signal_generate, (void *)probe, data, prio); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) int unregister_trace_signal_generate(void (*probe)(void *__data, int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result), void *data) { return tracepoint_probe_unregister(&amp;__tracepoint_signal_generate, (void *)probe, data); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) void check_trace_callback_type_signal_generate(void (*cb)(void *__data, int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result)) { } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) bool trace_signal_generate_enabled(void) { return static_key_false(&amp;__tracepoint_signal_generate.key); }" data-ref="_M/TRACE_EVENT">TRACE_EVENT</a>(signal_generate,</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td>	<a class="macro" href="../../linux/tracepoint.h.html#135" title="int sig, struct kernel_siginfo *info, struct task_struct *task, int group, int result" data-ref="_M/TP_PROTO">TP_PROTO</a>(<em>int</em> <dfn class="local col1 decl" id="1sig" title='sig' data-type='int' data-ref="1sig" data-ref-filename="1sig"><dfn class="local col6 decl" id="6sig" title='sig' data-type='int' data-ref="6sig" data-ref-filename="6sig"><dfn class="local col1 decl" id="11sig" title='sig' data-type='int' data-ref="11sig" data-ref-filename="11sig"><dfn class="local col6 decl" id="16sig" title='sig' data-type='int' data-ref="16sig" data-ref-filename="16sig"><dfn class="local col1 decl" id="21sig" title='sig' data-type='int' data-ref="21sig" data-ref-filename="21sig"><dfn class="local col6 decl" id="26sig" title='sig' data-type='int' data-ref="26sig" data-ref-filename="26sig"><dfn class="local col1 decl" id="31sig" title='sig' data-type='int' data-ref="31sig" data-ref-filename="31sig"><dfn class="local col6 decl" id="36sig" title='sig' data-type='int' data-ref="36sig" data-ref-filename="36sig">sig</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, <b>struct</b> <a class="type" href="../../linux/signal_types.h.html#kernel_siginfo" title='kernel_siginfo' data-ref="kernel_siginfo" data-ref-filename="kernel_siginfo">kernel_siginfo</a> *<dfn class="local col2 decl" id="2info" title='info' data-type='struct kernel_siginfo *' data-ref="2info" data-ref-filename="2info"><dfn class="local col7 decl" id="7info" title='info' data-type='struct kernel_siginfo *' data-ref="7info" data-ref-filename="7info"><dfn class="local col2 decl" id="12info" title='info' data-type='struct kernel_siginfo *' data-ref="12info" data-ref-filename="12info"><dfn class="local col7 decl" id="17info" title='info' data-type='struct kernel_siginfo *' data-ref="17info" data-ref-filename="17info"><dfn class="local col2 decl" id="22info" title='info' data-type='struct kernel_siginfo *' data-ref="22info" data-ref-filename="22info"><dfn class="local col7 decl" id="27info" title='info' data-type='struct kernel_siginfo *' data-ref="27info" data-ref-filename="27info"><dfn class="local col2 decl" id="32info" title='info' data-type='struct kernel_siginfo *' data-ref="32info" data-ref-filename="32info"><dfn class="local col7 decl" id="37info" title='info' data-type='struct kernel_siginfo *' data-ref="37info" data-ref-filename="37info">info</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, <b>struct</b> <a class="type" href="../../linux/sched.h.html#task_struct" title='task_struct' data-ref="task_struct" data-ref-filename="task_struct">task_struct</a> *<dfn class="local col3 decl" id="3task" title='task' data-type='struct task_struct *' data-ref="3task" data-ref-filename="3task"><dfn class="local col8 decl" id="8task" title='task' data-type='struct task_struct *' data-ref="8task" data-ref-filename="8task"><dfn class="local col3 decl" id="13task" title='task' data-type='struct task_struct *' data-ref="13task" data-ref-filename="13task"><dfn class="local col8 decl" id="18task" title='task' data-type='struct task_struct *' data-ref="18task" data-ref-filename="18task"><dfn class="local col3 decl" id="23task" title='task' data-type='struct task_struct *' data-ref="23task" data-ref-filename="23task"><dfn class="local col8 decl" id="28task" title='task' data-type='struct task_struct *' data-ref="28task" data-ref-filename="28task"><dfn class="local col3 decl" id="33task" title='task' data-type='struct task_struct *' data-ref="33task" data-ref-filename="33task"><dfn class="local col8 decl" id="38task" title='task' data-type='struct task_struct *' data-ref="38task" data-ref-filename="38task">task</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>,</td></tr>
<tr><th id="53">53</th><td>			<em>int</em> <dfn class="local col4 decl" id="4group" title='group' data-type='int' data-ref="4group" data-ref-filename="4group"><dfn class="local col9 decl" id="9group" title='group' data-type='int' data-ref="9group" data-ref-filename="9group"><dfn class="local col4 decl" id="14group" title='group' data-type='int' data-ref="14group" data-ref-filename="14group"><dfn class="local col9 decl" id="19group" title='group' data-type='int' data-ref="19group" data-ref-filename="19group"><dfn class="local col4 decl" id="24group" title='group' data-type='int' data-ref="24group" data-ref-filename="24group"><dfn class="local col9 decl" id="29group" title='group' data-type='int' data-ref="29group" data-ref-filename="29group"><dfn class="local col4 decl" id="34group" title='group' data-type='int' data-ref="34group" data-ref-filename="34group"><dfn class="local col9 decl" id="39group" title='group' data-type='int' data-ref="39group" data-ref-filename="39group">group</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, <em>int</em> <dfn class="local col5 decl" id="5result" title='result' data-type='int' data-ref="5result" data-ref-filename="5result"><dfn class="local col0 decl" id="10result" title='result' data-type='int' data-ref="10result" data-ref-filename="10result"><dfn class="local col5 decl" id="15result" title='result' data-type='int' data-ref="15result" data-ref-filename="15result"><dfn class="local col0 decl" id="20result" title='result' data-type='int' data-ref="20result" data-ref-filename="20result"><dfn class="local col5 decl" id="25result" title='result' data-type='int' data-ref="25result" data-ref-filename="25result"><dfn class="local col0 decl" id="30result" title='result' data-type='int' data-ref="30result" data-ref-filename="30result"><dfn class="local col5 decl" id="35result" title='result' data-type='int' data-ref="35result" data-ref-filename="35result"><dfn class="local col0 decl" id="40result" title='result' data-type='int' data-ref="40result" data-ref-filename="40result">result</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>),</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td>	<a class="macro" href="../../linux/tracepoint.h.html#136" title="sig, info, task, group, result" data-ref="_M/TP_ARGS">TP_ARGS</a>(<a class="local col1 ref" href="#50" title='sig' data-ref="1sig" data-ref-filename="1sig"><a class="local col1 ref" href="#50" title='sig' data-ref="11sig" data-ref-filename="11sig">sig</a></a>, <a class="local col2 ref" href="#50" title='info' data-ref="2info" data-ref-filename="2info"><a class="local col2 ref" href="#50" title='info' data-ref="12info" data-ref-filename="12info">info</a></a>, <a class="local col3 ref" href="#50" title='task' data-ref="3task" data-ref-filename="3task"><a class="local col3 ref" href="#50" title='task' data-ref="13task" data-ref-filename="13task">task</a></a>, <a class="local col4 ref" href="#50" title='group' data-ref="4group" data-ref-filename="4group"><a class="local col4 ref" href="#50" title='group' data-ref="14group" data-ref-filename="14group">group</a></a>, <a class="local col5 ref" href="#50" title='result' data-ref="5result" data-ref-filename="5result"><a class="local col5 ref" href="#50" title='result' data-ref="15result" data-ref-filename="15result">result</a></a>),</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td>	TP_STRUCT__entry(</td></tr>
<tr><th id="58">58</th><td>		__field(	<em>int</em>,	sig			)</td></tr>
<tr><th id="59">59</th><td>		__field(	<em>int</em>,	errno			)</td></tr>
<tr><th id="60">60</th><td>		__field(	<em>int</em>,	code			)</td></tr>
<tr><th id="61">61</th><td>		__array(	<em>char</em>,	comm,	TASK_COMM_LEN	)</td></tr>
<tr><th id="62">62</th><td>		__field(	pid_t,	pid			)</td></tr>
<tr><th id="63">63</th><td>		__field(	<em>int</em>,	group			)</td></tr>
<tr><th id="64">64</th><td>		__field(	<em>int</em>,	result			)</td></tr>
<tr><th id="65">65</th><td>	),</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td>	TP_fast_assign(</td></tr>
<tr><th id="68">68</th><td>		__entry-&gt;sig	= sig;</td></tr>
<tr><th id="69">69</th><td>		TP_STORE_SIGINFO(__entry, info);</td></tr>
<tr><th id="70">70</th><td>		memcpy(__entry-&gt;comm, task-&gt;comm, TASK_COMM_LEN);</td></tr>
<tr><th id="71">71</th><td>		__entry-&gt;pid	= task-&gt;pid;</td></tr>
<tr><th id="72">72</th><td>		__entry-&gt;group	= group;</td></tr>
<tr><th id="73">73</th><td>		__entry-&gt;result	= result;</td></tr>
<tr><th id="74">74</th><td>	),</td></tr>
<tr><th id="75">75</th><td></td></tr>
<tr><th id="76">76</th><td>	TP_printk(<q>"sig=%d errno=%d code=%d comm=%s pid=%d grp=%d res=%d"</q>,</td></tr>
<tr><th id="77">77</th><td>		  __entry-&gt;sig, __entry-&gt;errno, __entry-&gt;code,</td></tr>
<tr><th id="78">78</th><td>		  __entry-&gt;comm, __entry-&gt;pid, __entry-&gt;group,</td></tr>
<tr><th id="79">79</th><td>		  __entry-&gt;result)</td></tr>
<tr><th id="80">80</th><td>);</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><i class="doc">/**</i></td></tr>
<tr><th id="83">83</th><td><i class="doc"> * signal_deliver - called when a signal is delivered</i></td></tr>
<tr><th id="84">84</th><td><i class="doc"> *<span class="command"> @sig</span>: signal number</i></td></tr>
<tr><th id="85">85</th><td><i class="doc"> *<span class="command"> @info</span>: pointer to struct siginfo</i></td></tr>
<tr><th id="86">86</th><td><i class="doc"> *<span class="command"> @ka</span>: pointer to struct k_sigaction</i></td></tr>
<tr><th id="87">87</th><td><i class="doc"> *</i></td></tr>
<tr><th id="88">88</th><td><i class="doc"> * A 'sig' signal is delivered to current process with 'info' siginfo,</i></td></tr>
<tr><th id="89">89</th><td><i class="doc"> * and it will be handled by 'ka'. ka-&gt;sa.sa_handler can be SIG_IGN or</i></td></tr>
<tr><th id="90">90</th><td><i class="doc"> * SIG_DFL.</i></td></tr>
<tr><th id="91">91</th><td><i class="doc"> * Note that some signals reported by signal_generate tracepoint can be</i></td></tr>
<tr><th id="92">92</th><td><i class="doc"> * lost, ignored or modified (by debugger) before hitting this tracepoint.</i></td></tr>
<tr><th id="93">93</th><td><i class="doc"> * This means, this can show which signals are actually delivered, but</i></td></tr>
<tr><th id="94">94</th><td><i class="doc"> * matching generated signals and delivered signals may not be correct.</i></td></tr>
<tr><th id="95">95</th><td><i class="doc"> */</i></td></tr>
<tr><th id="96">96</th><td><a class="macro" href="../../linux/tracepoint.h.html#531" title="extern struct tracepoint __tracepoint_signal_deliver; static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) void trace_signal_deliver(int sig, struct kernel_siginfo *info, struct k_sigaction *ka) { if (static_key_false(&amp;__tracepoint_signal_deliver.key)) do { struct tracepoint_func *it_func_ptr; void *it_func; void *__data; int __attribute__((__unused__)) __idx = 0; if (!(cpumask_test_cpu((({ typeof(cpu_number) pscr_ret__; do { const void *__vpp_verify = (typeof((&amp;(cpu_number)) + 0))((void *)0); (void)__vpp_verify; } while (0); switch(sizeof(cpu_number)) { case 1: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 2: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 4: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 8: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; default: __bad_size_call_parameter(); break; } pscr_ret__; })), ((const struct cpumask *)&amp;__cpu_online_mask)))) return; ({ int __ret_warn_on = !!(0 &amp;&amp; (preempt_count() &amp; (((1UL &lt;&lt; (1))-1) &lt;&lt; (((0 + 8) + 8) + 4)))); if (__builtin_expect(!!(__ret_warn_on), 0)) do { do { asm volatile(&quot;1:\t&quot; &quot;.byte 0x0f, 0x0b&quot; &quot;\n&quot; &quot;.pushsection __bug_table,\&quot;aw\&quot;\n&quot; &quot;2:\t&quot; &quot;.long &quot; &quot;1b&quot; &quot; - 2b&quot; &quot;\t# bug_entry::bug_addr\n&quot; &quot;\t&quot; &quot;.long &quot; &quot;%c0&quot; &quot; - 2b&quot; &quot;\t# bug_entry::file\n&quot; &quot;\t.word %c1&quot; &quot;\t# bug_entry::line\n&quot; &quot;\t.word %c2&quot; &quot;\t# bug_entry::flags\n&quot; &quot;\t.org 2b+%c3\n&quot; &quot;.popsection&quot; : : &quot;i&quot; (&quot;/home/woboq/linux-5.3.1/./include/trace/events/signal.h&quot;), &quot;i&quot; (120), &quot;i&quot; ((1 &lt;&lt; 0)|((1 &lt;&lt; 1)|((9) &lt;&lt; 8))), &quot;i&quot; (sizeof(struct bug_entry))); } while (0); ({ asm volatile(&quot;%c0:\n\t&quot; &quot;.pushsection .discard.reachable\n\t&quot; &quot;.long %c0b - .\n\t&quot; &quot;.popsection\n\t&quot; : : &quot;i&quot; (102)); }); } while (0); __builtin_expect(!!(__ret_warn_on), 0); }); __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); if (0) { __idx = srcu_read_lock_notrace(&amp;tracepoint_srcu); rcu_irq_enter_irqson(); } it_func_ptr = ({ typeof((&amp;__tracepoint_signal_deliver)-&gt;funcs) ________p1 = ({ union { typeof((&amp;__tracepoint_signal_deliver)-&gt;funcs) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((&amp;__tracepoint_signal_deliver)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_deliver)-&gt;funcs)); else __read_once_size_nocheck(&amp;((&amp;__tracepoint_signal_deliver)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_deliver)-&gt;funcs)); do { } while (0); __u.__val; }); ((typeof(*(&amp;__tracepoint_signal_deliver)-&gt;funcs) *)(________p1)); }); if (it_func_ptr) { do { it_func = (it_func_ptr)-&gt;func; __data = (it_func_ptr)-&gt;data; ((void(*)(void *__data, int sig, struct kernel_siginfo *info, struct k_sigaction *ka))(it_func))(__data, sig, info, ka); } while ((++it_func_ptr)-&gt;func); } if (0) { rcu_irq_exit_irqson(); srcu_read_unlock_notrace(&amp;tracepoint_srcu, __idx); } __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); } while (0); if (0 &amp;&amp; (cpumask_test_cpu((({ typeof(cpu_number) pscr_ret__; do { const void *__vpp_verify = (typeof((&amp;(cpu_number)) + 0))((void *)0); (void)__vpp_verify; } while (0); switch(sizeof(cpu_number)) { case 1: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 2: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 4: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 8: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; default: __bad_size_call_parameter(); break; } pscr_ret__; })), ((const struct cpumask *)&amp;__cpu_online_mask)))) { rcu_read_lock_sched_notrace(); ({ typeof(*(__tracepoint_signal_deliver.funcs)) *________p1 = (typeof(*(__tracepoint_signal_deliver.funcs)) *)({ union { typeof((__tracepoint_signal_deliver.funcs)) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((__tracepoint_signal_deliver.funcs)), __u.__c, sizeof((__tracepoint_signal_deliver.funcs))); else __read_once_size_nocheck(&amp;((__tracepoint_signal_deliver.funcs)), __u.__c, sizeof((__tracepoint_signal_deliver.funcs))); do { } while (0); __u.__val; }); do { } while (0); ; ((typeof(*(__tracepoint_signal_deliver.funcs)) *)(________p1)); }); rcu_read_unlock_sched_notrace(); } } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) void trace_signal_deliver_rcuidle(int sig, struct kernel_siginfo *info, struct k_sigaction *ka) { if (static_key_false(&amp;__tracepoint_signal_deliver.key)) do { struct tracepoint_func *it_func_ptr; void *it_func; void *__data; int __attribute__((__unused__)) __idx = 0; if (!(cpumask_test_cpu((({ typeof(cpu_number) pscr_ret__; do { const void *__vpp_verify = (typeof((&amp;(cpu_number)) + 0))((void *)0); (void)__vpp_verify; } while (0); switch(sizeof(cpu_number)) { case 1: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 2: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 4: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; case 8: pscr_ret__ = ({ typeof(cpu_number) pfo_ret__; switch (sizeof(cpu_number)) { case 1: asm volatile (&quot;mov&quot; &quot;b &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=q&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 2: asm volatile (&quot;mov&quot; &quot;w &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 4: asm volatile (&quot;mov&quot; &quot;l &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; case 8: asm volatile (&quot;mov&quot; &quot;q &quot;&quot;%%&quot;&quot;gs&quot;&quot;:&quot; &quot;%&quot; &quot;1&quot;&quot;,%0&quot; : &quot;=r&quot; (pfo_ret__) : &quot;m&quot; (cpu_number)); break; default: __bad_percpu_size(); } pfo_ret__; }); break; default: __bad_size_call_parameter(); break; } pscr_ret__; })), ((const struct cpumask *)&amp;__cpu_online_mask)))) return; ({ int __ret_warn_on = !!(1 &amp;&amp; (preempt_count() &amp; (((1UL &lt;&lt; (1))-1) &lt;&lt; (((0 + 8) + 8) + 4)))); if (__builtin_expect(!!(__ret_warn_on), 0)) do { do { asm volatile(&quot;1:\t&quot; &quot;.byte 0x0f, 0x0b&quot; &quot;\n&quot; &quot;.pushsection __bug_table,\&quot;aw\&quot;\n&quot; &quot;2:\t&quot; &quot;.long &quot; &quot;1b&quot; &quot; - 2b&quot; &quot;\t# bug_entry::bug_addr\n&quot; &quot;\t&quot; &quot;.long &quot; &quot;%c0&quot; &quot; - 2b&quot; &quot;\t# bug_entry::file\n&quot; &quot;\t.word %c1&quot; &quot;\t# bug_entry::line\n&quot; &quot;\t.word %c2&quot; &quot;\t# bug_entry::flags\n&quot; &quot;\t.org 2b+%c3\n&quot; &quot;.popsection&quot; : : &quot;i&quot; (&quot;/home/woboq/linux-5.3.1/./include/trace/events/signal.h&quot;), &quot;i&quot; (120), &quot;i&quot; ((1 &lt;&lt; 0)|((1 &lt;&lt; 1)|((9) &lt;&lt; 8))), &quot;i&quot; (sizeof(struct bug_entry))); } while (0); ({ asm volatile(&quot;%c0:\n\t&quot; &quot;.pushsection .discard.reachable\n\t&quot; &quot;.long %c0b - .\n\t&quot; &quot;.popsection\n\t&quot; : : &quot;i&quot; (103)); }); } while (0); __builtin_expect(!!(__ret_warn_on), 0); }); __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); if (1) { __idx = srcu_read_lock_notrace(&amp;tracepoint_srcu); rcu_irq_enter_irqson(); } it_func_ptr = ({ typeof((&amp;__tracepoint_signal_deliver)-&gt;funcs) ________p1 = ({ union { typeof((&amp;__tracepoint_signal_deliver)-&gt;funcs) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((&amp;__tracepoint_signal_deliver)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_deliver)-&gt;funcs)); else __read_once_size_nocheck(&amp;((&amp;__tracepoint_signal_deliver)-&gt;funcs), __u.__c, sizeof((&amp;__tracepoint_signal_deliver)-&gt;funcs)); do { } while (0); __u.__val; }); ((typeof(*(&amp;__tracepoint_signal_deliver)-&gt;funcs) *)(________p1)); }); if (it_func_ptr) { do { it_func = (it_func_ptr)-&gt;func; __data = (it_func_ptr)-&gt;data; ((void(*)(void *__data, int sig, struct kernel_siginfo *info, struct k_sigaction *ka))(it_func))(__data, sig, info, ka); } while ((++it_func_ptr)-&gt;func); } if (1) { rcu_irq_exit_irqson(); srcu_read_unlock_notrace(&amp;tracepoint_srcu, __idx); } __asm__ __volatile__(&quot;&quot; : : : &quot;memory&quot;); } while (0); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) int register_trace_signal_deliver(void (*probe)(void *__data, int sig, struct kernel_siginfo *info, struct k_sigaction *ka), void *data) { return tracepoint_probe_register(&amp;__tracepoint_signal_deliver, (void *)probe, data); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) int register_trace_prio_signal_deliver(void (*probe)(void *__data, int sig, struct kernel_siginfo *info, struct k_sigaction *ka), void *data, int prio) { return tracepoint_probe_register_prio(&amp;__tracepoint_signal_deliver, (void *)probe, data, prio); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) int unregister_trace_signal_deliver(void (*probe)(void *__data, int sig, struct kernel_siginfo *info, struct k_sigaction *ka), void *data) { return tracepoint_probe_unregister(&amp;__tracepoint_signal_deliver, (void *)probe, data); } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) void check_trace_callback_type_signal_deliver(void (*cb)(void *__data, int sig, struct kernel_siginfo *info, struct k_sigaction *ka)) { } static inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function)) bool trace_signal_deliver_enabled(void) { return static_key_false(&amp;__tracepoint_signal_deliver.key); }" data-ref="_M/TRACE_EVENT">TRACE_EVENT</a>(signal_deliver,</td></tr>
<tr><th id="97">97</th><td></td></tr>
<tr><th id="98">98</th><td>	<a class="macro" href="../../linux/tracepoint.h.html#135" title="int sig, struct kernel_siginfo *info, struct k_sigaction *ka" data-ref="_M/TP_PROTO">TP_PROTO</a>(<em>int</em> <dfn class="local col1 decl" id="41sig" title='sig' data-type='int' data-ref="41sig" data-ref-filename="41sig"><dfn class="local col4 decl" id="44sig" title='sig' data-type='int' data-ref="44sig" data-ref-filename="44sig"><dfn class="local col7 decl" id="47sig" title='sig' data-type='int' data-ref="47sig" data-ref-filename="47sig"><dfn class="local col0 decl" id="50sig" title='sig' data-type='int' data-ref="50sig" data-ref-filename="50sig"><dfn class="local col3 decl" id="53sig" title='sig' data-type='int' data-ref="53sig" data-ref-filename="53sig"><dfn class="local col6 decl" id="56sig" title='sig' data-type='int' data-ref="56sig" data-ref-filename="56sig"><dfn class="local col9 decl" id="59sig" title='sig' data-type='int' data-ref="59sig" data-ref-filename="59sig"><dfn class="local col2 decl" id="62sig" title='sig' data-type='int' data-ref="62sig" data-ref-filename="62sig">sig</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, <b>struct</b> <a class="type" href="../../linux/signal_types.h.html#kernel_siginfo" title='kernel_siginfo' data-ref="kernel_siginfo" data-ref-filename="kernel_siginfo">kernel_siginfo</a> *<dfn class="local col2 decl" id="42info" title='info' data-type='struct kernel_siginfo *' data-ref="42info" data-ref-filename="42info"><dfn class="local col5 decl" id="45info" title='info' data-type='struct kernel_siginfo *' data-ref="45info" data-ref-filename="45info"><dfn class="local col8 decl" id="48info" title='info' data-type='struct kernel_siginfo *' data-ref="48info" data-ref-filename="48info"><dfn class="local col1 decl" id="51info" title='info' data-type='struct kernel_siginfo *' data-ref="51info" data-ref-filename="51info"><dfn class="local col4 decl" id="54info" title='info' data-type='struct kernel_siginfo *' data-ref="54info" data-ref-filename="54info"><dfn class="local col7 decl" id="57info" title='info' data-type='struct kernel_siginfo *' data-ref="57info" data-ref-filename="57info"><dfn class="local col0 decl" id="60info" title='info' data-type='struct kernel_siginfo *' data-ref="60info" data-ref-filename="60info"><dfn class="local col3 decl" id="63info" title='info' data-type='struct kernel_siginfo *' data-ref="63info" data-ref-filename="63info">info</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, <b>struct</b> <a class="type" href="../../linux/signal_types.h.html#k_sigaction" title='k_sigaction' data-ref="k_sigaction" data-ref-filename="k_sigaction">k_sigaction</a> *<dfn class="local col3 decl" id="43ka" title='ka' data-type='struct k_sigaction *' data-ref="43ka" data-ref-filename="43ka"><dfn class="local col6 decl" id="46ka" title='ka' data-type='struct k_sigaction *' data-ref="46ka" data-ref-filename="46ka"><dfn class="local col9 decl" id="49ka" title='ka' data-type='struct k_sigaction *' data-ref="49ka" data-ref-filename="49ka"><dfn class="local col2 decl" id="52ka" title='ka' data-type='struct k_sigaction *' data-ref="52ka" data-ref-filename="52ka"><dfn class="local col5 decl" id="55ka" title='ka' data-type='struct k_sigaction *' data-ref="55ka" data-ref-filename="55ka"><dfn class="local col8 decl" id="58ka" title='ka' data-type='struct k_sigaction *' data-ref="58ka" data-ref-filename="58ka"><dfn class="local col1 decl" id="61ka" title='ka' data-type='struct k_sigaction *' data-ref="61ka" data-ref-filename="61ka"><dfn class="local col4 decl" id="64ka" title='ka' data-type='struct k_sigaction *' data-ref="64ka" data-ref-filename="64ka">ka</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>),</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td>	<a class="macro" href="../../linux/tracepoint.h.html#136" title="sig, info, ka" data-ref="_M/TP_ARGS">TP_ARGS</a>(<a class="local col1 ref" href="#96" title='sig' data-ref="41sig" data-ref-filename="41sig"><a class="local col7 ref" href="#96" title='sig' data-ref="47sig" data-ref-filename="47sig">sig</a></a>, <a class="local col2 ref" href="#96" title='info' data-ref="42info" data-ref-filename="42info"><a class="local col8 ref" href="#96" title='info' data-ref="48info" data-ref-filename="48info">info</a></a>, <a class="local col3 ref" href="#96" title='ka' data-ref="43ka" data-ref-filename="43ka"><a class="local col9 ref" href="#96" title='ka' data-ref="49ka" data-ref-filename="49ka">ka</a></a>),</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>	TP_STRUCT__entry(</td></tr>
<tr><th id="103">103</th><td>		__field(	<em>int</em>,		sig		)</td></tr>
<tr><th id="104">104</th><td>		__field(	<em>int</em>,		errno		)</td></tr>
<tr><th id="105">105</th><td>		__field(	<em>int</em>,		code		)</td></tr>
<tr><th id="106">106</th><td>		__field(	<em>unsigned</em> <em>long</em>,	sa_handler	)</td></tr>
<tr><th id="107">107</th><td>		__field(	<em>unsigned</em> <em>long</em>,	sa_flags	)</td></tr>
<tr><th id="108">108</th><td>	),</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td>	TP_fast_assign(</td></tr>
<tr><th id="111">111</th><td>		__entry-&gt;sig	= sig;</td></tr>
<tr><th id="112">112</th><td>		TP_STORE_SIGINFO(__entry, info);</td></tr>
<tr><th id="113">113</th><td>		__entry-&gt;sa_handler	= (<em>unsigned</em> <em>long</em>)ka-&gt;sa.sa_handler;</td></tr>
<tr><th id="114">114</th><td>		__entry-&gt;sa_flags	= ka-&gt;sa.sa_flags;</td></tr>
<tr><th id="115">115</th><td>	),</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td>	TP_printk(<q>"sig=%d errno=%d code=%d sa_handler=%lx sa_flags=%lx"</q>,</td></tr>
<tr><th id="118">118</th><td>		  __entry-&gt;sig, __entry-&gt;errno, __entry-&gt;code,</td></tr>
<tr><th id="119">119</th><td>		  __entry-&gt;sa_handler, __entry-&gt;sa_flags)</td></tr>
<tr><th id="120">120</th><td>);</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td><u>#<span data-ppcond="5">endif</span> /* _TRACE_SIGNAL_H */</u></td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td><i>/* This part must be outside protection */</i></td></tr>
<tr><th id="125">125</th><td><u>#include <a href="../define_trace.h.html">&lt;trace/define_trace.h&gt;</a></u></td></tr>
<tr><th id="126">126</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../kernel/signal.c.html'>linux-5.3.1/kernel/signal.c</a><br/>Generated on <em>2020-Jun-10</em> from project linux-5.3.1 revision <em>5.3.1</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
