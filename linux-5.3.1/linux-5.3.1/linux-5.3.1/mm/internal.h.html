<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>internal.h source code [linux-5.3.1/mm/internal.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="alloc_context,capture_control,compact_control,mminit_level "/>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-5.3.1/mm/internal.h'; var root_path = '../..'; var data_path = '../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>linux-5.3.1</a>/<a href='./'>mm</a>/<a href='internal.h.html'>internal.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* SPDX-License-Identifier: GPL-2.0-or-later */</i></td></tr>
<tr><th id="2">2</th><td><i>/* internal.h: mm/ internal definitions</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright (C) 2004 Red Hat, Inc. All Rights Reserved.</i></td></tr>
<tr><th id="5">5</th><td><i> * Written by David Howells (dhowells@redhat.com)</i></td></tr>
<tr><th id="6">6</th><td><i> */</i></td></tr>
<tr><th id="7">7</th><td><u>#<span data-ppcond="7">ifndef</span> <span class="macro" data-ref="_M/__MM_INTERNAL_H">__MM_INTERNAL_H</span></u></td></tr>
<tr><th id="8">8</th><td><u>#define <dfn class="macro" id="_M/__MM_INTERNAL_H" data-ref="_M/__MM_INTERNAL_H">__MM_INTERNAL_H</dfn></u></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="../include/linux/fs.h.html">&lt;linux/fs.h&gt;</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="../include/linux/mm.h.html">&lt;linux/mm.h&gt;</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../include/linux/pagemap.h.html">&lt;linux/pagemap.h&gt;</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../include/linux/tracepoint-defs.h.html">&lt;linux/tracepoint-defs.h&gt;</a></u></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><i>/*</i></td></tr>
<tr><th id="16">16</th><td><i> * The set of flags that only affect watermark checking and reclaim</i></td></tr>
<tr><th id="17">17</th><td><i> * behaviour. This is used by the MM to obey the caller constraints</i></td></tr>
<tr><th id="18">18</th><td><i> * about IO, FS and watermark checking while ignoring placement</i></td></tr>
<tr><th id="19">19</th><td><i> * hints such as HIGHMEM usage.</i></td></tr>
<tr><th id="20">20</th><td><i> */</i></td></tr>
<tr><th id="21">21</th><td><u>#define <dfn class="macro" id="_M/GFP_RECLAIM_MASK" data-ref="_M/GFP_RECLAIM_MASK">GFP_RECLAIM_MASK</dfn> (__GFP_RECLAIM|__GFP_HIGH|__GFP_IO|__GFP_FS|\</u></td></tr>
<tr><th id="22">22</th><td><u>			__GFP_NOWARN|__GFP_RETRY_MAYFAIL|__GFP_NOFAIL|\</u></td></tr>
<tr><th id="23">23</th><td><u>			__GFP_NORETRY|__GFP_MEMALLOC|__GFP_NOMEMALLOC|\</u></td></tr>
<tr><th id="24">24</th><td><u>			__GFP_ATOMIC)</u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><i>/* The GFP flags allowed during early boot */</i></td></tr>
<tr><th id="27">27</th><td><u>#define <dfn class="macro" id="_M/GFP_BOOT_MASK" data-ref="_M/GFP_BOOT_MASK">GFP_BOOT_MASK</dfn> (__GFP_BITS_MASK &amp; ~(__GFP_RECLAIM|__GFP_IO|__GFP_FS))</u></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><i>/* Control allocation cpuset and node placement constraints */</i></td></tr>
<tr><th id="30">30</th><td><u>#define <dfn class="macro" id="_M/GFP_CONSTRAINT_MASK" data-ref="_M/GFP_CONSTRAINT_MASK">GFP_CONSTRAINT_MASK</dfn> (__GFP_HARDWALL|__GFP_THISNODE)</u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><i>/* Do not use these with a slab allocator */</i></td></tr>
<tr><th id="33">33</th><td><u>#define <dfn class="macro" id="_M/GFP_SLAB_BUG_MASK" data-ref="_M/GFP_SLAB_BUG_MASK">GFP_SLAB_BUG_MASK</dfn> (__GFP_DMA32|__GFP_HIGHMEM|~__GFP_BITS_MASK)</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><em>void</em> <dfn class="decl fn" id="page_writeback_init" title='page_writeback_init' data-ref="page_writeback_init" data-ref-filename="page_writeback_init">page_writeback_init</dfn>(<em>void</em>);</td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><a class="typedef" href="../include/linux/mm_types.h.html#vm_fault_t" title='vm_fault_t' data-type='unsigned int' data-ref="vm_fault_t" data-ref-filename="vm_fault_t">vm_fault_t</a> <dfn class="decl fn" id="do_swap_page" title='do_swap_page' data-ref="do_swap_page" data-ref-filename="do_swap_page">do_swap_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm.h.html#vm_fault" title='vm_fault' data-ref="vm_fault" data-ref-filename="vm_fault">vm_fault</a> *<dfn class="local col1 decl" id="1vmf" title='vmf' data-type='struct vm_fault *' data-ref="1vmf" data-ref-filename="1vmf">vmf</dfn>);</td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td><em>void</em> <dfn class="decl fn" id="free_pgtables" title='free_pgtables' data-ref="free_pgtables" data-ref-filename="free_pgtables">free_pgtables</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#mmu_gather" title='mmu_gather' data-ref="mmu_gather" data-ref-filename="mmu_gather">mmu_gather</a> *<dfn class="local col2 decl" id="2tlb" title='tlb' data-type='struct mmu_gather *' data-ref="2tlb" data-ref-filename="2tlb">tlb</dfn>, <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col3 decl" id="3start_vma" title='start_vma' data-type='struct vm_area_struct *' data-ref="3start_vma" data-ref-filename="3start_vma">start_vma</dfn>,</td></tr>
<tr><th id="40">40</th><td>		<em>unsigned</em> <em>long</em> <dfn class="local col4 decl" id="4floor" title='floor' data-type='unsigned long' data-ref="4floor" data-ref-filename="4floor">floor</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="5ceiling" title='ceiling' data-type='unsigned long' data-ref="5ceiling" data-ref-filename="5ceiling">ceiling</dfn>);</td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="can_madv_dontneed_vma" title='can_madv_dontneed_vma' data-ref="can_madv_dontneed_vma" data-ref-filename="can_madv_dontneed_vma">can_madv_dontneed_vma</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col6 decl" id="6vma" title='vma' data-type='struct vm_area_struct *' data-ref="6vma" data-ref-filename="6vma">vma</dfn>)</td></tr>
<tr><th id="43">43</th><td>{</td></tr>
<tr><th id="44">44</th><td>	<b>return</b> !(<a class="local col6 ref" href="#6vma" title='vma' data-ref="6vma" data-ref-filename="6vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_flags" title='vm_area_struct::vm_flags' data-ref="vm_area_struct::vm_flags" data-ref-filename="vm_area_struct..vm_flags">vm_flags</a> &amp; (<a class="macro" href="../include/linux/mm.h.html#266" title="0x00002000" data-ref="_M/VM_LOCKED">VM_LOCKED</a>|<a class="macro" href="../include/linux/mm.h.html#278" title="0x00400000" data-ref="_M/VM_HUGETLB">VM_HUGETLB</a>|<a class="macro" href="../include/linux/mm.h.html#262" title="0x00000400" data-ref="_M/VM_PFNMAP">VM_PFNMAP</a>));</td></tr>
<tr><th id="45">45</th><td>}</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td><em>void</em> <dfn class="decl fn" id="unmap_page_range" title='unmap_page_range' data-ref="unmap_page_range" data-ref-filename="unmap_page_range">unmap_page_range</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#mmu_gather" title='mmu_gather' data-ref="mmu_gather" data-ref-filename="mmu_gather">mmu_gather</a> *<dfn class="local col7 decl" id="7tlb" title='tlb' data-type='struct mmu_gather *' data-ref="7tlb" data-ref-filename="7tlb">tlb</dfn>,</td></tr>
<tr><th id="48">48</th><td>			     <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col8 decl" id="8vma" title='vma' data-type='struct vm_area_struct *' data-ref="8vma" data-ref-filename="8vma">vma</dfn>,</td></tr>
<tr><th id="49">49</th><td>			     <em>unsigned</em> <em>long</em> <dfn class="local col9 decl" id="9addr" title='addr' data-type='unsigned long' data-ref="9addr" data-ref-filename="9addr">addr</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col0 decl" id="10end" title='end' data-type='unsigned long' data-ref="10end" data-ref-filename="10end">end</dfn>,</td></tr>
<tr><th id="50">50</th><td>			     <b>struct</b> <a class="type" href="../include/linux/mm.h.html#zap_details" title='zap_details' data-ref="zap_details" data-ref-filename="zap_details">zap_details</a> *<dfn class="local col1 decl" id="11details" title='details' data-type='struct zap_details *' data-ref="11details" data-ref-filename="11details">details</dfn>);</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><b>extern</b> <em>unsigned</em> <em>int</em> <dfn class="decl fn" id="__do_page_cache_readahead" title='__do_page_cache_readahead' data-ref="__do_page_cache_readahead" data-ref-filename="__do_page_cache_readahead">__do_page_cache_readahead</dfn>(<b>struct</b> <a class="type" href="../include/linux/fs.h.html#address_space" title='address_space' data-ref="address_space" data-ref-filename="address_space">address_space</a> *<dfn class="local col2 decl" id="12mapping" title='mapping' data-type='struct address_space *' data-ref="12mapping" data-ref-filename="12mapping">mapping</dfn>,</td></tr>
<tr><th id="53">53</th><td>		<b>struct</b> <a class="type" href="../include/linux/fs.h.html#file" title='file' data-ref="file" data-ref-filename="file">file</a> *<dfn class="local col3 decl" id="13filp" title='filp' data-type='struct file *' data-ref="13filp" data-ref-filename="13filp">filp</dfn>, <a class="macro" href="../include/linux/types.h.html#136" title="unsigned long" data-ref="_M/pgoff_t">pgoff_t</a> <dfn class="local col4 decl" id="14offset" title='offset' data-type='unsigned long' data-ref="14offset" data-ref-filename="14offset">offset</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="15nr_to_read" title='nr_to_read' data-type='unsigned long' data-ref="15nr_to_read" data-ref-filename="15nr_to_read">nr_to_read</dfn>,</td></tr>
<tr><th id="54">54</th><td>		<em>unsigned</em> <em>long</em> <dfn class="local col6 decl" id="16lookahead_size" title='lookahead_size' data-type='unsigned long' data-ref="16lookahead_size" data-ref-filename="16lookahead_size">lookahead_size</dfn>);</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i>/*</i></td></tr>
<tr><th id="57">57</th><td><i> * Submit IO for the read-ahead request in file_ra_state.</i></td></tr>
<tr><th id="58">58</th><td><i> */</i></td></tr>
<tr><th id="59">59</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>unsigned</em> <em>long</em> <dfn class="decl def fn" id="ra_submit" title='ra_submit' data-ref="ra_submit" data-ref-filename="ra_submit">ra_submit</dfn>(<b>struct</b> <a class="type" href="../include/linux/fs.h.html#file_ra_state" title='file_ra_state' data-ref="file_ra_state" data-ref-filename="file_ra_state">file_ra_state</a> *<dfn class="local col7 decl" id="17ra" title='ra' data-type='struct file_ra_state *' data-ref="17ra" data-ref-filename="17ra">ra</dfn>,</td></tr>
<tr><th id="60">60</th><td>		<b>struct</b> <a class="type" href="../include/linux/fs.h.html#address_space" title='address_space' data-ref="address_space" data-ref-filename="address_space">address_space</a> *<dfn class="local col8 decl" id="18mapping" title='mapping' data-type='struct address_space *' data-ref="18mapping" data-ref-filename="18mapping">mapping</dfn>, <b>struct</b> <a class="type" href="../include/linux/fs.h.html#file" title='file' data-ref="file" data-ref-filename="file">file</a> *<dfn class="local col9 decl" id="19filp" title='filp' data-type='struct file *' data-ref="19filp" data-ref-filename="19filp">filp</dfn>)</td></tr>
<tr><th id="61">61</th><td>{</td></tr>
<tr><th id="62">62</th><td>	<b>return</b> <a class="ref fn" href="#__do_page_cache_readahead" title='__do_page_cache_readahead' data-ref="__do_page_cache_readahead" data-ref-filename="__do_page_cache_readahead">__do_page_cache_readahead</a>(<a class="local col8 ref" href="#18mapping" title='mapping' data-ref="18mapping" data-ref-filename="18mapping">mapping</a>, <a class="local col9 ref" href="#19filp" title='filp' data-ref="19filp" data-ref-filename="19filp">filp</a>,</td></tr>
<tr><th id="63">63</th><td>					<a class="local col7 ref" href="#17ra" title='ra' data-ref="17ra" data-ref-filename="17ra">ra</a>-&gt;<a class="ref field" href="../include/linux/fs.h.html#file_ra_state::start" title='file_ra_state::start' data-ref="file_ra_state::start" data-ref-filename="file_ra_state..start">start</a>, <a class="local col7 ref" href="#17ra" title='ra' data-ref="17ra" data-ref-filename="17ra">ra</a>-&gt;<a class="ref field" href="../include/linux/fs.h.html#file_ra_state::size" title='file_ra_state::size' data-ref="file_ra_state::size" data-ref-filename="file_ra_state..size">size</a>, <a class="local col7 ref" href="#17ra" title='ra' data-ref="17ra" data-ref-filename="17ra">ra</a>-&gt;<a class="ref field" href="../include/linux/fs.h.html#file_ra_state::async_size" title='file_ra_state::async_size' data-ref="file_ra_state::async_size" data-ref-filename="file_ra_state..async_size">async_size</a>);</td></tr>
<tr><th id="64">64</th><td>}</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><i>/*</i></td></tr>
<tr><th id="67">67</th><td><i> * Turn a non-refcounted page (-&gt;_refcount == 0) into refcounted with</i></td></tr>
<tr><th id="68">68</th><td><i> * a count of one.</i></td></tr>
<tr><th id="69">69</th><td><i> */</i></td></tr>
<tr><th id="70">70</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>void</em> <dfn class="decl def fn" id="set_page_refcounted" title='set_page_refcounted' data-ref="set_page_refcounted" data-ref-filename="set_page_refcounted">set_page_refcounted</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col0 decl" id="20page" title='page' data-type='struct page *' data-ref="20page" data-ref-filename="20page">page</dfn>)</td></tr>
<tr><th id="71">71</th><td>{</td></tr>
<tr><th id="72">72</th><td>	<a class="macro" href="../include/linux/mmdebug.h.html#46" title="((void)(sizeof(( long)(PageTail(page)))))" data-ref="_M/VM_BUG_ON_PAGE">VM_BUG_ON_PAGE</a>(<a class="ref fn" href="../include/linux/page-flags.h.html#PageTail" title='PageTail' data-ref="PageTail" data-ref-filename="PageTail">PageTail</a>(<a class="local col0 ref" href="#20page" title='page' data-ref="20page" data-ref-filename="20page">page</a>), page);</td></tr>
<tr><th id="73">73</th><td>	<a class="macro" href="../include/linux/mmdebug.h.html#46" title="((void)(sizeof(( long)(page_ref_count(page)))))" data-ref="_M/VM_BUG_ON_PAGE">VM_BUG_ON_PAGE</a>(<a class="ref fn" href="../include/linux/page_ref.h.html#page_ref_count" title='page_ref_count' data-ref="page_ref_count" data-ref-filename="page_ref_count">page_ref_count</a>(<a class="local col0 ref" href="#20page" title='page' data-ref="20page" data-ref-filename="20page">page</a>), page);</td></tr>
<tr><th id="74">74</th><td>	<a class="ref fn" href="../include/linux/page_ref.h.html#set_page_count" title='set_page_count' data-ref="set_page_count" data-ref-filename="set_page_count">set_page_count</a>(<a class="local col0 ref" href="#20page" title='page' data-ref="20page" data-ref-filename="20page">page</a>, <var>1</var>);</td></tr>
<tr><th id="75">75</th><td>}</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><b>extern</b> <em>unsigned</em> <em>long</em> <dfn class="decl" id="highest_memmap_pfn" title='highest_memmap_pfn' data-ref="highest_memmap_pfn" data-ref-filename="highest_memmap_pfn">highest_memmap_pfn</dfn>;</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><i>/*</i></td></tr>
<tr><th id="80">80</th><td><i> * Maximum number of reclaim retries without progress before the OOM</i></td></tr>
<tr><th id="81">81</th><td><i> * killer is consider the only way forward.</i></td></tr>
<tr><th id="82">82</th><td><i> */</i></td></tr>
<tr><th id="83">83</th><td><u>#define <dfn class="macro" id="_M/MAX_RECLAIM_RETRIES" data-ref="_M/MAX_RECLAIM_RETRIES">MAX_RECLAIM_RETRIES</dfn> 16</u></td></tr>
<tr><th id="84">84</th><td></td></tr>
<tr><th id="85">85</th><td><i>/*</i></td></tr>
<tr><th id="86">86</th><td><i> * in mm/vmscan.c:</i></td></tr>
<tr><th id="87">87</th><td><i> */</i></td></tr>
<tr><th id="88">88</th><td><b>extern</b> <em>int</em> <dfn class="decl fn" id="isolate_lru_page" title='isolate_lru_page' data-ref="isolate_lru_page" data-ref-filename="isolate_lru_page">isolate_lru_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col1 decl" id="21page" title='page' data-type='struct page *' data-ref="21page" data-ref-filename="21page">page</dfn>);</td></tr>
<tr><th id="89">89</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="putback_lru_page" title='putback_lru_page' data-ref="putback_lru_page" data-ref-filename="putback_lru_page">putback_lru_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col2 decl" id="22page" title='page' data-type='struct page *' data-ref="22page" data-ref-filename="22page">page</dfn>);</td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td><i>/*</i></td></tr>
<tr><th id="92">92</th><td><i> * in mm/rmap.c:</i></td></tr>
<tr><th id="93">93</th><td><i> */</i></td></tr>
<tr><th id="94">94</th><td><b>extern</b> <a class="typedef" href="../arch/x86/include/asm/pgtable_types.h.html#pmd_t" title='pmd_t' data-type='struct pmd_t' data-ref="pmd_t" data-ref-filename="pmd_t">pmd_t</a> *<dfn class="decl fn" id="mm_find_pmd" title='mm_find_pmd' data-ref="mm_find_pmd" data-ref-filename="mm_find_pmd">mm_find_pmd</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#mm_struct" title='mm_struct' data-ref="mm_struct" data-ref-filename="mm_struct">mm_struct</a> *<dfn class="local col3 decl" id="23mm" title='mm' data-type='struct mm_struct *' data-ref="23mm" data-ref-filename="23mm">mm</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col4 decl" id="24address" title='address' data-type='unsigned long' data-ref="24address" data-ref-filename="24address">address</dfn>);</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><i>/*</i></td></tr>
<tr><th id="97">97</th><td><i> * in mm/page_alloc.c</i></td></tr>
<tr><th id="98">98</th><td><i> */</i></td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><i>/*</i></td></tr>
<tr><th id="101">101</th><td><i> * Structure for holding the mostly immutable allocation parameters passed</i></td></tr>
<tr><th id="102">102</th><td><i> * between functions involved in allocations, including the alloc_pages*</i></td></tr>
<tr><th id="103">103</th><td><i> * family of functions.</i></td></tr>
<tr><th id="104">104</th><td><i> *</i></td></tr>
<tr><th id="105">105</th><td><i> * nodemask, migratetype and high_zoneidx are initialized only once in</i></td></tr>
<tr><th id="106">106</th><td><i> * __alloc_pages_nodemask() and then never change.</i></td></tr>
<tr><th id="107">107</th><td><i> *</i></td></tr>
<tr><th id="108">108</th><td><i> * zonelist, preferred_zone and classzone_idx are set first in</i></td></tr>
<tr><th id="109">109</th><td><i> * __alloc_pages_nodemask() for the fast path, and might be later changed</i></td></tr>
<tr><th id="110">110</th><td><i> * in __alloc_pages_slowpath(). All other functions pass the whole strucure</i></td></tr>
<tr><th id="111">111</th><td><i> * by a const pointer.</i></td></tr>
<tr><th id="112">112</th><td><i> */</i></td></tr>
<tr><th id="113">113</th><td><b>struct</b> <dfn class="type def" id="alloc_context" title='alloc_context' data-ref="alloc_context" data-ref-filename="alloc_context">alloc_context</dfn> {</td></tr>
<tr><th id="114">114</th><td>	<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zonelist" title='zonelist' data-ref="zonelist" data-ref-filename="zonelist">zonelist</a> *<dfn class="decl field" id="alloc_context::zonelist" title='alloc_context::zonelist' data-ref="alloc_context::zonelist" data-ref-filename="alloc_context..zonelist">zonelist</dfn>;</td></tr>
<tr><th id="115">115</th><td>	<a class="typedef" href="../include/linux/nodemask.h.html#nodemask_t" title='nodemask_t' data-type='struct nodemask_t' data-ref="nodemask_t" data-ref-filename="nodemask_t">nodemask_t</a> *<dfn class="decl field" id="alloc_context::nodemask" title='alloc_context::nodemask' data-ref="alloc_context::nodemask" data-ref-filename="alloc_context..nodemask">nodemask</dfn>;</td></tr>
<tr><th id="116">116</th><td>	<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zoneref" title='zoneref' data-ref="zoneref" data-ref-filename="zoneref">zoneref</a> *<dfn class="decl field" id="alloc_context::preferred_zoneref" title='alloc_context::preferred_zoneref' data-ref="alloc_context::preferred_zoneref" data-ref-filename="alloc_context..preferred_zoneref">preferred_zoneref</dfn>;</td></tr>
<tr><th id="117">117</th><td>	<em>int</em> <dfn class="decl field" id="alloc_context::migratetype" title='alloc_context::migratetype' data-ref="alloc_context::migratetype" data-ref-filename="alloc_context..migratetype">migratetype</dfn>;</td></tr>
<tr><th id="118">118</th><td>	<b>enum</b> <a class="type" href="../include/linux/mmzone.h.html#zone_type" title='zone_type' data-ref="zone_type" data-ref-filename="zone_type">zone_type</a> <dfn class="decl field" id="alloc_context::high_zoneidx" title='alloc_context::high_zoneidx' data-ref="alloc_context::high_zoneidx" data-ref-filename="alloc_context..high_zoneidx">high_zoneidx</dfn>;</td></tr>
<tr><th id="119">119</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="alloc_context::spread_dirty_pages" title='alloc_context::spread_dirty_pages' data-ref="alloc_context::spread_dirty_pages" data-ref-filename="alloc_context..spread_dirty_pages">spread_dirty_pages</dfn>;</td></tr>
<tr><th id="120">120</th><td>};</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td><u>#define <dfn class="macro" id="_M/ac_classzone_idx" data-ref="_M/ac_classzone_idx">ac_classzone_idx</dfn>(ac) zonelist_zone_idx(ac-&gt;preferred_zoneref)</u></td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td><i>/*</i></td></tr>
<tr><th id="125">125</th><td><i> * Locate the struct page for both the matching buddy in our</i></td></tr>
<tr><th id="126">126</th><td><i> * pair (buddy1) and the combined O(n+1) page they form (page).</i></td></tr>
<tr><th id="127">127</th><td><i> *</i></td></tr>
<tr><th id="128">128</th><td><i> * 1) Any buddy B1 will have an order O twin B2 which satisfies</i></td></tr>
<tr><th id="129">129</th><td><i> * the following equation:</i></td></tr>
<tr><th id="130">130</th><td><i> *     B2 = B1 ^ (1 &lt;&lt; O)</i></td></tr>
<tr><th id="131">131</th><td><i> * For example, if the starting buddy (buddy2) is #8 its order</i></td></tr>
<tr><th id="132">132</th><td><i> * 1 buddy is #10:</i></td></tr>
<tr><th id="133">133</th><td><i> *     B2 = 8 ^ (1 &lt;&lt; 1) = 8 ^ 2 = 10</i></td></tr>
<tr><th id="134">134</th><td><i> *</i></td></tr>
<tr><th id="135">135</th><td><i> * 2) Any buddy B will have an order O+1 parent P which</i></td></tr>
<tr><th id="136">136</th><td><i> * satisfies the following equation:</i></td></tr>
<tr><th id="137">137</th><td><i> *     P = B &amp; ~(1 &lt;&lt; O)</i></td></tr>
<tr><th id="138">138</th><td><i> *</i></td></tr>
<tr><th id="139">139</th><td><i> * Assumption: *_mem_map is contiguous at least up to MAX_ORDER</i></td></tr>
<tr><th id="140">140</th><td><i> */</i></td></tr>
<tr><th id="141">141</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>unsigned</em> <em>long</em></td></tr>
<tr><th id="142">142</th><td><dfn class="decl def fn" id="__find_buddy_pfn" title='__find_buddy_pfn' data-ref="__find_buddy_pfn" data-ref-filename="__find_buddy_pfn">__find_buddy_pfn</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="25page_pfn" title='page_pfn' data-type='unsigned long' data-ref="25page_pfn" data-ref-filename="25page_pfn">page_pfn</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col6 decl" id="26order" title='order' data-type='unsigned int' data-ref="26order" data-ref-filename="26order">order</dfn>)</td></tr>
<tr><th id="143">143</th><td>{</td></tr>
<tr><th id="144">144</th><td>	<b>return</b> <a class="local col5 ref" href="#25page_pfn" title='page_pfn' data-ref="25page_pfn" data-ref-filename="25page_pfn">page_pfn</a> ^ (<var>1</var> &lt;&lt; <a class="local col6 ref" href="#26order" title='order' data-ref="26order" data-ref-filename="26order">order</a>);</td></tr>
<tr><th id="145">145</th><td>}</td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td><b>extern</b> <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="decl fn" id="__pageblock_pfn_to_page" title='__pageblock_pfn_to_page' data-ref="__pageblock_pfn_to_page" data-ref-filename="__pageblock_pfn_to_page">__pageblock_pfn_to_page</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col7 decl" id="27start_pfn" title='start_pfn' data-type='unsigned long' data-ref="27start_pfn" data-ref-filename="27start_pfn">start_pfn</dfn>,</td></tr>
<tr><th id="148">148</th><td>				<em>unsigned</em> <em>long</em> <dfn class="local col8 decl" id="28end_pfn" title='end_pfn' data-type='unsigned long' data-ref="28end_pfn" data-ref-filename="28end_pfn">end_pfn</dfn>, <b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zone" title='zone' data-ref="zone" data-ref-filename="zone">zone</a> *<dfn class="local col9 decl" id="29zone" title='zone' data-type='struct zone *' data-ref="29zone" data-ref-filename="29zone">zone</dfn>);</td></tr>
<tr><th id="149">149</th><td></td></tr>
<tr><th id="150">150</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="decl def fn" id="pageblock_pfn_to_page" title='pageblock_pfn_to_page' data-ref="pageblock_pfn_to_page" data-ref-filename="pageblock_pfn_to_page">pageblock_pfn_to_page</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col0 decl" id="30start_pfn" title='start_pfn' data-type='unsigned long' data-ref="30start_pfn" data-ref-filename="30start_pfn">start_pfn</dfn>,</td></tr>
<tr><th id="151">151</th><td>				<em>unsigned</em> <em>long</em> <dfn class="local col1 decl" id="31end_pfn" title='end_pfn' data-type='unsigned long' data-ref="31end_pfn" data-ref-filename="31end_pfn">end_pfn</dfn>, <b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zone" title='zone' data-ref="zone" data-ref-filename="zone">zone</a> *<dfn class="local col2 decl" id="32zone" title='zone' data-type='struct zone *' data-ref="32zone" data-ref-filename="32zone">zone</dfn>)</td></tr>
<tr><th id="152">152</th><td>{</td></tr>
<tr><th id="153">153</th><td>	<b>if</b> (<a class="local col2 ref" href="#32zone" title='zone' data-ref="32zone" data-ref-filename="32zone">zone</a>-&gt;<a class="ref field" href="../include/linux/mmzone.h.html#zone::contiguous" title='zone::contiguous' data-ref="zone::contiguous" data-ref-filename="zone..contiguous">contiguous</a>)</td></tr>
<tr><th id="154">154</th><td>		<b>return</b> <a class="macro" href="../include/asm-generic/memory_model.h.html#82" title="__pfn_to_page" data-ref="_M/pfn_to_page">pfn_to_page</a>(<a class="local col0 ref" href="#30start_pfn" title='start_pfn' data-ref="30start_pfn" data-ref-filename="30start_pfn">start_pfn</a>);</td></tr>
<tr><th id="155">155</th><td></td></tr>
<tr><th id="156">156</th><td>	<b>return</b> <a class="ref fn" href="#__pageblock_pfn_to_page" title='__pageblock_pfn_to_page' data-ref="__pageblock_pfn_to_page" data-ref-filename="__pageblock_pfn_to_page">__pageblock_pfn_to_page</a>(<a class="local col0 ref" href="#30start_pfn" title='start_pfn' data-ref="30start_pfn" data-ref-filename="30start_pfn">start_pfn</a>, <a class="local col1 ref" href="#31end_pfn" title='end_pfn' data-ref="31end_pfn" data-ref-filename="31end_pfn">end_pfn</a>, <a class="local col2 ref" href="#32zone" title='zone' data-ref="32zone" data-ref-filename="32zone">zone</a>);</td></tr>
<tr><th id="157">157</th><td>}</td></tr>
<tr><th id="158">158</th><td></td></tr>
<tr><th id="159">159</th><td><b>extern</b> <em>int</em> <dfn class="decl fn" id="__isolate_free_page" title='__isolate_free_page' data-ref="__isolate_free_page" data-ref-filename="__isolate_free_page">__isolate_free_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col3 decl" id="33page" title='page' data-type='struct page *' data-ref="33page" data-ref-filename="33page">page</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col4 decl" id="34order" title='order' data-type='unsigned int' data-ref="34order" data-ref-filename="34order">order</dfn>);</td></tr>
<tr><th id="160">160</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="memblock_free_pages" title='memblock_free_pages' data-ref="memblock_free_pages" data-ref-filename="memblock_free_pages">memblock_free_pages</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col5 decl" id="35page" title='page' data-type='struct page *' data-ref="35page" data-ref-filename="35page">page</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col6 decl" id="36pfn" title='pfn' data-type='unsigned long' data-ref="36pfn" data-ref-filename="36pfn">pfn</dfn>,</td></tr>
<tr><th id="161">161</th><td>					<em>unsigned</em> <em>int</em> <dfn class="local col7 decl" id="37order" title='order' data-type='unsigned int' data-ref="37order" data-ref-filename="37order">order</dfn>);</td></tr>
<tr><th id="162">162</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="__free_pages_core" title='__free_pages_core' data-ref="__free_pages_core" data-ref-filename="__free_pages_core">__free_pages_core</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col8 decl" id="38page" title='page' data-type='struct page *' data-ref="38page" data-ref-filename="38page">page</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col9 decl" id="39order" title='order' data-type='unsigned int' data-ref="39order" data-ref-filename="39order">order</dfn>);</td></tr>
<tr><th id="163">163</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="prep_compound_page" title='prep_compound_page' data-ref="prep_compound_page" data-ref-filename="prep_compound_page">prep_compound_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col0 decl" id="40page" title='page' data-type='struct page *' data-ref="40page" data-ref-filename="40page">page</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col1 decl" id="41order" title='order' data-type='unsigned int' data-ref="41order" data-ref-filename="41order">order</dfn>);</td></tr>
<tr><th id="164">164</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="post_alloc_hook" title='post_alloc_hook' data-ref="post_alloc_hook" data-ref-filename="post_alloc_hook">post_alloc_hook</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col2 decl" id="42page" title='page' data-type='struct page *' data-ref="42page" data-ref-filename="42page">page</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col3 decl" id="43order" title='order' data-type='unsigned int' data-ref="43order" data-ref-filename="43order">order</dfn>,</td></tr>
<tr><th id="165">165</th><td>					<a class="typedef" href="../include/linux/types.h.html#gfp_t" title='gfp_t' data-type='unsigned int' data-ref="gfp_t" data-ref-filename="gfp_t">gfp_t</a> <dfn class="local col4 decl" id="44gfp_flags" title='gfp_flags' data-type='gfp_t' data-ref="44gfp_flags" data-ref-filename="44gfp_flags">gfp_flags</dfn>);</td></tr>
<tr><th id="166">166</th><td><b>extern</b> <em>int</em> <dfn class="decl" id="user_min_free_kbytes" title='user_min_free_kbytes' data-ref="user_min_free_kbytes" data-ref-filename="user_min_free_kbytes">user_min_free_kbytes</dfn>;</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><u>#<span data-ppcond="168">if</span> defined <a class="macro" href="../include/generated/autoconf.h.html#1169" data-ref="_M/CONFIG_COMPACTION">CONFIG_COMPACTION</a> || defined <span class="macro" data-ref="_M/CONFIG_CMA">CONFIG_CMA</span></u></td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td><i>/*</i></td></tr>
<tr><th id="171">171</th><td><i> * in mm/compaction.c</i></td></tr>
<tr><th id="172">172</th><td><i> */</i></td></tr>
<tr><th id="173">173</th><td><i>/*</i></td></tr>
<tr><th id="174">174</th><td><i> * compact_control is used to track pages being migrated and the free pages</i></td></tr>
<tr><th id="175">175</th><td><i> * they are being migrated to during memory compaction. The free_pfn starts</i></td></tr>
<tr><th id="176">176</th><td><i> * at the end of a zone and migrate_pfn begins at the start. Movable pages</i></td></tr>
<tr><th id="177">177</th><td><i> * are moved to the end of a zone during a compaction run and the run</i></td></tr>
<tr><th id="178">178</th><td><i> * completes when free_pfn &lt;= migrate_pfn</i></td></tr>
<tr><th id="179">179</th><td><i> */</i></td></tr>
<tr><th id="180">180</th><td><b>struct</b> <dfn class="type def" id="compact_control" title='compact_control' data-ref="compact_control" data-ref-filename="compact_control">compact_control</dfn> {</td></tr>
<tr><th id="181">181</th><td>	<b>struct</b> <a class="type" href="../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> <dfn class="decl field" id="compact_control::freepages" title='compact_control::freepages' data-ref="compact_control::freepages" data-ref-filename="compact_control..freepages">freepages</dfn>;	<i>/* List of free pages to migrate to */</i></td></tr>
<tr><th id="182">182</th><td>	<b>struct</b> <a class="type" href="../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> <dfn class="decl field" id="compact_control::migratepages" title='compact_control::migratepages' data-ref="compact_control::migratepages" data-ref-filename="compact_control..migratepages">migratepages</dfn>;	<i>/* List of pages being migrated */</i></td></tr>
<tr><th id="183">183</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="compact_control::nr_freepages" title='compact_control::nr_freepages' data-ref="compact_control::nr_freepages" data-ref-filename="compact_control..nr_freepages">nr_freepages</dfn>;	<i>/* Number of isolated free pages */</i></td></tr>
<tr><th id="184">184</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="compact_control::nr_migratepages" title='compact_control::nr_migratepages' data-ref="compact_control::nr_migratepages" data-ref-filename="compact_control..nr_migratepages">nr_migratepages</dfn>;	<i>/* Number of pages to migrate */</i></td></tr>
<tr><th id="185">185</th><td>	<em>unsigned</em> <em>long</em> <dfn class="decl field" id="compact_control::free_pfn" title='compact_control::free_pfn' data-ref="compact_control::free_pfn" data-ref-filename="compact_control..free_pfn">free_pfn</dfn>;		<i>/* isolate_freepages search base */</i></td></tr>
<tr><th id="186">186</th><td>	<em>unsigned</em> <em>long</em> <dfn class="decl field" id="compact_control::migrate_pfn" title='compact_control::migrate_pfn' data-ref="compact_control::migrate_pfn" data-ref-filename="compact_control..migrate_pfn">migrate_pfn</dfn>;	<i>/* isolate_migratepages search base */</i></td></tr>
<tr><th id="187">187</th><td>	<em>unsigned</em> <em>long</em> <dfn class="decl field" id="compact_control::fast_start_pfn" title='compact_control::fast_start_pfn' data-ref="compact_control::fast_start_pfn" data-ref-filename="compact_control..fast_start_pfn">fast_start_pfn</dfn>;	<i>/* a pfn to start linear scan from */</i></td></tr>
<tr><th id="188">188</th><td>	<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zone" title='zone' data-ref="zone" data-ref-filename="zone">zone</a> *<dfn class="decl field" id="compact_control::zone" title='compact_control::zone' data-ref="compact_control::zone" data-ref-filename="compact_control..zone">zone</dfn>;</td></tr>
<tr><th id="189">189</th><td>	<em>unsigned</em> <em>long</em> <dfn class="decl field" id="compact_control::total_migrate_scanned" title='compact_control::total_migrate_scanned' data-ref="compact_control::total_migrate_scanned" data-ref-filename="compact_control..total_migrate_scanned">total_migrate_scanned</dfn>;</td></tr>
<tr><th id="190">190</th><td>	<em>unsigned</em> <em>long</em> <dfn class="decl field" id="compact_control::total_free_scanned" title='compact_control::total_free_scanned' data-ref="compact_control::total_free_scanned" data-ref-filename="compact_control..total_free_scanned">total_free_scanned</dfn>;</td></tr>
<tr><th id="191">191</th><td>	<em>unsigned</em> <em>short</em> <dfn class="decl field" id="compact_control::fast_search_fail" title='compact_control::fast_search_fail' data-ref="compact_control::fast_search_fail" data-ref-filename="compact_control..fast_search_fail">fast_search_fail</dfn>;<i>/* failures to use free list searches */</i></td></tr>
<tr><th id="192">192</th><td>	<em>short</em> <dfn class="decl field" id="compact_control::search_order" title='compact_control::search_order' data-ref="compact_control::search_order" data-ref-filename="compact_control..search_order">search_order</dfn>;		<i>/* order to start a fast search at */</i></td></tr>
<tr><th id="193">193</th><td>	<em>const</em> <a class="typedef" href="../include/linux/types.h.html#gfp_t" title='gfp_t' data-type='unsigned int' data-ref="gfp_t" data-ref-filename="gfp_t">gfp_t</a> <dfn class="decl field" id="compact_control::gfp_mask" title='compact_control::gfp_mask' data-ref="compact_control::gfp_mask" data-ref-filename="compact_control..gfp_mask">gfp_mask</dfn>;		<i>/* gfp mask of a direct compactor */</i></td></tr>
<tr><th id="194">194</th><td>	<em>int</em> <dfn class="decl field" id="compact_control::order" title='compact_control::order' data-ref="compact_control::order" data-ref-filename="compact_control..order">order</dfn>;			<i>/* order a direct compactor needs */</i></td></tr>
<tr><th id="195">195</th><td>	<em>int</em> <dfn class="decl field" id="compact_control::migratetype" title='compact_control::migratetype' data-ref="compact_control::migratetype" data-ref-filename="compact_control..migratetype">migratetype</dfn>;		<i>/* migratetype of direct compactor */</i></td></tr>
<tr><th id="196">196</th><td>	<em>const</em> <em>unsigned</em> <em>int</em> <dfn class="decl field" id="compact_control::alloc_flags" title='compact_control::alloc_flags' data-ref="compact_control::alloc_flags" data-ref-filename="compact_control..alloc_flags">alloc_flags</dfn>;	<i>/* alloc flags of a direct compactor */</i></td></tr>
<tr><th id="197">197</th><td>	<em>const</em> <em>int</em> <dfn class="decl field" id="compact_control::classzone_idx" title='compact_control::classzone_idx' data-ref="compact_control::classzone_idx" data-ref-filename="compact_control..classzone_idx">classzone_idx</dfn>;	<i>/* zone index of a direct compactor */</i></td></tr>
<tr><th id="198">198</th><td>	<b>enum</b> <a class="type" href="../include/linux/migrate_mode.h.html#migrate_mode" title='migrate_mode' data-ref="migrate_mode" data-ref-filename="migrate_mode">migrate_mode</a> <dfn class="decl field" id="compact_control::mode" title='compact_control::mode' data-ref="compact_control::mode" data-ref-filename="compact_control..mode">mode</dfn>;		<i>/* Async or sync migration mode */</i></td></tr>
<tr><th id="199">199</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::ignore_skip_hint" title='compact_control::ignore_skip_hint' data-ref="compact_control::ignore_skip_hint" data-ref-filename="compact_control..ignore_skip_hint">ignore_skip_hint</dfn>;		<i>/* Scan blocks even if marked skip */</i></td></tr>
<tr><th id="200">200</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::no_set_skip_hint" title='compact_control::no_set_skip_hint' data-ref="compact_control::no_set_skip_hint" data-ref-filename="compact_control..no_set_skip_hint">no_set_skip_hint</dfn>;		<i>/* Don't mark blocks for skipping */</i></td></tr>
<tr><th id="201">201</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::ignore_block_suitable" title='compact_control::ignore_block_suitable' data-ref="compact_control::ignore_block_suitable" data-ref-filename="compact_control..ignore_block_suitable">ignore_block_suitable</dfn>;	<i>/* Scan blocks considered unsuitable */</i></td></tr>
<tr><th id="202">202</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::direct_compaction" title='compact_control::direct_compaction' data-ref="compact_control::direct_compaction" data-ref-filename="compact_control..direct_compaction">direct_compaction</dfn>;		<i>/* False from kcompactd or /proc/... */</i></td></tr>
<tr><th id="203">203</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::whole_zone" title='compact_control::whole_zone' data-ref="compact_control::whole_zone" data-ref-filename="compact_control..whole_zone">whole_zone</dfn>;		<i>/* Whole zone should/has been scanned */</i></td></tr>
<tr><th id="204">204</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::contended" title='compact_control::contended' data-ref="compact_control::contended" data-ref-filename="compact_control..contended">contended</dfn>;			<i>/* Signal lock or sched contention */</i></td></tr>
<tr><th id="205">205</th><td>	<a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl field" id="compact_control::rescan" title='compact_control::rescan' data-ref="compact_control::rescan" data-ref-filename="compact_control..rescan">rescan</dfn>;			<i>/* Rescanning the same pageblock */</i></td></tr>
<tr><th id="206">206</th><td>};</td></tr>
<tr><th id="207">207</th><td></td></tr>
<tr><th id="208">208</th><td><i>/*</i></td></tr>
<tr><th id="209">209</th><td><i> * Used in direct compaction when a page should be taken from the freelists</i></td></tr>
<tr><th id="210">210</th><td><i> * immediately when one is created during the free path.</i></td></tr>
<tr><th id="211">211</th><td><i> */</i></td></tr>
<tr><th id="212">212</th><td><b>struct</b> <dfn class="type def" id="capture_control" title='capture_control' data-ref="capture_control" data-ref-filename="capture_control">capture_control</dfn> {</td></tr>
<tr><th id="213">213</th><td>	<b>struct</b> <a class="type" href="#compact_control" title='compact_control' data-ref="compact_control" data-ref-filename="compact_control">compact_control</a> *<dfn class="decl field" id="capture_control::cc" title='capture_control::cc' data-ref="capture_control::cc" data-ref-filename="capture_control..cc">cc</dfn>;</td></tr>
<tr><th id="214">214</th><td>	<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="decl field" id="capture_control::page" title='capture_control::page' data-ref="capture_control::page" data-ref-filename="capture_control..page">page</dfn>;</td></tr>
<tr><th id="215">215</th><td>};</td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td><em>unsigned</em> <em>long</em></td></tr>
<tr><th id="218">218</th><td><dfn class="decl fn" id="isolate_freepages_range" title='isolate_freepages_range' data-ref="isolate_freepages_range" data-ref-filename="isolate_freepages_range">isolate_freepages_range</dfn>(<b>struct</b> <a class="type" href="#compact_control" title='compact_control' data-ref="compact_control" data-ref-filename="compact_control">compact_control</a> *<dfn class="local col5 decl" id="45cc" title='cc' data-type='struct compact_control *' data-ref="45cc" data-ref-filename="45cc">cc</dfn>,</td></tr>
<tr><th id="219">219</th><td>			<em>unsigned</em> <em>long</em> <dfn class="local col6 decl" id="46start_pfn" title='start_pfn' data-type='unsigned long' data-ref="46start_pfn" data-ref-filename="46start_pfn">start_pfn</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col7 decl" id="47end_pfn" title='end_pfn' data-type='unsigned long' data-ref="47end_pfn" data-ref-filename="47end_pfn">end_pfn</dfn>);</td></tr>
<tr><th id="220">220</th><td><em>unsigned</em> <em>long</em></td></tr>
<tr><th id="221">221</th><td><dfn class="decl fn" id="isolate_migratepages_range" title='isolate_migratepages_range' data-ref="isolate_migratepages_range" data-ref-filename="isolate_migratepages_range">isolate_migratepages_range</dfn>(<b>struct</b> <a class="type" href="#compact_control" title='compact_control' data-ref="compact_control" data-ref-filename="compact_control">compact_control</a> *<dfn class="local col8 decl" id="48cc" title='cc' data-type='struct compact_control *' data-ref="48cc" data-ref-filename="48cc">cc</dfn>,</td></tr>
<tr><th id="222">222</th><td>			   <em>unsigned</em> <em>long</em> <dfn class="local col9 decl" id="49low_pfn" title='low_pfn' data-type='unsigned long' data-ref="49low_pfn" data-ref-filename="49low_pfn">low_pfn</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col0 decl" id="50end_pfn" title='end_pfn' data-type='unsigned long' data-ref="50end_pfn" data-ref-filename="50end_pfn">end_pfn</dfn>);</td></tr>
<tr><th id="223">223</th><td><em>int</em> <dfn class="decl fn" id="find_suitable_fallback" title='find_suitable_fallback' data-ref="find_suitable_fallback" data-ref-filename="find_suitable_fallback">find_suitable_fallback</dfn>(<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#free_area" title='free_area' data-ref="free_area" data-ref-filename="free_area">free_area</a> *<dfn class="local col1 decl" id="51area" title='area' data-type='struct free_area *' data-ref="51area" data-ref-filename="51area">area</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col2 decl" id="52order" title='order' data-type='unsigned int' data-ref="52order" data-ref-filename="52order">order</dfn>,</td></tr>
<tr><th id="224">224</th><td>			<em>int</em> <dfn class="local col3 decl" id="53migratetype" title='migratetype' data-type='int' data-ref="53migratetype" data-ref-filename="53migratetype">migratetype</dfn>, <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="local col4 decl" id="54only_stealable" title='only_stealable' data-type='bool' data-ref="54only_stealable" data-ref-filename="54only_stealable">only_stealable</dfn>, <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> *<dfn class="local col5 decl" id="55can_steal" title='can_steal' data-type='bool *' data-ref="55can_steal" data-ref-filename="55can_steal">can_steal</dfn>);</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td><u>#<span data-ppcond="168">endif</span></u></td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td><i>/*</i></td></tr>
<tr><th id="229">229</th><td><i> * This function returns the order of a free page in the buddy system. In</i></td></tr>
<tr><th id="230">230</th><td><i> * general, page_zone(page)-&gt;lock must be held by the caller to prevent the</i></td></tr>
<tr><th id="231">231</th><td><i> * page from being allocated in parallel and returning garbage as the order.</i></td></tr>
<tr><th id="232">232</th><td><i> * If a caller does not hold page_zone(page)-&gt;lock, it must guarantee that the</i></td></tr>
<tr><th id="233">233</th><td><i> * page cannot be allocated or merged in parallel. Alternatively, it must</i></td></tr>
<tr><th id="234">234</th><td><i> * handle invalid values gracefully, and use page_order_unsafe() below.</i></td></tr>
<tr><th id="235">235</th><td><i> */</i></td></tr>
<tr><th id="236">236</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>unsigned</em> <em>int</em> <dfn class="decl def fn" id="page_order" title='page_order' data-ref="page_order" data-ref-filename="page_order">page_order</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col6 decl" id="56page" title='page' data-type='struct page *' data-ref="56page" data-ref-filename="56page">page</dfn>)</td></tr>
<tr><th id="237">237</th><td>{</td></tr>
<tr><th id="238">238</th><td>	<i>/* PageBuddy() must be checked by the caller */</i></td></tr>
<tr><th id="239">239</th><td>	<b>return</b> <a class="macro" href="../include/linux/mm_types.h.html#232" title="((page)-&gt;private)" data-ref="_M/page_private">page_private</a>(<a class="local col6 ref" href="#56page" title='page' data-ref="56page" data-ref-filename="56page">page</a>);</td></tr>
<tr><th id="240">240</th><td>}</td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td><i>/*</i></td></tr>
<tr><th id="243">243</th><td><i> * Like page_order(), but for callers who cannot afford to hold the zone lock.</i></td></tr>
<tr><th id="244">244</th><td><i> * PageBuddy() should be checked first by the caller to minimize race window,</i></td></tr>
<tr><th id="245">245</th><td><i> * and invalid values must be handled gracefully.</i></td></tr>
<tr><th id="246">246</th><td><i> *</i></td></tr>
<tr><th id="247">247</th><td><i> * READ_ONCE is used so that if the caller assigns the result into a local</i></td></tr>
<tr><th id="248">248</th><td><i> * variable and e.g. tests it for valid range before using, the compiler cannot</i></td></tr>
<tr><th id="249">249</th><td><i> * decide to remove the variable and inline the page_private(page) multiple</i></td></tr>
<tr><th id="250">250</th><td><i> * times, potentially observing different values in the tests and the actual</i></td></tr>
<tr><th id="251">251</th><td><i> * use of the result.</i></td></tr>
<tr><th id="252">252</th><td><i> */</i></td></tr>
<tr><th id="253">253</th><td><u>#define <dfn class="macro" id="_M/page_order_unsafe" data-ref="_M/page_order_unsafe">page_order_unsafe</dfn>(page)		READ_ONCE(page_private(page))</u></td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="is_cow_mapping" title='is_cow_mapping' data-ref="is_cow_mapping" data-ref-filename="is_cow_mapping">is_cow_mapping</dfn>(<a class="typedef" href="../include/linux/mm_types.h.html#vm_flags_t" title='vm_flags_t' data-type='unsigned long' data-ref="vm_flags_t" data-ref-filename="vm_flags_t">vm_flags_t</a> <dfn class="local col7 decl" id="57flags" title='flags' data-type='vm_flags_t' data-ref="57flags" data-ref-filename="57flags">flags</dfn>)</td></tr>
<tr><th id="256">256</th><td>{</td></tr>
<tr><th id="257">257</th><td>	<b>return</b> (<a class="local col7 ref" href="#57flags" title='flags' data-ref="57flags" data-ref-filename="57flags">flags</a> &amp; (<a class="macro" href="../include/linux/mm.h.html#252" title="0x00000008" data-ref="_M/VM_SHARED">VM_SHARED</a> | <a class="macro" href="../include/linux/mm.h.html#256" title="0x00000020" data-ref="_M/VM_MAYWRITE">VM_MAYWRITE</a>)) == <a class="macro" href="../include/linux/mm.h.html#256" title="0x00000020" data-ref="_M/VM_MAYWRITE">VM_MAYWRITE</a>;</td></tr>
<tr><th id="258">258</th><td>}</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td><i>/*</i></td></tr>
<tr><th id="261">261</th><td><i> * These three helpers classifies VMAs for virtual memory accounting.</i></td></tr>
<tr><th id="262">262</th><td><i> */</i></td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td><i>/*</i></td></tr>
<tr><th id="265">265</th><td><i> * Executable code area - executable, not writable, not stack</i></td></tr>
<tr><th id="266">266</th><td><i> */</i></td></tr>
<tr><th id="267">267</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="is_exec_mapping" title='is_exec_mapping' data-ref="is_exec_mapping" data-ref-filename="is_exec_mapping">is_exec_mapping</dfn>(<a class="typedef" href="../include/linux/mm_types.h.html#vm_flags_t" title='vm_flags_t' data-type='unsigned long' data-ref="vm_flags_t" data-ref-filename="vm_flags_t">vm_flags_t</a> <dfn class="local col8 decl" id="58flags" title='flags' data-type='vm_flags_t' data-ref="58flags" data-ref-filename="58flags">flags</dfn>)</td></tr>
<tr><th id="268">268</th><td>{</td></tr>
<tr><th id="269">269</th><td>	<b>return</b> (<a class="local col8 ref" href="#58flags" title='flags' data-ref="58flags" data-ref-filename="58flags">flags</a> &amp; (<a class="macro" href="../include/linux/mm.h.html#251" title="0x00000004" data-ref="_M/VM_EXEC">VM_EXEC</a> | <a class="macro" href="../include/linux/mm.h.html#250" title="0x00000002" data-ref="_M/VM_WRITE">VM_WRITE</a> | <a class="macro" href="../include/linux/mm.h.html#357" title="0x00000100" data-ref="_M/VM_STACK">VM_STACK</a>)) == <a class="macro" href="../include/linux/mm.h.html#251" title="0x00000004" data-ref="_M/VM_EXEC">VM_EXEC</a>;</td></tr>
<tr><th id="270">270</th><td>}</td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td><i>/*</i></td></tr>
<tr><th id="273">273</th><td><i> * Stack area - atomatically grows in one direction</i></td></tr>
<tr><th id="274">274</th><td><i> *</i></td></tr>
<tr><th id="275">275</th><td><i> * VM_GROWSUP / VM_GROWSDOWN VMAs are always private anonymous:</i></td></tr>
<tr><th id="276">276</th><td><i> * do_mmap() forbids all other combinations.</i></td></tr>
<tr><th id="277">277</th><td><i> */</i></td></tr>
<tr><th id="278">278</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="is_stack_mapping" title='is_stack_mapping' data-ref="is_stack_mapping" data-ref-filename="is_stack_mapping">is_stack_mapping</dfn>(<a class="typedef" href="../include/linux/mm_types.h.html#vm_flags_t" title='vm_flags_t' data-type='unsigned long' data-ref="vm_flags_t" data-ref-filename="vm_flags_t">vm_flags_t</a> <dfn class="local col9 decl" id="59flags" title='flags' data-type='vm_flags_t' data-ref="59flags" data-ref-filename="59flags">flags</dfn>)</td></tr>
<tr><th id="279">279</th><td>{</td></tr>
<tr><th id="280">280</th><td>	<b>return</b> (<a class="local col9 ref" href="#59flags" title='flags' data-ref="59flags" data-ref-filename="59flags">flags</a> &amp; <a class="macro" href="../include/linux/mm.h.html#357" title="0x00000100" data-ref="_M/VM_STACK">VM_STACK</a>) == <a class="macro" href="../include/linux/mm.h.html#357" title="0x00000100" data-ref="_M/VM_STACK">VM_STACK</a>;</td></tr>
<tr><th id="281">281</th><td>}</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td><i>/*</i></td></tr>
<tr><th id="284">284</th><td><i> * Data area - private, writable, not stack</i></td></tr>
<tr><th id="285">285</th><td><i> */</i></td></tr>
<tr><th id="286">286</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="is_data_mapping" title='is_data_mapping' data-ref="is_data_mapping" data-ref-filename="is_data_mapping">is_data_mapping</dfn>(<a class="typedef" href="../include/linux/mm_types.h.html#vm_flags_t" title='vm_flags_t' data-type='unsigned long' data-ref="vm_flags_t" data-ref-filename="vm_flags_t">vm_flags_t</a> <dfn class="local col0 decl" id="60flags" title='flags' data-type='vm_flags_t' data-ref="60flags" data-ref-filename="60flags">flags</dfn>)</td></tr>
<tr><th id="287">287</th><td>{</td></tr>
<tr><th id="288">288</th><td>	<b>return</b> (<a class="local col0 ref" href="#60flags" title='flags' data-ref="60flags" data-ref-filename="60flags">flags</a> &amp; (<a class="macro" href="../include/linux/mm.h.html#250" title="0x00000002" data-ref="_M/VM_WRITE">VM_WRITE</a> | <a class="macro" href="../include/linux/mm.h.html#252" title="0x00000008" data-ref="_M/VM_SHARED">VM_SHARED</a> | <a class="macro" href="../include/linux/mm.h.html#357" title="0x00000100" data-ref="_M/VM_STACK">VM_STACK</a>)) == <a class="macro" href="../include/linux/mm.h.html#250" title="0x00000002" data-ref="_M/VM_WRITE">VM_WRITE</a>;</td></tr>
<tr><th id="289">289</th><td>}</td></tr>
<tr><th id="290">290</th><td></td></tr>
<tr><th id="291">291</th><td><i>/* mm/util.c */</i></td></tr>
<tr><th id="292">292</th><td><em>void</em> <dfn class="decl fn" id="__vma_link_list" title='__vma_link_list' data-ref="__vma_link_list" data-ref-filename="__vma_link_list">__vma_link_list</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#mm_struct" title='mm_struct' data-ref="mm_struct" data-ref-filename="mm_struct">mm_struct</a> *<dfn class="local col1 decl" id="61mm" title='mm' data-type='struct mm_struct *' data-ref="61mm" data-ref-filename="61mm">mm</dfn>, <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col2 decl" id="62vma" title='vma' data-type='struct vm_area_struct *' data-ref="62vma" data-ref-filename="62vma">vma</dfn>,</td></tr>
<tr><th id="293">293</th><td>		<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col3 decl" id="63prev" title='prev' data-type='struct vm_area_struct *' data-ref="63prev" data-ref-filename="63prev">prev</dfn>, <b>struct</b> <a class="type" href="../include/linux/rbtree.h.html#rb_node" title='rb_node' data-ref="rb_node" data-ref-filename="rb_node">rb_node</a> *<dfn class="local col4 decl" id="64rb_parent" title='rb_parent' data-type='struct rb_node *' data-ref="64rb_parent" data-ref-filename="64rb_parent">rb_parent</dfn>);</td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td><u>#<span data-ppcond="295">ifdef</span> <a class="macro" href="../include/generated/autoconf.h.html#1383" data-ref="_M/CONFIG_MMU">CONFIG_MMU</a></u></td></tr>
<tr><th id="296">296</th><td><b>extern</b> <em>long</em> <dfn class="decl fn" id="populate_vma_page_range" title='populate_vma_page_range' data-ref="populate_vma_page_range" data-ref-filename="populate_vma_page_range">populate_vma_page_range</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col5 decl" id="65vma" title='vma' data-type='struct vm_area_struct *' data-ref="65vma" data-ref-filename="65vma">vma</dfn>,</td></tr>
<tr><th id="297">297</th><td>		<em>unsigned</em> <em>long</em> <dfn class="local col6 decl" id="66start" title='start' data-type='unsigned long' data-ref="66start" data-ref-filename="66start">start</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col7 decl" id="67end" title='end' data-type='unsigned long' data-ref="67end" data-ref-filename="67end">end</dfn>, <em>int</em> *<dfn class="local col8 decl" id="68nonblocking" title='nonblocking' data-type='int *' data-ref="68nonblocking" data-ref-filename="68nonblocking">nonblocking</dfn>);</td></tr>
<tr><th id="298">298</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="munlock_vma_pages_range" title='munlock_vma_pages_range' data-ref="munlock_vma_pages_range" data-ref-filename="munlock_vma_pages_range">munlock_vma_pages_range</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col9 decl" id="69vma" title='vma' data-type='struct vm_area_struct *' data-ref="69vma" data-ref-filename="69vma">vma</dfn>,</td></tr>
<tr><th id="299">299</th><td>			<em>unsigned</em> <em>long</em> <dfn class="local col0 decl" id="70start" title='start' data-type='unsigned long' data-ref="70start" data-ref-filename="70start">start</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col1 decl" id="71end" title='end' data-type='unsigned long' data-ref="71end" data-ref-filename="71end">end</dfn>);</td></tr>
<tr><th id="300">300</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>void</em> <dfn class="decl def fn" id="munlock_vma_pages_all" title='munlock_vma_pages_all' data-ref="munlock_vma_pages_all" data-ref-filename="munlock_vma_pages_all">munlock_vma_pages_all</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col2 decl" id="72vma" title='vma' data-type='struct vm_area_struct *' data-ref="72vma" data-ref-filename="72vma">vma</dfn>)</td></tr>
<tr><th id="301">301</th><td>{</td></tr>
<tr><th id="302">302</th><td>	<a class="ref fn" href="#munlock_vma_pages_range" title='munlock_vma_pages_range' data-ref="munlock_vma_pages_range" data-ref-filename="munlock_vma_pages_range">munlock_vma_pages_range</a>(<a class="local col2 ref" href="#72vma" title='vma' data-ref="72vma" data-ref-filename="72vma">vma</a>, <a class="local col2 ref" href="#72vma" title='vma' data-ref="72vma" data-ref-filename="72vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_start" title='vm_area_struct::vm_start' data-ref="vm_area_struct::vm_start" data-ref-filename="vm_area_struct..vm_start">vm_start</a>, <a class="local col2 ref" href="#72vma" title='vma' data-ref="72vma" data-ref-filename="72vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_end" title='vm_area_struct::vm_end' data-ref="vm_area_struct::vm_end" data-ref-filename="vm_area_struct..vm_end">vm_end</a>);</td></tr>
<tr><th id="303">303</th><td>}</td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td><i>/*</i></td></tr>
<tr><th id="306">306</th><td><i> * must be called with vma's mmap_sem held for read or write, and page locked.</i></td></tr>
<tr><th id="307">307</th><td><i> */</i></td></tr>
<tr><th id="308">308</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="mlock_vma_page" title='mlock_vma_page' data-ref="mlock_vma_page" data-ref-filename="mlock_vma_page">mlock_vma_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col3 decl" id="73page" title='page' data-type='struct page *' data-ref="73page" data-ref-filename="73page">page</dfn>);</td></tr>
<tr><th id="309">309</th><td><b>extern</b> <em>unsigned</em> <em>int</em> <dfn class="decl fn" id="munlock_vma_page" title='munlock_vma_page' data-ref="munlock_vma_page" data-ref-filename="munlock_vma_page">munlock_vma_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col4 decl" id="74page" title='page' data-type='struct page *' data-ref="74page" data-ref-filename="74page">page</dfn>);</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td><i>/*</i></td></tr>
<tr><th id="312">312</th><td><i> * Clear the page's PageMlocked().  This can be useful in a situation where</i></td></tr>
<tr><th id="313">313</th><td><i> * we want to unconditionally remove a page from the pagecache -- e.g.,</i></td></tr>
<tr><th id="314">314</th><td><i> * on truncation or freeing.</i></td></tr>
<tr><th id="315">315</th><td><i> *</i></td></tr>
<tr><th id="316">316</th><td><i> * It is legal to call this function for any page, mlocked or not.</i></td></tr>
<tr><th id="317">317</th><td><i> * If called for a page that is still mapped by mlocked vmas, all we do</i></td></tr>
<tr><th id="318">318</th><td><i> * is revert to lazy LRU behaviour -- semantics are not broken.</i></td></tr>
<tr><th id="319">319</th><td><i> */</i></td></tr>
<tr><th id="320">320</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="clear_page_mlock" title='clear_page_mlock' data-ref="clear_page_mlock" data-ref-filename="clear_page_mlock">clear_page_mlock</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col5 decl" id="75page" title='page' data-type='struct page *' data-ref="75page" data-ref-filename="75page">page</dfn>);</td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td><i>/*</i></td></tr>
<tr><th id="323">323</th><td><i> * mlock_migrate_page - called only from migrate_misplaced_transhuge_page()</i></td></tr>
<tr><th id="324">324</th><td><i> * (because that does not go through the full procedure of migration ptes):</i></td></tr>
<tr><th id="325">325</th><td><i> * to migrate the Mlocked page flag; update statistics.</i></td></tr>
<tr><th id="326">326</th><td><i> */</i></td></tr>
<tr><th id="327">327</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>void</em> <dfn class="decl def fn" id="mlock_migrate_page" title='mlock_migrate_page' data-ref="mlock_migrate_page" data-ref-filename="mlock_migrate_page">mlock_migrate_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col6 decl" id="76newpage" title='newpage' data-type='struct page *' data-ref="76newpage" data-ref-filename="76newpage">newpage</dfn>, <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col7 decl" id="77page" title='page' data-type='struct page *' data-ref="77page" data-ref-filename="77page">page</dfn>)</td></tr>
<tr><th id="328">328</th><td>{</td></tr>
<tr><th id="329">329</th><td>	<b>if</b> (<a class="ref fn" href="../include/linux/page-flags.h.html#401" title='TestClearPageMlocked' data-ref="TestClearPageMlocked" data-ref-filename="TestClearPageMlocked">TestClearPageMlocked</a>(<a class="local col7 ref" href="#77page" title='page' data-ref="77page" data-ref-filename="77page">page</a>)) {</td></tr>
<tr><th id="330">330</th><td>		<em>int</em> <dfn class="local col8 decl" id="78nr_pages" title='nr_pages' data-type='int' data-ref="78nr_pages" data-ref-filename="78nr_pages">nr_pages</dfn> = <a class="macro" href="../include/linux/huge_mm.h.html#279" title="1" data-ref="_M/hpage_nr_pages">hpage_nr_pages</a>(page);</td></tr>
<tr><th id="331">331</th><td></td></tr>
<tr><th id="332">332</th><td>		<i>/* Holding pmd lock, no change in irq context: __mod is safe */</i></td></tr>
<tr><th id="333">333</th><td>		<a class="ref fn" href="../include/linux/vmstat.h.html#__mod_zone_page_state" title='__mod_zone_page_state' data-ref="__mod_zone_page_state" data-ref-filename="__mod_zone_page_state">__mod_zone_page_state</a>(<a class="ref fn" href="../include/linux/mm.h.html#page_zone" title='page_zone' data-ref="page_zone" data-ref-filename="page_zone">page_zone</a>(<a class="local col7 ref" href="#77page" title='page' data-ref="77page" data-ref-filename="77page">page</a>), <a class="enum" href="../include/linux/mmzone.h.html#NR_MLOCK" title='NR_MLOCK' data-ref="NR_MLOCK" data-ref-filename="NR_MLOCK">NR_MLOCK</a>, -<a class="local col8 ref" href="#78nr_pages" title='nr_pages' data-ref="78nr_pages" data-ref-filename="78nr_pages">nr_pages</a>);</td></tr>
<tr><th id="334">334</th><td>		<a class="ref fn" href="../include/linux/page-flags.h.html#399" title='SetPageMlocked' data-ref="SetPageMlocked" data-ref-filename="SetPageMlocked">SetPageMlocked</a>(<a class="local col6 ref" href="#76newpage" title='newpage' data-ref="76newpage" data-ref-filename="76newpage">newpage</a>);</td></tr>
<tr><th id="335">335</th><td>		<a class="ref fn" href="../include/linux/vmstat.h.html#__mod_zone_page_state" title='__mod_zone_page_state' data-ref="__mod_zone_page_state" data-ref-filename="__mod_zone_page_state">__mod_zone_page_state</a>(<a class="ref fn" href="../include/linux/mm.h.html#page_zone" title='page_zone' data-ref="page_zone" data-ref-filename="page_zone">page_zone</a>(<a class="local col6 ref" href="#76newpage" title='newpage' data-ref="76newpage" data-ref-filename="76newpage">newpage</a>), <a class="enum" href="../include/linux/mmzone.h.html#NR_MLOCK" title='NR_MLOCK' data-ref="NR_MLOCK" data-ref-filename="NR_MLOCK">NR_MLOCK</a>, <a class="local col8 ref" href="#78nr_pages" title='nr_pages' data-ref="78nr_pages" data-ref-filename="78nr_pages">nr_pages</a>);</td></tr>
<tr><th id="336">336</th><td>	}</td></tr>
<tr><th id="337">337</th><td>}</td></tr>
<tr><th id="338">338</th><td></td></tr>
<tr><th id="339">339</th><td><b>extern</b> <a class="typedef" href="../arch/x86/include/asm/pgtable_types.h.html#pmd_t" title='pmd_t' data-type='struct pmd_t' data-ref="pmd_t" data-ref-filename="pmd_t">pmd_t</a> <dfn class="decl fn" id="maybe_pmd_mkwrite" title='maybe_pmd_mkwrite' data-ref="maybe_pmd_mkwrite" data-ref-filename="maybe_pmd_mkwrite">maybe_pmd_mkwrite</dfn>(<a class="typedef" href="../arch/x86/include/asm/pgtable_types.h.html#pmd_t" title='pmd_t' data-type='struct pmd_t' data-ref="pmd_t" data-ref-filename="pmd_t">pmd_t</a> <dfn class="local col9 decl" id="79pmd" title='pmd' data-type='pmd_t' data-ref="79pmd" data-ref-filename="79pmd">pmd</dfn>, <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col0 decl" id="80vma" title='vma' data-type='struct vm_area_struct *' data-ref="80vma" data-ref-filename="80vma">vma</dfn>);</td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td><i>/*</i></td></tr>
<tr><th id="342">342</th><td><i> * At what user virtual address is page expected in @vma?</i></td></tr>
<tr><th id="343">343</th><td><i> */</i></td></tr>
<tr><th id="344">344</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>unsigned</em> <em>long</em></td></tr>
<tr><th id="345">345</th><td><dfn class="decl def fn" id="__vma_address" title='__vma_address' data-ref="__vma_address" data-ref-filename="__vma_address">__vma_address</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col1 decl" id="81page" title='page' data-type='struct page *' data-ref="81page" data-ref-filename="81page">page</dfn>, <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col2 decl" id="82vma" title='vma' data-type='struct vm_area_struct *' data-ref="82vma" data-ref-filename="82vma">vma</dfn>)</td></tr>
<tr><th id="346">346</th><td>{</td></tr>
<tr><th id="347">347</th><td>	<a class="macro" href="../include/linux/types.h.html#136" title="unsigned long" data-ref="_M/pgoff_t">pgoff_t</a> <dfn class="local col3 decl" id="83pgoff" title='pgoff' data-type='unsigned long' data-ref="83pgoff" data-ref-filename="83pgoff">pgoff</dfn> = <a class="ref fn" href="../include/linux/pagemap.h.html#page_to_pgoff" title='page_to_pgoff' data-ref="page_to_pgoff" data-ref-filename="page_to_pgoff">page_to_pgoff</a>(<a class="local col1 ref" href="#81page" title='page' data-ref="81page" data-ref-filename="81page">page</a>);</td></tr>
<tr><th id="348">348</th><td>	<b>return</b> <a class="local col2 ref" href="#82vma" title='vma' data-ref="82vma" data-ref-filename="82vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_start" title='vm_area_struct::vm_start' data-ref="vm_area_struct::vm_start" data-ref-filename="vm_area_struct..vm_start">vm_start</a> + ((<a class="local col3 ref" href="#83pgoff" title='pgoff' data-ref="83pgoff" data-ref-filename="83pgoff">pgoff</a> - <a class="local col2 ref" href="#82vma" title='vma' data-ref="82vma" data-ref-filename="82vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_pgoff" title='vm_area_struct::vm_pgoff' data-ref="vm_area_struct::vm_pgoff" data-ref-filename="vm_area_struct..vm_pgoff">vm_pgoff</a>) &lt;&lt; <a class="macro" href="../arch/x86/include/asm/page_types.h.html#10" title="12" data-ref="_M/PAGE_SHIFT">PAGE_SHIFT</a>);</td></tr>
<tr><th id="349">349</th><td>}</td></tr>
<tr><th id="350">350</th><td></td></tr>
<tr><th id="351">351</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>unsigned</em> <em>long</em></td></tr>
<tr><th id="352">352</th><td><dfn class="decl def fn" id="vma_address" title='vma_address' data-ref="vma_address" data-ref-filename="vma_address">vma_address</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col4 decl" id="84page" title='page' data-type='struct page *' data-ref="84page" data-ref-filename="84page">page</dfn>, <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" data-ref-filename="vm_area_struct">vm_area_struct</a> *<dfn class="local col5 decl" id="85vma" title='vma' data-type='struct vm_area_struct *' data-ref="85vma" data-ref-filename="85vma">vma</dfn>)</td></tr>
<tr><th id="353">353</th><td>{</td></tr>
<tr><th id="354">354</th><td>	<em>unsigned</em> <em>long</em> <dfn class="local col6 decl" id="86start" title='start' data-type='unsigned long' data-ref="86start" data-ref-filename="86start">start</dfn>, <dfn class="local col7 decl" id="87end" title='end' data-type='unsigned long' data-ref="87end" data-ref-filename="87end">end</dfn>;</td></tr>
<tr><th id="355">355</th><td></td></tr>
<tr><th id="356">356</th><td>	<a class="local col6 ref" href="#86start" title='start' data-ref="86start" data-ref-filename="86start">start</a> = <a class="ref fn" href="#__vma_address" title='__vma_address' data-ref="__vma_address" data-ref-filename="__vma_address">__vma_address</a>(<a class="local col4 ref" href="#84page" title='page' data-ref="84page" data-ref-filename="84page">page</a>, <a class="local col5 ref" href="#85vma" title='vma' data-ref="85vma" data-ref-filename="85vma">vma</a>);</td></tr>
<tr><th id="357">357</th><td>	<a class="local col7 ref" href="#87end" title='end' data-ref="87end" data-ref-filename="87end">end</a> = <a class="local col6 ref" href="#86start" title='start' data-ref="86start" data-ref-filename="86start">start</a> + <a class="macro" href="../arch/x86/include/asm/page_types.h.html#11" title="((1UL) &lt;&lt; 12)" data-ref="_M/PAGE_SIZE">PAGE_SIZE</a> * (<a class="macro" href="../include/linux/huge_mm.h.html#279" title="1" data-ref="_M/hpage_nr_pages">hpage_nr_pages</a>(page) - <var>1</var>);</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td>	<i>/* page should be within @vma mapping range */</i></td></tr>
<tr><th id="360">360</th><td>	<a class="macro" href="../include/linux/mmdebug.h.html#47" title="((void)(sizeof(( long)(end &lt; vma-&gt;vm_start || start &gt;= vma-&gt;vm_end))))" data-ref="_M/VM_BUG_ON_VMA">VM_BUG_ON_VMA</a>(<a class="local col7 ref" href="#87end" title='end' data-ref="87end" data-ref-filename="87end">end</a> &lt; <a class="local col5 ref" href="#85vma" title='vma' data-ref="85vma" data-ref-filename="85vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_start" title='vm_area_struct::vm_start' data-ref="vm_area_struct::vm_start" data-ref-filename="vm_area_struct..vm_start">vm_start</a> || <a class="local col6 ref" href="#86start" title='start' data-ref="86start" data-ref-filename="86start">start</a> &gt;= <a class="local col5 ref" href="#85vma" title='vma' data-ref="85vma" data-ref-filename="85vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_end" title='vm_area_struct::vm_end' data-ref="vm_area_struct::vm_end" data-ref-filename="vm_area_struct..vm_end">vm_end</a>, vma);</td></tr>
<tr><th id="361">361</th><td></td></tr>
<tr><th id="362">362</th><td>	<b>return</b> <a class="macro" href="../include/linux/kernel.h.html#861" title="__builtin_choose_expr(((!!(sizeof((typeof(start) *)1 == (typeof(vma-&gt;vm_start) *)1))) &amp;&amp; ((sizeof(int) == sizeof(*(8 ? ((void *)((long)(start) * 0l)) : (int *)8))) &amp;&amp; (sizeof(int) == sizeof(*(8 ? ((void *)((long)(vma-&gt;vm_start) * 0l)) : (int *)8))))), ((start) &gt; (vma-&gt;vm_start) ? (start) : (vma-&gt;vm_start)), ({ typeof(start) __UNIQUE_ID___x85 = (start); typeof(vma-&gt;vm_start) __UNIQUE_ID___y86 = (vma-&gt;vm_start); ((__UNIQUE_ID___x85) &gt; (__UNIQUE_ID___y86) ? (__UNIQUE_ID___x85) : (__UNIQUE_ID___y86)); }))" data-ref="_M/max">max</a>(<a class="local col6 ref" href="#86start" title='start' data-ref="86start" data-ref-filename="86start">start</a>, <a class="local col5 ref" href="#85vma" title='vma' data-ref="85vma" data-ref-filename="85vma">vma</a>-&gt;<a class="ref field" href="../include/linux/mm_types.h.html#vm_area_struct::vm_start" title='vm_area_struct::vm_start' data-ref="vm_area_struct::vm_start" data-ref-filename="vm_area_struct..vm_start">vm_start</a>);</td></tr>
<tr><th id="363">363</th><td>}</td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td><u>#<span data-ppcond="295">else</span> /* !CONFIG_MMU */</u></td></tr>
<tr><th id="366">366</th><td><em>static</em> <b>inline</b> <em>void</em> clear_page_mlock(<b>struct</b> page *page) { }</td></tr>
<tr><th id="367">367</th><td><em>static</em> <b>inline</b> <em>void</em> mlock_vma_page(<b>struct</b> page *page) { }</td></tr>
<tr><th id="368">368</th><td><em>static</em> <b>inline</b> <em>void</em> mlock_migrate_page(<b>struct</b> page *new, <b>struct</b> page *old) { }</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td><u>#<span data-ppcond="295">endif</span> /* !CONFIG_MMU */</u></td></tr>
<tr><th id="371">371</th><td></td></tr>
<tr><th id="372">372</th><td><i>/*</i></td></tr>
<tr><th id="373">373</th><td><i> * Return the mem_map entry representing the 'offset' subpage within</i></td></tr>
<tr><th id="374">374</th><td><i> * the maximally aligned gigantic page 'base'.  Handle any discontiguity</i></td></tr>
<tr><th id="375">375</th><td><i> * in the mem_map at MAX_ORDER_NR_PAGES boundaries.</i></td></tr>
<tr><th id="376">376</th><td><i> */</i></td></tr>
<tr><th id="377">377</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="decl def fn" id="mem_map_offset" title='mem_map_offset' data-ref="mem_map_offset" data-ref-filename="mem_map_offset">mem_map_offset</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col8 decl" id="88base" title='base' data-type='struct page *' data-ref="88base" data-ref-filename="88base">base</dfn>, <em>int</em> <dfn class="local col9 decl" id="89offset" title='offset' data-type='int' data-ref="89offset" data-ref-filename="89offset">offset</dfn>)</td></tr>
<tr><th id="378">378</th><td>{</td></tr>
<tr><th id="379">379</th><td>	<b>if</b> (<a class="macro" href="../include/linux/compiler.h.html#78" title="__builtin_expect(!!(offset &gt;= (1 &lt;&lt; (11 - 1))), 0)" data-ref="_M/unlikely">unlikely</a>(<a class="local col9 ref" href="#89offset" title='offset' data-ref="89offset" data-ref-filename="89offset">offset</a> &gt;= <a class="macro" href="../include/linux/mmzone.h.html#31" title="(1 &lt;&lt; (11 - 1))" data-ref="_M/MAX_ORDER_NR_PAGES">MAX_ORDER_NR_PAGES</a>))</td></tr>
<tr><th id="380">380</th><td>		<b>return</b> <a class="macro" href="../include/linux/mm.h.html#213" title="(((struct page *)vmemmap_base) + ((unsigned long)(((base)) - ((struct page *)vmemmap_base)) + (offset)))" data-ref="_M/nth_page">nth_page</a>(<a class="local col8 ref" href="#88base" title='base' data-ref="88base" data-ref-filename="88base">base</a>, <a class="local col9 ref" href="#89offset" title='offset' data-ref="89offset" data-ref-filename="89offset">offset</a>);</td></tr>
<tr><th id="381">381</th><td>	<b>return</b> <a class="local col8 ref" href="#88base" title='base' data-ref="88base" data-ref-filename="88base">base</a> + <a class="local col9 ref" href="#89offset" title='offset' data-ref="89offset" data-ref-filename="89offset">offset</a>;</td></tr>
<tr><th id="382">382</th><td>}</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td><i>/*</i></td></tr>
<tr><th id="385">385</th><td><i> * Iterator over all subpages within the maximally aligned gigantic</i></td></tr>
<tr><th id="386">386</th><td><i> * page 'base'.  Handle any discontiguity in the mem_map.</i></td></tr>
<tr><th id="387">387</th><td><i> */</i></td></tr>
<tr><th id="388">388</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="decl def fn" id="mem_map_next" title='mem_map_next' data-ref="mem_map_next" data-ref-filename="mem_map_next">mem_map_next</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col0 decl" id="90iter" title='iter' data-type='struct page *' data-ref="90iter" data-ref-filename="90iter">iter</dfn>,</td></tr>
<tr><th id="389">389</th><td>						<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col1 decl" id="91base" title='base' data-type='struct page *' data-ref="91base" data-ref-filename="91base">base</dfn>, <em>int</em> <dfn class="local col2 decl" id="92offset" title='offset' data-type='int' data-ref="92offset" data-ref-filename="92offset">offset</dfn>)</td></tr>
<tr><th id="390">390</th><td>{</td></tr>
<tr><th id="391">391</th><td>	<b>if</b> (<a class="macro" href="../include/linux/compiler.h.html#78" title="__builtin_expect(!!((offset &amp; ((1 &lt;&lt; (11 - 1)) - 1)) == 0), 0)" data-ref="_M/unlikely">unlikely</a>((<a class="local col2 ref" href="#92offset" title='offset' data-ref="92offset" data-ref-filename="92offset">offset</a> &amp; (<a class="macro" href="../include/linux/mmzone.h.html#31" title="(1 &lt;&lt; (11 - 1))" data-ref="_M/MAX_ORDER_NR_PAGES">MAX_ORDER_NR_PAGES</a> - <var>1</var>)) == <var>0</var>)) {</td></tr>
<tr><th id="392">392</th><td>		<em>unsigned</em> <em>long</em> <dfn class="local col3 decl" id="93pfn" title='pfn' data-type='unsigned long' data-ref="93pfn" data-ref-filename="93pfn">pfn</dfn> = <a class="macro" href="../include/asm-generic/memory_model.h.html#81" title="__page_to_pfn" data-ref="_M/page_to_pfn">page_to_pfn</a>(<a class="local col1 ref" href="#91base" title='base' data-ref="91base" data-ref-filename="91base">base</a>) + <a class="local col2 ref" href="#92offset" title='offset' data-ref="92offset" data-ref-filename="92offset">offset</a>;</td></tr>
<tr><th id="393">393</th><td>		<b>if</b> (!<a class="ref fn" href="../include/linux/mmzone.h.html#pfn_valid" title='pfn_valid' data-ref="pfn_valid" data-ref-filename="pfn_valid">pfn_valid</a>(<a class="local col3 ref" href="#93pfn" title='pfn' data-ref="93pfn" data-ref-filename="93pfn">pfn</a>))</td></tr>
<tr><th id="394">394</th><td>			<b>return</b> <a class="macro" href="../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="395">395</th><td>		<b>return</b> <a class="macro" href="../include/asm-generic/memory_model.h.html#82" title="__pfn_to_page" data-ref="_M/pfn_to_page">pfn_to_page</a>(<a class="local col3 ref" href="#93pfn" title='pfn' data-ref="93pfn" data-ref-filename="93pfn">pfn</a>);</td></tr>
<tr><th id="396">396</th><td>	}</td></tr>
<tr><th id="397">397</th><td>	<b>return</b> <a class="local col0 ref" href="#90iter" title='iter' data-ref="90iter" data-ref-filename="90iter">iter</a> + <var>1</var>;</td></tr>
<tr><th id="398">398</th><td>}</td></tr>
<tr><th id="399">399</th><td></td></tr>
<tr><th id="400">400</th><td><i>/* Memory initialisation debug and verification */</i></td></tr>
<tr><th id="401">401</th><td><b>enum</b> <dfn class="type def" id="mminit_level" title='mminit_level' data-ref="mminit_level" data-ref-filename="mminit_level">mminit_level</dfn> {</td></tr>
<tr><th id="402">402</th><td>	<dfn class="enum" id="MMINIT_WARNING" title='MMINIT_WARNING' data-ref="MMINIT_WARNING" data-ref-filename="MMINIT_WARNING">MMINIT_WARNING</dfn>,</td></tr>
<tr><th id="403">403</th><td>	<dfn class="enum" id="MMINIT_VERIFY" title='MMINIT_VERIFY' data-ref="MMINIT_VERIFY" data-ref-filename="MMINIT_VERIFY">MMINIT_VERIFY</dfn>,</td></tr>
<tr><th id="404">404</th><td>	<dfn class="enum" id="MMINIT_TRACE" title='MMINIT_TRACE' data-ref="MMINIT_TRACE" data-ref-filename="MMINIT_TRACE">MMINIT_TRACE</dfn></td></tr>
<tr><th id="405">405</th><td>};</td></tr>
<tr><th id="406">406</th><td></td></tr>
<tr><th id="407">407</th><td><u>#<span data-ppcond="407">ifdef</span> <a class="macro" href="../include/generated/autoconf.h.html#1206" data-ref="_M/CONFIG_DEBUG_MEMORY_INIT">CONFIG_DEBUG_MEMORY_INIT</a></u></td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td><b>extern</b> <em>int</em> <dfn class="decl" id="mminit_loglevel" title='mminit_loglevel' data-ref="mminit_loglevel" data-ref-filename="mminit_loglevel">mminit_loglevel</dfn>;</td></tr>
<tr><th id="410">410</th><td></td></tr>
<tr><th id="411">411</th><td><u>#define <dfn class="macro" id="_M/mminit_dprintk" data-ref="_M/mminit_dprintk">mminit_dprintk</dfn>(level, prefix, fmt, arg...) \</u></td></tr>
<tr><th id="412">412</th><td><u>do { \</u></td></tr>
<tr><th id="413">413</th><td><u>	if (level &lt; mminit_loglevel) { \</u></td></tr>
<tr><th id="414">414</th><td><u>		if (level &lt;= MMINIT_WARNING) \</u></td></tr>
<tr><th id="415">415</th><td><u>			pr_warn("mminit::" prefix " " fmt, ##arg);	\</u></td></tr>
<tr><th id="416">416</th><td><u>		else \</u></td></tr>
<tr><th id="417">417</th><td><u>			printk(KERN_DEBUG "mminit::" prefix " " fmt, ##arg); \</u></td></tr>
<tr><th id="418">418</th><td><u>	} \</u></td></tr>
<tr><th id="419">419</th><td><u>} while (0)</u></td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="mminit_verify_pageflags_layout" title='mminit_verify_pageflags_layout' data-ref="mminit_verify_pageflags_layout" data-ref-filename="mminit_verify_pageflags_layout">mminit_verify_pageflags_layout</dfn>(<em>void</em>);</td></tr>
<tr><th id="422">422</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="mminit_verify_zonelist" title='mminit_verify_zonelist' data-ref="mminit_verify_zonelist" data-ref-filename="mminit_verify_zonelist">mminit_verify_zonelist</dfn>(<em>void</em>);</td></tr>
<tr><th id="423">423</th><td><u>#<span data-ppcond="407">else</span></u></td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td><em>static</em> <b>inline</b> <em>void</em> mminit_dprintk(<b>enum</b> mminit_level level,</td></tr>
<tr><th id="426">426</th><td>				<em>const</em> <em>char</em> *prefix, <em>const</em> <em>char</em> *fmt, ...)</td></tr>
<tr><th id="427">427</th><td>{</td></tr>
<tr><th id="428">428</th><td>}</td></tr>
<tr><th id="429">429</th><td></td></tr>
<tr><th id="430">430</th><td><em>static</em> <b>inline</b> <em>void</em> mminit_verify_pageflags_layout(<em>void</em>)</td></tr>
<tr><th id="431">431</th><td>{</td></tr>
<tr><th id="432">432</th><td>}</td></tr>
<tr><th id="433">433</th><td></td></tr>
<tr><th id="434">434</th><td><em>static</em> <b>inline</b> <em>void</em> mminit_verify_zonelist(<em>void</em>)</td></tr>
<tr><th id="435">435</th><td>{</td></tr>
<tr><th id="436">436</th><td>}</td></tr>
<tr><th id="437">437</th><td><u>#<span data-ppcond="407">endif</span> /* CONFIG_DEBUG_MEMORY_INIT */</u></td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td><i>/* mminit_validate_memmodel_limits is independent of CONFIG_DEBUG_MEMORY_INIT */</i></td></tr>
<tr><th id="440">440</th><td><u>#<span data-ppcond="440">if</span> defined(<a class="macro" href="../include/generated/autoconf.h.html#1019" data-ref="_M/CONFIG_SPARSEMEM">CONFIG_SPARSEMEM</a>)</u></td></tr>
<tr><th id="441">441</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="mminit_validate_memmodel_limits" title='mminit_validate_memmodel_limits' data-ref="mminit_validate_memmodel_limits" data-ref-filename="mminit_validate_memmodel_limits">mminit_validate_memmodel_limits</dfn>(<em>unsigned</em> <em>long</em> *<dfn class="local col4 decl" id="94start_pfn" title='start_pfn' data-type='unsigned long *' data-ref="94start_pfn" data-ref-filename="94start_pfn">start_pfn</dfn>,</td></tr>
<tr><th id="442">442</th><td>				<em>unsigned</em> <em>long</em> *<dfn class="local col5 decl" id="95end_pfn" title='end_pfn' data-type='unsigned long *' data-ref="95end_pfn" data-ref-filename="95end_pfn">end_pfn</dfn>);</td></tr>
<tr><th id="443">443</th><td><u>#<span data-ppcond="440">else</span></u></td></tr>
<tr><th id="444">444</th><td><em>static</em> <b>inline</b> <em>void</em> mminit_validate_memmodel_limits(<em>unsigned</em> <em>long</em> *start_pfn,</td></tr>
<tr><th id="445">445</th><td>				<em>unsigned</em> <em>long</em> *end_pfn)</td></tr>
<tr><th id="446">446</th><td>{</td></tr>
<tr><th id="447">447</th><td>}</td></tr>
<tr><th id="448">448</th><td><u>#<span data-ppcond="440">endif</span> /* CONFIG_SPARSEMEM */</u></td></tr>
<tr><th id="449">449</th><td></td></tr>
<tr><th id="450">450</th><td><u>#define <dfn class="macro" id="_M/NODE_RECLAIM_NOSCAN" data-ref="_M/NODE_RECLAIM_NOSCAN">NODE_RECLAIM_NOSCAN</dfn>	-2</u></td></tr>
<tr><th id="451">451</th><td><u>#define <dfn class="macro" id="_M/NODE_RECLAIM_FULL" data-ref="_M/NODE_RECLAIM_FULL">NODE_RECLAIM_FULL</dfn>	-1</u></td></tr>
<tr><th id="452">452</th><td><u>#define <dfn class="macro" id="_M/NODE_RECLAIM_SOME" data-ref="_M/NODE_RECLAIM_SOME">NODE_RECLAIM_SOME</dfn>	0</u></td></tr>
<tr><th id="453">453</th><td><u>#define <dfn class="macro" id="_M/NODE_RECLAIM_SUCCESS" data-ref="_M/NODE_RECLAIM_SUCCESS">NODE_RECLAIM_SUCCESS</dfn>	1</u></td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td><u>#<span data-ppcond="455">ifdef</span> <a class="macro" href="../include/generated/autoconf.h.html#729" data-ref="_M/CONFIG_NUMA">CONFIG_NUMA</a></u></td></tr>
<tr><th id="456">456</th><td><b>extern</b> <em>int</em> <dfn class="decl fn" id="node_reclaim" title='node_reclaim' data-ref="node_reclaim" data-ref-filename="node_reclaim">node_reclaim</dfn>(<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#pglist_data" title='pglist_data' data-ref="pglist_data" data-ref-filename="pglist_data">pglist_data</a> *, <a class="typedef" href="../include/linux/types.h.html#gfp_t" title='gfp_t' data-type='unsigned int' data-ref="gfp_t" data-ref-filename="gfp_t">gfp_t</a>, <em>unsigned</em> <em>int</em>);</td></tr>
<tr><th id="457">457</th><td><u>#<span data-ppcond="455">else</span></u></td></tr>
<tr><th id="458">458</th><td><em>static</em> <b>inline</b> <em>int</em> node_reclaim(<b>struct</b> pglist_data *pgdat, gfp_t mask,</td></tr>
<tr><th id="459">459</th><td>				<em>unsigned</em> <em>int</em> order)</td></tr>
<tr><th id="460">460</th><td>{</td></tr>
<tr><th id="461">461</th><td>	<b>return</b> NODE_RECLAIM_NOSCAN;</td></tr>
<tr><th id="462">462</th><td>}</td></tr>
<tr><th id="463">463</th><td><u>#<span data-ppcond="455">endif</span></u></td></tr>
<tr><th id="464">464</th><td></td></tr>
<tr><th id="465">465</th><td><b>extern</b> <em>int</em> <dfn class="decl fn" id="hwpoison_filter" title='hwpoison_filter' data-ref="hwpoison_filter" data-ref-filename="hwpoison_filter">hwpoison_filter</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col6 decl" id="96p" title='p' data-type='struct page *' data-ref="96p" data-ref-filename="96p">p</dfn>);</td></tr>
<tr><th id="466">466</th><td></td></tr>
<tr><th id="467">467</th><td><b>extern</b> <a class="typedef" href="../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="decl" id="hwpoison_filter_dev_major" title='hwpoison_filter_dev_major' data-ref="hwpoison_filter_dev_major" data-ref-filename="hwpoison_filter_dev_major">hwpoison_filter_dev_major</dfn>;</td></tr>
<tr><th id="468">468</th><td><b>extern</b> <a class="typedef" href="../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="decl" id="hwpoison_filter_dev_minor" title='hwpoison_filter_dev_minor' data-ref="hwpoison_filter_dev_minor" data-ref-filename="hwpoison_filter_dev_minor">hwpoison_filter_dev_minor</dfn>;</td></tr>
<tr><th id="469">469</th><td><b>extern</b> <a class="typedef" href="../include/asm-generic/int-ll64.h.html#u64" title='u64' data-type='__u64' data-ref="u64" data-ref-filename="u64">u64</a> <dfn class="decl" id="hwpoison_filter_flags_mask" title='hwpoison_filter_flags_mask' data-ref="hwpoison_filter_flags_mask" data-ref-filename="hwpoison_filter_flags_mask">hwpoison_filter_flags_mask</dfn>;</td></tr>
<tr><th id="470">470</th><td><b>extern</b> <a class="typedef" href="../include/asm-generic/int-ll64.h.html#u64" title='u64' data-type='__u64' data-ref="u64" data-ref-filename="u64">u64</a> <dfn class="decl" id="hwpoison_filter_flags_value" title='hwpoison_filter_flags_value' data-ref="hwpoison_filter_flags_value" data-ref-filename="hwpoison_filter_flags_value">hwpoison_filter_flags_value</dfn>;</td></tr>
<tr><th id="471">471</th><td><b>extern</b> <a class="typedef" href="../include/asm-generic/int-ll64.h.html#u64" title='u64' data-type='__u64' data-ref="u64" data-ref-filename="u64">u64</a> <dfn class="decl" id="hwpoison_filter_memcg" title='hwpoison_filter_memcg' data-ref="hwpoison_filter_memcg" data-ref-filename="hwpoison_filter_memcg">hwpoison_filter_memcg</dfn>;</td></tr>
<tr><th id="472">472</th><td><b>extern</b> <a class="typedef" href="../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32" data-ref-filename="u32">u32</a> <dfn class="decl" id="hwpoison_filter_enable" title='hwpoison_filter_enable' data-ref="hwpoison_filter_enable" data-ref-filename="hwpoison_filter_enable">hwpoison_filter_enable</dfn>;</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td><b>extern</b> <em>unsigned</em> <em>long</em>  <a class="macro" href="../include/linux/compiler_types.h.html#108" title="__attribute__((__warn_unused_result__))" data-ref="_M/__must_check">__must_check</a> <dfn class="decl fn" id="vm_mmap_pgoff" title='vm_mmap_pgoff' data-ref="vm_mmap_pgoff" data-ref-filename="vm_mmap_pgoff">vm_mmap_pgoff</dfn>(<b>struct</b> <a class="type" href="../include/linux/fs.h.html#file" title='file' data-ref="file" data-ref-filename="file">file</a> *, <em>unsigned</em> <em>long</em>,</td></tr>
<tr><th id="475">475</th><td>        <em>unsigned</em> <em>long</em>, <em>unsigned</em> <em>long</em>,</td></tr>
<tr><th id="476">476</th><td>        <em>unsigned</em> <em>long</em>, <em>unsigned</em> <em>long</em>);</td></tr>
<tr><th id="477">477</th><td></td></tr>
<tr><th id="478">478</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="set_pageblock_order" title='set_pageblock_order' data-ref="set_pageblock_order" data-ref-filename="set_pageblock_order">set_pageblock_order</dfn>(<em>void</em>);</td></tr>
<tr><th id="479">479</th><td><em>unsigned</em> <em>long</em> <dfn class="decl fn" id="reclaim_clean_pages_from_list" title='reclaim_clean_pages_from_list' data-ref="reclaim_clean_pages_from_list" data-ref-filename="reclaim_clean_pages_from_list">reclaim_clean_pages_from_list</dfn>(<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zone" title='zone' data-ref="zone" data-ref-filename="zone">zone</a> *<dfn class="local col7 decl" id="97zone" title='zone' data-type='struct zone *' data-ref="97zone" data-ref-filename="97zone">zone</dfn>,</td></tr>
<tr><th id="480">480</th><td>					    <b>struct</b> <a class="type" href="../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> *<dfn class="local col8 decl" id="98page_list" title='page_list' data-type='struct list_head *' data-ref="98page_list" data-ref-filename="98page_list">page_list</dfn>);</td></tr>
<tr><th id="481">481</th><td><i>/* The ALLOC_WMARK bits are used as an index to zone-&gt;watermark */</i></td></tr>
<tr><th id="482">482</th><td><u>#define <dfn class="macro" id="_M/ALLOC_WMARK_MIN" data-ref="_M/ALLOC_WMARK_MIN">ALLOC_WMARK_MIN</dfn>		WMARK_MIN</u></td></tr>
<tr><th id="483">483</th><td><u>#define <dfn class="macro" id="_M/ALLOC_WMARK_LOW" data-ref="_M/ALLOC_WMARK_LOW">ALLOC_WMARK_LOW</dfn>		WMARK_LOW</u></td></tr>
<tr><th id="484">484</th><td><u>#define <dfn class="macro" id="_M/ALLOC_WMARK_HIGH" data-ref="_M/ALLOC_WMARK_HIGH">ALLOC_WMARK_HIGH</dfn>	WMARK_HIGH</u></td></tr>
<tr><th id="485">485</th><td><u>#define <dfn class="macro" id="_M/ALLOC_NO_WATERMARKS" data-ref="_M/ALLOC_NO_WATERMARKS">ALLOC_NO_WATERMARKS</dfn>	0x04 /* don't check watermarks at all */</u></td></tr>
<tr><th id="486">486</th><td></td></tr>
<tr><th id="487">487</th><td><i>/* Mask to get the watermark bits */</i></td></tr>
<tr><th id="488">488</th><td><u>#define <dfn class="macro" id="_M/ALLOC_WMARK_MASK" data-ref="_M/ALLOC_WMARK_MASK">ALLOC_WMARK_MASK</dfn>	(ALLOC_NO_WATERMARKS-1)</u></td></tr>
<tr><th id="489">489</th><td></td></tr>
<tr><th id="490">490</th><td><i>/*</i></td></tr>
<tr><th id="491">491</th><td><i> * Only MMU archs have async oom victim reclaim - aka oom_reaper so we</i></td></tr>
<tr><th id="492">492</th><td><i> * cannot assume a reduced access to memory reserves is sufficient for</i></td></tr>
<tr><th id="493">493</th><td><i> * !MMU</i></td></tr>
<tr><th id="494">494</th><td><i> */</i></td></tr>
<tr><th id="495">495</th><td><u>#<span data-ppcond="495">ifdef</span> <a class="macro" href="../include/generated/autoconf.h.html#1383" data-ref="_M/CONFIG_MMU">CONFIG_MMU</a></u></td></tr>
<tr><th id="496">496</th><td><u>#define <dfn class="macro" id="_M/ALLOC_OOM" data-ref="_M/ALLOC_OOM">ALLOC_OOM</dfn>		0x08</u></td></tr>
<tr><th id="497">497</th><td><u>#<span data-ppcond="495">else</span></u></td></tr>
<tr><th id="498">498</th><td><u>#define ALLOC_OOM		ALLOC_NO_WATERMARKS</u></td></tr>
<tr><th id="499">499</th><td><u>#<span data-ppcond="495">endif</span></u></td></tr>
<tr><th id="500">500</th><td></td></tr>
<tr><th id="501">501</th><td><u>#define <dfn class="macro" id="_M/ALLOC_HARDER" data-ref="_M/ALLOC_HARDER">ALLOC_HARDER</dfn>		 0x10 /* try to alloc harder */</u></td></tr>
<tr><th id="502">502</th><td><u>#define <dfn class="macro" id="_M/ALLOC_HIGH" data-ref="_M/ALLOC_HIGH">ALLOC_HIGH</dfn>		 0x20 /* __GFP_HIGH set */</u></td></tr>
<tr><th id="503">503</th><td><u>#define <dfn class="macro" id="_M/ALLOC_CPUSET" data-ref="_M/ALLOC_CPUSET">ALLOC_CPUSET</dfn>		 0x40 /* check for correct cpuset */</u></td></tr>
<tr><th id="504">504</th><td><u>#define <dfn class="macro" id="_M/ALLOC_CMA" data-ref="_M/ALLOC_CMA">ALLOC_CMA</dfn>		 0x80 /* allow allocations from CMA areas */</u></td></tr>
<tr><th id="505">505</th><td><u>#<span data-ppcond="505">ifdef</span> <a class="macro" href="../include/generated/autoconf.h.html#1230" data-ref="_M/CONFIG_ZONE_DMA32">CONFIG_ZONE_DMA32</a></u></td></tr>
<tr><th id="506">506</th><td><u>#define <dfn class="macro" id="_M/ALLOC_NOFRAGMENT" data-ref="_M/ALLOC_NOFRAGMENT">ALLOC_NOFRAGMENT</dfn>	0x100 /* avoid mixing pageblock types */</u></td></tr>
<tr><th id="507">507</th><td><u>#<span data-ppcond="505">else</span></u></td></tr>
<tr><th id="508">508</th><td><u>#define ALLOC_NOFRAGMENT	  0x0</u></td></tr>
<tr><th id="509">509</th><td><u>#<span data-ppcond="505">endif</span></u></td></tr>
<tr><th id="510">510</th><td><u>#define <dfn class="macro" id="_M/ALLOC_KSWAPD" data-ref="_M/ALLOC_KSWAPD">ALLOC_KSWAPD</dfn>		0x200 /* allow waking of kswapd */</u></td></tr>
<tr><th id="511">511</th><td></td></tr>
<tr><th id="512">512</th><td><b>enum</b> <a class="type" href="../include/linux/rmap.h.html#ttu_flags" title='ttu_flags' data-ref="ttu_flags" data-ref-filename="ttu_flags" id="ttu_flags">ttu_flags</a>;</td></tr>
<tr><th id="513">513</th><td><b>struct</b> <a class="type" href="../include/linux/mm_types_task.h.html#tlbflush_unmap_batch" title='tlbflush_unmap_batch' data-ref="tlbflush_unmap_batch" data-ref-filename="tlbflush_unmap_batch" id="tlbflush_unmap_batch">tlbflush_unmap_batch</a>;</td></tr>
<tr><th id="514">514</th><td></td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td><i>/*</i></td></tr>
<tr><th id="517">517</th><td><i> * only for MM internal work items which do not depend on</i></td></tr>
<tr><th id="518">518</th><td><i> * any allocations or locks which might depend on allocations</i></td></tr>
<tr><th id="519">519</th><td><i> */</i></td></tr>
<tr><th id="520">520</th><td><b>extern</b> <b>struct</b> <a class="type" href="../include/linux/workqueue.h.html#workqueue_struct" title='workqueue_struct' data-ref="workqueue_struct" data-ref-filename="workqueue_struct">workqueue_struct</a> *<dfn class="decl" id="mm_percpu_wq" title='mm_percpu_wq' data-ref="mm_percpu_wq" data-ref-filename="mm_percpu_wq">mm_percpu_wq</dfn>;</td></tr>
<tr><th id="521">521</th><td></td></tr>
<tr><th id="522">522</th><td><u>#<span data-ppcond="522">ifdef</span> <a class="macro" href="../include/generated/autoconf.h.html#264" data-ref="_M/CONFIG_ARCH_WANT_BATCHED_UNMAP_TLB_FLUSH">CONFIG_ARCH_WANT_BATCHED_UNMAP_TLB_FLUSH</a></u></td></tr>
<tr><th id="523">523</th><td><em>void</em> <dfn class="decl fn" id="try_to_unmap_flush" title='try_to_unmap_flush' data-ref="try_to_unmap_flush" data-ref-filename="try_to_unmap_flush">try_to_unmap_flush</dfn>(<em>void</em>);</td></tr>
<tr><th id="524">524</th><td><em>void</em> <dfn class="decl fn" id="try_to_unmap_flush_dirty" title='try_to_unmap_flush_dirty' data-ref="try_to_unmap_flush_dirty" data-ref-filename="try_to_unmap_flush_dirty">try_to_unmap_flush_dirty</dfn>(<em>void</em>);</td></tr>
<tr><th id="525">525</th><td><em>void</em> <dfn class="decl fn" id="flush_tlb_batched_pending" title='flush_tlb_batched_pending' data-ref="flush_tlb_batched_pending" data-ref-filename="flush_tlb_batched_pending">flush_tlb_batched_pending</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#mm_struct" title='mm_struct' data-ref="mm_struct" data-ref-filename="mm_struct">mm_struct</a> *<dfn class="local col9 decl" id="99mm" title='mm' data-type='struct mm_struct *' data-ref="99mm" data-ref-filename="99mm">mm</dfn>);</td></tr>
<tr><th id="526">526</th><td><u>#<span data-ppcond="522">else</span></u></td></tr>
<tr><th id="527">527</th><td><em>static</em> <b>inline</b> <em>void</em> try_to_unmap_flush(<em>void</em>)</td></tr>
<tr><th id="528">528</th><td>{</td></tr>
<tr><th id="529">529</th><td>}</td></tr>
<tr><th id="530">530</th><td><em>static</em> <b>inline</b> <em>void</em> try_to_unmap_flush_dirty(<em>void</em>)</td></tr>
<tr><th id="531">531</th><td>{</td></tr>
<tr><th id="532">532</th><td>}</td></tr>
<tr><th id="533">533</th><td><em>static</em> <b>inline</b> <em>void</em> flush_tlb_batched_pending(<b>struct</b> mm_struct *mm)</td></tr>
<tr><th id="534">534</th><td>{</td></tr>
<tr><th id="535">535</th><td>}</td></tr>
<tr><th id="536">536</th><td><u>#<span data-ppcond="522">endif</span> /* CONFIG_ARCH_WANT_BATCHED_UNMAP_TLB_FLUSH */</u></td></tr>
<tr><th id="537">537</th><td></td></tr>
<tr><th id="538">538</th><td><b>extern</b> <em>const</em> <b>struct</b> <a class="type" href="../include/linux/tracepoint-defs.h.html#trace_print_flags" title='trace_print_flags' data-ref="trace_print_flags" data-ref-filename="trace_print_flags">trace_print_flags</a> <dfn class="decl" id="pageflag_names" title='pageflag_names' data-ref="pageflag_names" data-ref-filename="pageflag_names">pageflag_names</dfn>[];</td></tr>
<tr><th id="539">539</th><td><b>extern</b> <em>const</em> <b>struct</b> <a class="type" href="../include/linux/tracepoint-defs.h.html#trace_print_flags" title='trace_print_flags' data-ref="trace_print_flags" data-ref-filename="trace_print_flags">trace_print_flags</a> <dfn class="decl" id="vmaflag_names" title='vmaflag_names' data-ref="vmaflag_names" data-ref-filename="vmaflag_names">vmaflag_names</dfn>[];</td></tr>
<tr><th id="540">540</th><td><b>extern</b> <em>const</em> <b>struct</b> <a class="type" href="../include/linux/tracepoint-defs.h.html#trace_print_flags" title='trace_print_flags' data-ref="trace_print_flags" data-ref-filename="trace_print_flags">trace_print_flags</a> <dfn class="decl" id="gfpflag_names" title='gfpflag_names' data-ref="gfpflag_names" data-ref-filename="gfpflag_names">gfpflag_names</dfn>[];</td></tr>
<tr><th id="541">541</th><td></td></tr>
<tr><th id="542">542</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="is_migrate_highatomic" title='is_migrate_highatomic' data-ref="is_migrate_highatomic" data-ref-filename="is_migrate_highatomic">is_migrate_highatomic</dfn>(<b>enum</b> <a class="type" href="../include/linux/mmzone.h.html#migratetype" title='migratetype' data-ref="migratetype" data-ref-filename="migratetype">migratetype</a> <dfn class="local col0 decl" id="100migratetype" title='migratetype' data-type='enum migratetype' data-ref="100migratetype" data-ref-filename="100migratetype">migratetype</dfn>)</td></tr>
<tr><th id="543">543</th><td>{</td></tr>
<tr><th id="544">544</th><td>	<b>return</b> <a class="local col0 ref" href="#100migratetype" title='migratetype' data-ref="100migratetype" data-ref-filename="100migratetype">migratetype</a> == <a class="enum" href="../include/linux/mmzone.h.html#MIGRATE_HIGHATOMIC" title='MIGRATE_HIGHATOMIC' data-ref="MIGRATE_HIGHATOMIC" data-ref-filename="MIGRATE_HIGHATOMIC">MIGRATE_HIGHATOMIC</a>;</td></tr>
<tr><th id="545">545</th><td>}</td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td><em>static</em> <a class="macro" href="../include/linux/compiler_types.h.html#149" title="inline __attribute__((__gnu_inline__)) __attribute__((__unused__)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool" data-ref-filename="bool">bool</a> <dfn class="decl def fn" id="is_migrate_highatomic_page" title='is_migrate_highatomic_page' data-ref="is_migrate_highatomic_page" data-ref-filename="is_migrate_highatomic_page">is_migrate_highatomic_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col1 decl" id="101page" title='page' data-type='struct page *' data-ref="101page" data-ref-filename="101page">page</dfn>)</td></tr>
<tr><th id="548">548</th><td>{</td></tr>
<tr><th id="549">549</th><td>	<b>return</b> <a class="macro" href="../include/linux/mmzone.h.html#94" title="get_pfnblock_flags_mask(page, (unsigned long)((page) - ((struct page *)vmemmap_base)), PB_migrate_end, ((1UL &lt;&lt; (PB_migrate_end - PB_migrate + 1)) - 1))" data-ref="_M/get_pageblock_migratetype">get_pageblock_migratetype</a>(<a class="local col1 ref" href="#101page" title='page' data-ref="101page" data-ref-filename="101page">page</a>) == <a class="enum" href="../include/linux/mmzone.h.html#MIGRATE_HIGHATOMIC" title='MIGRATE_HIGHATOMIC' data-ref="MIGRATE_HIGHATOMIC" data-ref-filename="MIGRATE_HIGHATOMIC">MIGRATE_HIGHATOMIC</a>;</td></tr>
<tr><th id="550">550</th><td>}</td></tr>
<tr><th id="551">551</th><td></td></tr>
<tr><th id="552">552</th><td><em>void</em> <dfn class="decl fn" id="setup_zone_pageset" title='setup_zone_pageset' data-ref="setup_zone_pageset" data-ref-filename="setup_zone_pageset">setup_zone_pageset</dfn>(<b>struct</b> <a class="type" href="../include/linux/mmzone.h.html#zone" title='zone' data-ref="zone" data-ref-filename="zone">zone</a> *<dfn class="local col2 decl" id="102zone" title='zone' data-type='struct zone *' data-ref="102zone" data-ref-filename="102zone">zone</dfn>);</td></tr>
<tr><th id="553">553</th><td><b>extern</b> <b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="decl fn" id="alloc_new_node_page" title='alloc_new_node_page' data-ref="alloc_new_node_page" data-ref-filename="alloc_new_node_page">alloc_new_node_page</dfn>(<b>struct</b> <a class="type" href="../include/linux/mm_types.h.html#page" title='page' data-ref="page" data-ref-filename="page">page</a> *<dfn class="local col3 decl" id="103page" title='page' data-type='struct page *' data-ref="103page" data-ref-filename="103page">page</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col4 decl" id="104node" title='node' data-type='unsigned long' data-ref="104node" data-ref-filename="104node">node</dfn>);</td></tr>
<tr><th id="554">554</th><td><u>#<span data-ppcond="7">endif</span>	/* __MM_INTERNAL_H */</u></td></tr>
<tr><th id="555">555</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../kernel/events/uprobes.c.html'>linux-5.3.1/kernel/events/uprobes.c</a><br/>Generated on <em>2020-Jun-10</em> from project linux-5.3.1 revision <em>5.3.1</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
