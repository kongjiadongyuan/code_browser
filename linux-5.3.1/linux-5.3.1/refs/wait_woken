<dec f='linux-5.3.1/include/linux/wait.h' l='1127' type='long wait_woken(struct wait_queue_entry * wq_entry, unsigned int mode, long timeout)'/>
<use f='linux-5.3.1/drivers/tty/n_tty.c' l='2226' u='c' c='n_tty_read'/>
<use f='linux-5.3.1/drivers/tty/n_tty.c' l='2376' u='c' c='n_tty_write'/>
<use f='linux-5.3.1/fs/notify/inotify/inotify_user.c' l='254' u='c' c='inotify_read'/>
<def f='linux-5.3.1/kernel/sched/wait.c' l='406' ll='428' type='long wait_woken(struct wait_queue_entry * wq_entry, unsigned int mode, long timeout)'/>
<dec f='linux-5.3.1/kernel/sched/wait.c' l='429' type='long wait_woken(struct wait_queue_entry * , unsigned int , long )'/>
<use f='linux-5.3.1/kernel/sched/wait.c' l='429' c='wait_woken'/>
<use f='linux-5.3.1/kernel/sched/wait.c' l='429' u='a'/>
<doc f='linux-5.3.1/kernel/sched/wait.c' l='386'>/*
 * DEFINE_WAIT_FUNC(wait, woken_wake_func);
 *
 * add_wait_queue(&amp;wq_head, &amp;wait);
 * for (;;) {
 *     if (condition)
 *         break;
 *
 *     // in wait_woken()			// in woken_wake_function()
 *
 *     p-&gt;state = mode;				wq_entry-&gt;flags |= WQ_FLAG_WOKEN;
 *     smp_mb(); // A				try_to_wake_up():
 *     if (!(wq_entry-&gt;flags &amp; WQ_FLAG_WOKEN))	   &lt;full barrier&gt;
 *         schedule()				   if (p-&gt;state &amp; mode)
 *     p-&gt;state = TASK_RUNNING;			      p-&gt;state = TASK_RUNNING;
 *     wq_entry-&gt;flags &amp;= ~WQ_FLAG_WOKEN;	~~~~~~~~~~~~~~~~~~
 *     smp_mb(); // B				condition = true;
 * }						smp_mb(); // C
 * remove_wait_queue(&amp;wq_head, &amp;wait);		wq_entry-&gt;flags |= WQ_FLAG_WOKEN;
 */</doc>
<use f='linux-5.3.1/net/core/dev.c' l='9750' u='c' c='rtnl_lock_unregistering'/>
<use f='linux-5.3.1/net/core/rtnetlink.c' l='469' u='c' c='rtnl_lock_unregistering_all'/>
<use f='linux-5.3.1/net/core/sock.c' l='2469' macro='1' u='c' c='sk_wait_data'/>
<use f='linux-5.3.1/net/core/stream.c' l='75' macro='1' u='c' c='sk_stream_wait_connect'/>
<use f='linux-5.3.1/net/core/stream.c' l='104' macro='1' u='c' c='sk_stream_wait_close'/>
<use f='linux-5.3.1/net/core/stream.c' l='145' macro='1' u='c' c='sk_stream_wait_memory'/>
<use f='linux-5.3.1/net/ipv4/af_inet.c' l='589' u='c' c='inet_wait_for_connect'/>
