<dec f='linux-5.3.1/kernel/workqueue_internal.h' l='78' type='work_func_t wq_worker_last_func(struct task_struct * task)'/>
<def f='linux-5.3.1/kernel/workqueue.c' l='933' ll='938' type='work_func_t wq_worker_last_func(struct task_struct * task)'/>
<doc f='linux-5.3.1/kernel/workqueue.c' l='909'>/**
 * wq_worker_last_func - retrieve worker&apos;s last work function
 * @task: Task to retrieve last work function of.
 *
 * Determine the last function a worker executed. This is called from
 * the scheduler to get a worker&apos;s last known identity.
 *
 * CONTEXT:
 * spin_lock_irq(rq-&gt;lock)
 *
 * This function is called during schedule() when a kworker is going
 * to sleep. It&apos;s used by psi to identify aggregation workers during
 * dequeuing, to allow periodic aggregation to shut-off when that
 * worker is the last task in the system or cgroup to go to sleep.
 *
 * As this function doesn&apos;t involve any workqueue-related locking, it
 * only returns stable values when called from inside the scheduler&apos;s
 * queuing and dequeuing paths, when @task, which must be a kworker,
 * is guaranteed to not be processing any works.
 *
 * Return:
 * The last work function %current executed as a worker, NULL if it
 * hasn&apos;t executed any work yet.
 */</doc>
