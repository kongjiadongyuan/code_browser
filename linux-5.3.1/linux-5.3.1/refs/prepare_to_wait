<dec f='linux-5.3.1/include/linux/wait.h' l='1123' type='void prepare_to_wait(struct wait_queue_head * wq_head, struct wait_queue_entry * wq_entry, int state)'/>
<doc f='linux-5.3.1/include/linux/wait.h' l='1120'>/*
 * Waitqueues which are removed from the waitqueue_head at wakeup time
 */</doc>
<use f='linux-5.3.1/drivers/ata/libata-eh.c' l='784' u='c' c='ata_port_wait_eh'/>
<use f='linux-5.3.1/drivers/base/power/runtime.c' l='593' u='c' c='rpm_suspend'/>
<use f='linux-5.3.1/drivers/base/power/runtime.c' l='763' u='c' c='rpm_resume'/>
<use f='linux-5.3.1/drivers/base/power/runtime.c' l='1262' u='c' c='__pm_runtime_barrier'/>
<use f='linux-5.3.1/drivers/base/power/wakeup.c' l='900' u='c' c='pm_get_wakeup_count'/>
<use f='linux-5.3.1/drivers/gpu/drm/i915/display/intel_display.c' l='13737' u='c' c='intel_atomic_commit_fence_wait'/>
<use f='linux-5.3.1/drivers/gpu/drm/i915/display/intel_display.c' l='13739' u='c' c='intel_atomic_commit_fence_wait'/>
<use f='linux-5.3.1/drivers/gpu/drm/i915/display/intel_sprite.c' l='143' u='c' c='intel_pipe_update_start'/>
<use f='linux-5.3.1/drivers/hid/usbhid/hiddev.c' l='352' u='c' c='hiddev_read'/>
<use f='linux-5.3.1/drivers/md/dm.c' l='2433' u='c' c='dm_wait_for_completion'/>
<use f='linux-5.3.1/drivers/md/md-bitmap.c' l='1429' u='c' c='md_bitmap_startwrite'/>
<use f='linux-5.3.1/drivers/md/md.c' l='348' u='c' c='md_handle_request'/>
<use f='linux-5.3.1/drivers/md/md.c' l='8398' u='c' c='md_do_sync'/>
<use f='linux-5.3.1/drivers/tty/tty_port.c' l='502' u='c' c='tty_port_block_til_ready'/>
<use f='linux-5.3.1/fs/block_dev.c' l='1086' u='c' c='bd_prepare_to_claim'/>
<use f='linux-5.3.1/fs/fs-writeback.c' l='1273' u='c' c='inode_sleep_on_writeback'/>
<use f='linux-5.3.1/fs/inode.c' l='1948' u='c' c='__wait_on_freeing_inode'/>
<use f='linux-5.3.1/fs/inode.c' l='2091' u='c' c='__inode_dio_wait'/>
<use f='linux-5.3.1/fs/io_uring.c' l='2365' u='c' c='io_sq_thread'/>
<use f='linux-5.3.1/fs/jbd2/commit.c' l='441' u='c' c='jbd2_journal_commit_transaction'/>
<use f='linux-5.3.1/fs/jbd2/journal.c' l='236' u='c' c='kjournald2'/>
<use f='linux-5.3.1/fs/jbd2/journal.c' l='2598' u='c' c='jbd2_journal_release_jbd_inode'/>
<use f='linux-5.3.1/fs/jbd2/transaction.c' l='152' u='c' c='wait_transaction_locked'/>
<use f='linux-5.3.1/fs/jbd2/transaction.c' l='176' u='c' c='wait_transaction_switching'/>
<use f='linux-5.3.1/fs/jbd2/transaction.c' l='768' u='c' c='jbd2_journal_lock_updates'/>
<use f='linux-5.3.1/fs/kernfs/dir.c' l='1463' u='c' c='kernfs_remove_self'/>
<use f='linux-5.3.1/fs/lockd/clntproc.c' l='246' u='c' c='nlm_wait_on_grace'/>
<use f='linux-5.3.1/fs/nfs/nfs4proc.c' l='1625' u='c' c='nfs_set_open_stateid_locked'/>
<use f='linux-5.3.1/fs/pipe.c' l='115' u='c' c='pipe_wait'/>
<use f='linux-5.3.1/kernel/cgroup/cgroup.c' l='3003' u='c' c='cgroup_lock_and_drain_offline'/>
<def f='linux-5.3.1/kernel/sched/wait.c' l='221' ll='232' type='void prepare_to_wait(struct wait_queue_head * wq_head, struct wait_queue_entry * wq_entry, int state)'/>
<dec f='linux-5.3.1/kernel/sched/wait.c' l='233' type='void prepare_to_wait(struct wait_queue_head * , struct wait_queue_entry * , int )'/>
<use f='linux-5.3.1/kernel/sched/wait.c' l='233' c='prepare_to_wait'/>
<use f='linux-5.3.1/kernel/sched/wait.c' l='233' u='a'/>
<doc f='linux-5.3.1/kernel/sched/wait.c' l='209'>/*
 * Note: we use &quot;set_current_state()&quot; _after_ the wait-queue add,
 * because we need a memory barrier there on SMP, so that any
 * wake-function that tests for the wait-queue being active
 * will be guaranteed to see waitqueue addition _or_ subsequent
 * tests in this thread will see the wakeup having taken place.
 *
 * The spin_unlock() itself is semi-permeable and only protects
 * one way (it only protects stuff inside the critical region and
 * stops them from bleeding out - it would still allow subsequent
 * loads to move into the critical region).
 */</doc>
<use f='linux-5.3.1/kernel/sched/wait_bit.c' l='47' u='c' c='__wait_on_bit'/>
<use f='linux-5.3.1/kernel/trace/ring_buffer.c' l='601' u='c' c='ring_buffer_wait'/>
<use f='linux-5.3.1/kernel/trace/ring_buffer.c' l='603' u='c' c='ring_buffer_wait'/>
<use f='linux-5.3.1/kernel/umh.c' l='240' u='c' c='usermodehelper_read_trylock'/>
<use f='linux-5.3.1/kernel/umh.c' l='272' u='c' c='usermodehelper_read_lock_wait'/>
<use f='linux-5.3.1/mm/backing-dev.c' l='1011' u='c' c='congestion_wait'/>
<use f='linux-5.3.1/mm/backing-dev.c' l='1058' u='c' c='wait_iff_congested'/>
<use f='linux-5.3.1/mm/mempool.c' l='429' u='c' c='mempool_alloc'/>
<use f='linux-5.3.1/mm/shmem.c' l='2022' u='c' c='shmem_fault'/>
<use f='linux-5.3.1/mm/vmscan.c' l='3724' u='c' c='kswapd_try_to_sleep'/>
<use f='linux-5.3.1/mm/vmscan.c' l='3761' u='c' c='kswapd_try_to_sleep'/>
<use f='linux-5.3.1/net/core/sock.c' l='2184' u='c' c='sock_wait_for_wmem'/>
<use f='linux-5.3.1/net/sunrpc/auth_gss/auth_gss.c' l='687' u='c' c='gss_create_upcall'/>
<use f='linux-5.3.1/net/unix/af_unix.c' l='2146' u='c' c='unix_stream_data_wait'/>
