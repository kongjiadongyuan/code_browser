<dec f='linux-5.3.1/include/linux/fs.h' l='3147' type='void inode_set_flags(struct inode * inode, unsigned int flags, unsigned int mask)'/>
<use f='linux-5.3.1/fs/efivarfs/file.c' l='164' u='c' c='efivarfs_ioc_setxflags'/>
<use f='linux-5.3.1/fs/ext4/inode.c' l='4763' u='c' c='ext4_set_inode_flags'/>
<use f='linux-5.3.1/fs/ext4/super.c' l='5771' u='c' c='ext4_quota_on'/>
<use f='linux-5.3.1/fs/ext4/super.c' l='5878' u='c' c='ext4_quota_off'/>
<def f='linux-5.3.1/fs/inode.c' l='2131' ll='2136' type='void inode_set_flags(struct inode * inode, unsigned int flags, unsigned int mask)'/>
<dec f='linux-5.3.1/fs/inode.c' l='2137' type='void inode_set_flags(struct inode * , unsigned int , unsigned int )'/>
<use f='linux-5.3.1/fs/inode.c' l='2137' c='inode_set_flags'/>
<use f='linux-5.3.1/fs/inode.c' l='2137' u='a'/>
<doc f='linux-5.3.1/fs/inode.c' l='2115'>/*
 * inode_set_flags - atomically set some inode flags
 *
 * Note: the caller should be holding i_mutex, or else be sure that
 * they have exclusive access to the inode structure (i.e., while the
 * inode is being instantiated).  The reason for the cmpxchg() loop
 * --- which wouldn&apos;t be necessary if all code paths which modify
 * i_flags actually followed this rule, is that there is at least one
 * code path which doesn&apos;t today so we use cmpxchg() out of an abundance
 * of caution.
 *
 * In the long run, i_mutex is overkill, and we should probably look
 * at using the i_lock spinlock to protect i_flags, and then make sure
 * it is so documented in include/linux/fs.h and that all code follows
 * the locking convention!!
 */</doc>
