<dec f='linux-5.3.1/ipc/util.h' l='179' type='struct kern_ipc_perm * ipcctl_obtain_check(struct ipc_namespace * ns, struct ipc_ids * ids, int id, int cmd, struct ipc64_perm * perm, int extra_perm)'/>
<use f='linux-5.3.1/ipc/msg.c' l='389' u='c' c='msgctl_down'/>
<use f='linux-5.3.1/ipc/sem.c' l='1593' u='c' c='semctl_down'/>
<use f='linux-5.3.1/ipc/shm.c' l='901' u='c' c='shmctl_down'/>
<def f='linux-5.3.1/ipc/util.c' l='688' ll='713' type='struct kern_ipc_perm * ipcctl_obtain_check(struct ipc_namespace * ns, struct ipc_ids * ids, int id, int cmd, struct ipc64_perm * perm, int extra_perm)'/>
<doc f='linux-5.3.1/ipc/util.c' l='668'>/**
 * ipcctl_obtain_check - retrieve an ipc object and check permissions
 * @ns:  ipc namespace
 * @ids:  the table of ids where to look for the ipc
 * @id:   the id of the ipc to retrieve
 * @cmd:  the cmd to check
 * @perm: the permission to set
 * @extra_perm: one extra permission parameter used by msq
 *
 * This function does some common audit and permissions check for some IPC_XXX
 * cmd and is called from semctl_down, shmctl_down and msgctl_down.
 *
 * It:
 *   - retrieves the ipc object with the given id in the given table.
 *   - performs some audit and permission check, depending on the given cmd
 *   - returns a pointer to the ipc object or otherwise, the corresponding
 *     error.
 *
 * Call holding the both the rwsem and the rcu read lock.
 */</doc>
