<dec f='linux-5.3.1/include/linux/dns_resolver.h' l='30' type='int dns_query(struct net * net, const char * type, const char * name, size_t namelen, const char * options, char ** _result, time64_t * _expiry, bool invalidate)'/>
<use f='linux-5.3.1/fs/nfs/dns_resolve.c' l='25' u='c' c='nfs_dns_resolve_name'/>
<def f='linux-5.3.1/net/dns_resolver/dns_query.c' l='74' ll='171' type='int dns_query(struct net * net, const char * type, const char * name, size_t namelen, const char * options, char ** _result, time64_t * _expiry, bool invalidate)'/>
<dec f='linux-5.3.1/net/dns_resolver/dns_query.c' l='172' type='int dns_query(struct net * , const char * , const char * , size_t , const char * , char ** , time64_t * , bool )'/>
<use f='linux-5.3.1/net/dns_resolver/dns_query.c' l='172' c='dns_query'/>
<use f='linux-5.3.1/net/dns_resolver/dns_query.c' l='172' u='a'/>
<doc f='linux-5.3.1/net/dns_resolver/dns_query.c' l='50'>/**
 * dns_query - Query the DNS
 * @net: The network namespace to operate in.
 * @type: Query type (or NULL for straight host-&gt;IP lookup)
 * @name: Name to look up
 * @namelen: Length of name
 * @options: Request options (or NULL if no options)
 * @_result: Where to place the returned data (or NULL)
 * @_expiry: Where to store the result expiry time (or NULL)
 * @invalidate: Always invalidate the key after use
 *
 * The data will be returned in the pointer at *result, if provided, and the
 * caller is responsible for freeing it.
 *
 * The description should be of the form &quot;[&lt;query_type&gt;:]&lt;domain_name&gt;&quot;, and
 * the options need to be appropriate for the query type requested.  If no
 * query_type is given, then the query is a straight hostname to IP address
 * lookup.
 *
 * The DNS resolution lookup is performed by upcalling to userspace by way of
 * requesting a key of type dns_resolver.
 *
 * Returns the size of the result on success, -ve error code otherwise.
 */</doc>
