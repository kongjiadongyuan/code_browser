<dec f='linux-5.3.1/include/linux/swapfile.h' l='13' type='unsigned long generic_max_swapfile_size()'/>
<use f='linux-5.3.1/arch/x86/mm/init.c' l='975' u='c' c='max_swapfile_size'/>
<def f='linux-5.3.1/mm/swapfile.c' l='2919' ll='2923' type='unsigned long generic_max_swapfile_size()'/>
<use f='linux-5.3.1/mm/swapfile.c' l='2928' u='c' c='max_swapfile_size'/>
<doc f='linux-5.3.1/mm/swapfile.c' l='2903'>/*
 * Find out how many pages are allowed for a single swap device. There
 * are two limiting factors:
 * 1) the number of bits for the swap offset in the swp_entry_t type, and
 * 2) the number of bits in the swap pte, as defined by the different
 * architectures.
 *
 * In order to find the largest possible bit mask, a swap entry with
 * swap type 0 and swap offset ~0UL is created, encoded to a swap pte,
 * decoded to a swp_entry_t again, and finally the swap offset is
 * extracted.
 *
 * This will mask all the bits from the initial ~0UL mask that can&apos;t
 * be encoded in either the swp_entry_t or the architecture definition
 * of a swap pte.
 */</doc>
