<dec f='linux/include/linux/workqueue.h' l='629' type='int workqueue_sysfs_register(struct workqueue_struct * wq)'/>
<use f='linux/kernel/workqueue.c' l='4029' u='c' c='__alloc_workqueue_key'/>
<def f='linux/kernel/workqueue.c' l='5299' ll='5350' type='int workqueue_sysfs_register(struct workqueue_struct * wq)'/>
<doc f='linux/kernel/workqueue.c' l='5284'>/**
 * workqueue_sysfs_register - make a workqueue visible in sysfs
 * @wq: the workqueue to register
 *
 * Expose @wq in sysfs under /sys/bus/workqueue/devices.
 * alloc_workqueue*() automatically calls this function if WQ_SYSFS is set
 * which is the preferred method.
 *
 * Workqueue user should use this function directly iff it wants to apply
 * workqueue_attrs before making the workqueue visible in sysfs; otherwise,
 * apply_workqueue_attrs() may race against userland updating the
 * attributes.
 *
 * Return: 0 on success, -errno on failure.
 */</doc>
