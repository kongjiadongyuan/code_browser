<dec f='linux/include/linux/wait.h' l='984' type='void prepare_to_wait(struct wait_queue_head * wq_head, struct wait_queue_entry * wq_entry, int state)'/>
<doc f='linux/include/linux/wait.h' l='981'>/*
 * Waitqueues which are removed from the waitqueue_head at wakeup time
 */</doc>
<use f='linux/block/blk-mq-tag.c' l='137' u='c' c='blk_mq_get_tag'/>
<use f='linux/drivers/ata/libata-eh.c' l='852' u='c' c='ata_port_wait_eh'/>
<use f='linux/drivers/base/power/runtime.c' l='563' u='c' c='rpm_suspend'/>
<use f='linux/drivers/base/power/runtime.c' l='733' u='c' c='rpm_resume'/>
<use f='linux/drivers/base/power/runtime.c' l='1179' u='c' c='__pm_runtime_barrier'/>
<use f='linux/drivers/base/power/wakeup.c' l='911' u='c' c='pm_get_wakeup_count'/>
<use f='linux/drivers/gpu/drm/i915/intel_display.c' l='12249' u='c' c='intel_atomic_commit_fence_wait'/>
<use f='linux/drivers/gpu/drm/i915/intel_display.c' l='12251' u='c' c='intel_atomic_commit_fence_wait'/>
<use f='linux/drivers/gpu/drm/i915/intel_sprite.c' l='128' u='c' c='intel_pipe_update_start'/>
<use f='linux/drivers/hid/usbhid/hiddev.c' l='352' u='c' c='hiddev_read'/>
<use f='linux/drivers/md/dm.c' l='2187' u='c' c='dm_wait_for_completion'/>
<use f='linux/drivers/md/md-bitmap.c' l='1430' u='c' c='bitmap_startwrite'/>
<use f='linux/drivers/md/md.c' l='291' u='c' c='md_handle_request'/>
<use f='linux/drivers/md/md.c' l='8253' u='c' c='md_do_sync'/>
<use f='linux/drivers/tty/tty_port.c' l='509' u='c' c='tty_port_block_til_ready'/>
<use f='linux/fs/block_dev.c' l='1049' u='c' c='bd_prepare_to_claim'/>
<use f='linux/fs/fs-writeback.c' l='1231' u='c' c='inode_sleep_on_writeback'/>
<use f='linux/fs/inode.c' l='1909' u='c' c='__wait_on_freeing_inode'/>
<use f='linux/fs/inode.c' l='2046' u='c' c='__inode_dio_wait'/>
<use f='linux/fs/jbd2/commit.c' l='432' u='c' c='jbd2_journal_commit_transaction'/>
<use f='linux/fs/jbd2/journal.c' l='256' u='c' c='kjournald2'/>
<use f='linux/fs/jbd2/journal.c' l='2598' u='c' c='jbd2_journal_release_jbd_inode'/>
<use f='linux/fs/jbd2/transaction.c' l='157' u='c' c='wait_transaction_locked'/>
<use f='linux/fs/jbd2/transaction.c' l='739' u='c' c='jbd2_journal_lock_updates'/>
<use f='linux/fs/kernfs/dir.c' l='1440' u='c' c='kernfs_remove_self'/>
<use f='linux/fs/lockd/clntproc.c' l='244' u='c' c='nlm_wait_on_grace'/>
<use f='linux/fs/nfs/nfs4proc.c' l='1518' u='c' c='nfs_set_open_stateid_locked'/>
<use f='linux/fs/pipe.c' l='119' u='c' c='pipe_wait'/>
<use f='linux/kernel/cgroup/cgroup.c' l='2804' u='c' c='cgroup_lock_and_drain_offline'/>
<def f='linux/kernel/sched/wait.c' l='228' ll='239' type='void prepare_to_wait(struct wait_queue_head * wq_head, struct wait_queue_entry * wq_entry, int state)'/>
<dec f='linux/kernel/sched/wait.c' l='240' type='void prepare_to_wait(struct wait_queue_head * , struct wait_queue_entry * , int )'/>
<use f='linux/kernel/sched/wait.c' l='240' c='prepare_to_wait'/>
<use f='linux/kernel/sched/wait.c' l='240' u='a'/>
<use f='linux/kernel/sched/wait.c' l='240' u='a'/>
<doc f='linux/kernel/sched/wait.c' l='216'>/*
 * Note: we use &quot;set_current_state()&quot; _after_ the wait-queue add,
 * because we need a memory barrier there on SMP, so that any
 * wake-function that tests for the wait-queue being active
 * will be guaranteed to see waitqueue addition _or_ subsequent
 * tests in this thread will see the wakeup having taken place.
 *
 * The spin_unlock() itself is semi-permeable and only protects
 * one way (it only protects stuff inside the critical region and
 * stops them from bleeding out - it would still allow subsequent
 * loads to move into the critical region).
 */</doc>
<use f='linux/kernel/sched/wait_bit.c' l='49' u='c' c='__wait_on_bit'/>
<use f='linux/kernel/sched/wait_bit.c' l='192' u='c' c='__wait_on_atomic_t'/>
<use f='linux/kernel/trace/ring_buffer.c' l='555' u='c' c='ring_buffer_wait'/>
<use f='linux/kernel/trace/ring_buffer.c' l='557' u='c' c='ring_buffer_wait'/>
<use f='linux/kernel/umh.c' l='228' u='c' c='usermodehelper_read_trylock'/>
<use f='linux/kernel/umh.c' l='260' u='c' c='usermodehelper_read_lock_wait'/>
<use f='linux/lib/percpu_ida.c' l='173' u='c' c='percpu_ida_alloc'/>
<use f='linux/mm/backing-dev.c' l='1023' u='c' c='congestion_wait'/>
<use f='linux/mm/backing-dev.c' l='1077' u='c' c='wait_iff_congested'/>
<use f='linux/mm/mempool.c' l='366' u='c' c='mempool_alloc'/>
<use f='linux/mm/shmem.c' l='1969' u='c' c='shmem_fault'/>
<use f='linux/mm/vmscan.c' l='3455' u='c' c='kswapd_try_to_sleep'/>
<use f='linux/mm/vmscan.c' l='3492' u='c' c='kswapd_try_to_sleep'/>
<use f='linux/net/core/sock.c' l='2027' u='c' c='sock_wait_for_wmem'/>
<use f='linux/net/sunrpc/auth_gss/auth_gss.c' l='651' u='c' c='gss_create_upcall'/>
<use f='linux/net/unix/af_unix.c' l='2203' u='c' c='unix_stream_data_wait'/>
