<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>edac_device.c source code [linux/drivers/edac/edac_device.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux/drivers/edac/edac_device.c'; var root_path = '../../..'; var data_path = '../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>linux</a>/<a href='..'>drivers</a>/<a href='./'>edac</a>/<a href='edac_device.c.html'>edac_device.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td></td></tr>
<tr><th id="2">2</th><td><i>/*</i></td></tr>
<tr><th id="3">3</th><td><i> * edac_device.c</i></td></tr>
<tr><th id="4">4</th><td><i> * (C) 2007 www.douglaskthompson.com</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * This file may be distributed under the terms of the</i></td></tr>
<tr><th id="7">7</th><td><i> * GNU General Public License.</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * Written by Doug Thompson &lt;norsk5@xmission.com&gt;</i></td></tr>
<tr><th id="10">10</th><td><i> *</i></td></tr>
<tr><th id="11">11</th><td><i> * edac_device API implementation</i></td></tr>
<tr><th id="12">12</th><td><i> * 19 Jan 2007</i></td></tr>
<tr><th id="13">13</th><td><i> */</i></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="../../arch/x86/include/asm/page.h.html">&lt;asm/page.h&gt;</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../include/linux/uaccess.h.html">&lt;linux/uaccess.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../include/linux/ctype.h.html">&lt;linux/ctype.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../include/linux/highmem.h.html">&lt;linux/highmem.h&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../include/linux/init.h.html">&lt;linux/init.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../include/linux/jiffies.h.html">&lt;linux/jiffies.h&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../include/linux/module.h.html">&lt;linux/module.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../include/linux/slab.h.html">&lt;linux/slab.h&gt;</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../include/linux/smp.h.html">&lt;linux/smp.h&gt;</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../include/linux/spinlock.h.html">&lt;linux/spinlock.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../include/linux/sysctl.h.html">&lt;linux/sysctl.h&gt;</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../include/linux/timer.h.html">&lt;linux/timer.h&gt;</a></u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="edac_device.h.html">"edac_device.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="edac_module.h.html">"edac_module.h"</a></u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><i  data-doc="device_ctls_mutex">/* lock for the list: 'edac_device_list', manipulation of this list</i></td></tr>
<tr><th id="32">32</th><td><i  data-doc="device_ctls_mutex"> * is protected by the 'device_ctls_mutex' lock</i></td></tr>
<tr><th id="33">33</th><td><i  data-doc="device_ctls_mutex"> */</i></td></tr>
<tr><th id="34">34</th><td><em>static</em> <a class="macro" href="../../include/linux/mutex.h.html#131" title="struct mutex device_ctls_mutex = { .owner = { (0) } , .wait_lock = (spinlock_t ) { { .rlock = { .raw_lock = { { (0) } }, } } } , .wait_list = { &amp;(device_ctls_mutex.wait_list), &amp;(device_ctls_mutex.wait_list) } }" data-ref="_M/DEFINE_MUTEX">DEFINE_MUTEX</a>(<dfn class="tu decl def" id="device_ctls_mutex" title='device_ctls_mutex' data-type='struct mutex' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex"><a class="tu ref" href="#34" title='device_ctls_mutex' data-use='m' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a></a></a></a></a></a></a></a></dfn>);</td></tr>
<tr><th id="35">35</th><td><em>static</em> <a class="macro" href="../../include/linux/list.h.html#23" title="struct list_head edac_device_list = { &amp;(edac_device_list), &amp;(edac_device_list) }" data-ref="_M/LIST_HEAD">LIST_HEAD</a>(<dfn class="tu decl def" id="edac_device_list" title='edac_device_list' data-type='struct list_head' data-ref="edac_device_list" data-ref-filename="edac_device_list"><a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list"><a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list"><a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list"><a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list">edac_device_list</a></a></a></a></dfn>);</td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><u>#<span data-ppcond="37">ifdef</span> <span class="macro" data-ref="_M/CONFIG_EDAC_DEBUG">CONFIG_EDAC_DEBUG</span></u></td></tr>
<tr><th id="38">38</th><td><em>static</em> <em>void</em> edac_device_dump_device(<b>struct</b> edac_device_ctl_info *edac_dev)</td></tr>
<tr><th id="39">39</th><td>{</td></tr>
<tr><th id="40">40</th><td>	edac_dbg(<var>3</var>, <q>"\tedac_dev = %p dev_idx=%d\n"</q>,</td></tr>
<tr><th id="41">41</th><td>		 edac_dev, edac_dev-&gt;dev_idx);</td></tr>
<tr><th id="42">42</th><td>	edac_dbg(<var>4</var>, <q>"\tedac_dev-&gt;edac_check = %p\n"</q>, edac_dev-&gt;edac_check);</td></tr>
<tr><th id="43">43</th><td>	edac_dbg(<var>3</var>, <q>"\tdev = %p\n"</q>, edac_dev-&gt;dev);</td></tr>
<tr><th id="44">44</th><td>	edac_dbg(<var>3</var>, <q>"\tmod_name:ctl_name = %s:%s\n"</q>,</td></tr>
<tr><th id="45">45</th><td>		 edac_dev-&gt;mod_name, edac_dev-&gt;ctl_name);</td></tr>
<tr><th id="46">46</th><td>	edac_dbg(<var>3</var>, <q>"\tpvt_info = %p\n\n"</q>, edac_dev-&gt;pvt_info);</td></tr>
<tr><th id="47">47</th><td>}</td></tr>
<tr><th id="48">48</th><td><u>#<span data-ppcond="37">endif</span>				/* CONFIG_EDAC_DEBUG */</u></td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="decl def fn" id="edac_device_alloc_ctl_info" title='edac_device_alloc_ctl_info' data-ref="edac_device_alloc_ctl_info" data-ref-filename="edac_device_alloc_ctl_info">edac_device_alloc_ctl_info</dfn>(</td></tr>
<tr><th id="51">51</th><td>	<em>unsigned</em> <dfn class="local col0 decl" id="120sz_private" title='sz_private' data-type='unsigned int' data-ref="120sz_private" data-ref-filename="120sz_private">sz_private</dfn>,</td></tr>
<tr><th id="52">52</th><td>	<em>char</em> *<dfn class="local col1 decl" id="121edac_device_name" title='edac_device_name' data-type='char *' data-ref="121edac_device_name" data-ref-filename="121edac_device_name">edac_device_name</dfn>, <em>unsigned</em> <dfn class="local col2 decl" id="122nr_instances" title='nr_instances' data-type='unsigned int' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</dfn>,</td></tr>
<tr><th id="53">53</th><td>	<em>char</em> *<dfn class="local col3 decl" id="123edac_block_name" title='edac_block_name' data-type='char *' data-ref="123edac_block_name" data-ref-filename="123edac_block_name">edac_block_name</dfn>, <em>unsigned</em> <dfn class="local col4 decl" id="124nr_blocks" title='nr_blocks' data-type='unsigned int' data-ref="124nr_blocks" data-ref-filename="124nr_blocks">nr_blocks</dfn>,</td></tr>
<tr><th id="54">54</th><td>	<em>unsigned</em> <dfn class="local col5 decl" id="125offset_value" title='offset_value' data-type='unsigned int' data-ref="125offset_value" data-ref-filename="125offset_value">offset_value</dfn>,		<i>/* zero, 1, or other based offset */</i></td></tr>
<tr><th id="55">55</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_dev_sysfs_block_attribute" title='edac_dev_sysfs_block_attribute' data-ref="edac_dev_sysfs_block_attribute" data-ref-filename="edac_dev_sysfs_block_attribute">edac_dev_sysfs_block_attribute</a> *<dfn class="local col6 decl" id="126attrib_spec" title='attrib_spec' data-type='struct edac_dev_sysfs_block_attribute *' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</dfn>, <em>unsigned</em> <dfn class="local col7 decl" id="127nr_attrib" title='nr_attrib' data-type='unsigned int' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</dfn>,</td></tr>
<tr><th id="56">56</th><td>	<em>int</em> <dfn class="local col8 decl" id="128device_index" title='device_index' data-type='int' data-ref="128device_index" data-ref-filename="128device_index">device_index</dfn>)</td></tr>
<tr><th id="57">57</th><td>{</td></tr>
<tr><th id="58">58</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col9 decl" id="129dev_ctl" title='dev_ctl' data-type='struct edac_device_ctl_info *' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</dfn>;</td></tr>
<tr><th id="59">59</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_instance" title='edac_device_instance' data-ref="edac_device_instance" data-ref-filename="edac_device_instance">edac_device_instance</a> *<dfn class="local col0 decl" id="130dev_inst" title='dev_inst' data-type='struct edac_device_instance *' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</dfn>, *<dfn class="local col1 decl" id="131inst" title='inst' data-type='struct edac_device_instance *' data-ref="131inst" data-ref-filename="131inst">inst</dfn>;</td></tr>
<tr><th id="60">60</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_block" title='edac_device_block' data-ref="edac_device_block" data-ref-filename="edac_device_block">edac_device_block</a> *<dfn class="local col2 decl" id="132dev_blk" title='dev_blk' data-type='struct edac_device_block *' data-ref="132dev_blk" data-ref-filename="132dev_blk">dev_blk</dfn>, *<dfn class="local col3 decl" id="133blk_p" title='blk_p' data-type='struct edac_device_block *' data-ref="133blk_p" data-ref-filename="133blk_p">blk_p</dfn>, *<dfn class="local col4 decl" id="134blk" title='blk' data-type='struct edac_device_block *' data-ref="134blk" data-ref-filename="134blk">blk</dfn>;</td></tr>
<tr><th id="61">61</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_dev_sysfs_block_attribute" title='edac_dev_sysfs_block_attribute' data-ref="edac_dev_sysfs_block_attribute" data-ref-filename="edac_dev_sysfs_block_attribute">edac_dev_sysfs_block_attribute</a> *<dfn class="local col5 decl" id="135dev_attrib" title='dev_attrib' data-type='struct edac_dev_sysfs_block_attribute *' data-ref="135dev_attrib" data-ref-filename="135dev_attrib">dev_attrib</dfn>, *<dfn class="local col6 decl" id="136attrib_p" title='attrib_p' data-type='struct edac_dev_sysfs_block_attribute *' data-ref="136attrib_p" data-ref-filename="136attrib_p">attrib_p</dfn>, *<dfn class="local col7 decl" id="137attrib" title='attrib' data-type='struct edac_dev_sysfs_block_attribute *' data-ref="137attrib" data-ref-filename="137attrib">attrib</dfn>;</td></tr>
<tr><th id="62">62</th><td>	<em>unsigned</em> <dfn class="local col8 decl" id="138total_size" title='total_size' data-type='unsigned int' data-ref="138total_size" data-ref-filename="138total_size">total_size</dfn>;</td></tr>
<tr><th id="63">63</th><td>	<em>unsigned</em> <dfn class="local col9 decl" id="139count" title='count' data-type='unsigned int' data-ref="139count" data-ref-filename="139count">count</dfn>;</td></tr>
<tr><th id="64">64</th><td>	<em>unsigned</em> <dfn class="local col0 decl" id="140instance" title='instance' data-type='unsigned int' data-ref="140instance" data-ref-filename="140instance">instance</dfn>, <dfn class="local col1 decl" id="141block" title='block' data-type='unsigned int' data-ref="141block" data-ref-filename="141block">block</dfn>, <dfn class="local col2 decl" id="142attr" title='attr' data-type='unsigned int' data-ref="142attr" data-ref-filename="142attr">attr</dfn>;</td></tr>
<tr><th id="65">65</th><td>	<em>void</em> *<dfn class="local col3 decl" id="143pvt" title='pvt' data-type='void *' data-ref="143pvt" data-ref-filename="143pvt">pvt</dfn>, *<dfn class="local col4 decl" id="144p" title='p' data-type='void *' data-ref="144p" data-ref-filename="144p">p</dfn>;</td></tr>
<tr><th id="66">66</th><td>	<em>int</em> <dfn class="local col5 decl" id="145err" title='err' data-type='int' data-ref="145err" data-ref-filename="145err">err</dfn>;</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td>	<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;instances=%d blocks=%d\n&quot;, __func__, nr_instances, nr_blocks); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>4</var>, <q>"instances=%d blocks=%d\n"</q>, <a class="local col2 ref" href="#122nr_instances" title='nr_instances' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</a>, <a class="local col4 ref" href="#124nr_blocks" title='nr_blocks' data-ref="124nr_blocks" data-ref-filename="124nr_blocks">nr_blocks</a>);</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td>	<i>/* Calculate the size of memory we need to allocate AND</i></td></tr>
<tr><th id="71">71</th><td><i>	 * determine the offsets of the various item arrays</i></td></tr>
<tr><th id="72">72</th><td><i>	 * (instance,block,attrib) from the start of an  allocated structure.</i></td></tr>
<tr><th id="73">73</th><td><i>	 * We want the alignment of each item  (instance,block,attrib)</i></td></tr>
<tr><th id="74">74</th><td><i>	 * to be at least as stringent as what the compiler would</i></td></tr>
<tr><th id="75">75</th><td><i>	 * provide if we could simply hardcode everything into a single struct.</i></td></tr>
<tr><th id="76">76</th><td><i>	 */</i></td></tr>
<tr><th id="77">77</th><td>	<a class="local col4 ref" href="#144p" title='p' data-ref="144p" data-ref-filename="144p">p</a> = <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="78">78</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a> = <a class="ref fn" href="edac_module.h.html#edac_align_ptr" title='edac_align_ptr' data-ref="edac_align_ptr" data-ref-filename="edac_align_ptr">edac_align_ptr</a>(&amp;<a class="local col4 ref" href="#144p" title='p' data-ref="144p" data-ref-filename="144p">p</a>, <b>sizeof</b>(*<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>), <var>1</var>);</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td>	<i>/* Calc the 'end' offset past end of ONE ctl_info structure</i></td></tr>
<tr><th id="81">81</th><td><i>	 * which will become the start of the 'instance' array</i></td></tr>
<tr><th id="82">82</th><td><i>	 */</i></td></tr>
<tr><th id="83">83</th><td>	<a class="local col0 ref" href="#130dev_inst" title='dev_inst' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</a> = <a class="ref fn" href="edac_module.h.html#edac_align_ptr" title='edac_align_ptr' data-ref="edac_align_ptr" data-ref-filename="edac_align_ptr">edac_align_ptr</a>(&amp;<a class="local col4 ref" href="#144p" title='p' data-ref="144p" data-ref-filename="144p">p</a>, <b>sizeof</b>(*<a class="local col0 ref" href="#130dev_inst" title='dev_inst' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</a>), <a class="local col2 ref" href="#122nr_instances" title='nr_instances' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</a>);</td></tr>
<tr><th id="84">84</th><td></td></tr>
<tr><th id="85">85</th><td>	<i>/* Calc the 'end' offset past the instance array within the ctl_info</i></td></tr>
<tr><th id="86">86</th><td><i>	 * which will become the start of the block array</i></td></tr>
<tr><th id="87">87</th><td><i>	 */</i></td></tr>
<tr><th id="88">88</th><td>	<a class="local col9 ref" href="#139count" title='count' data-ref="139count" data-ref-filename="139count">count</a> = <a class="local col2 ref" href="#122nr_instances" title='nr_instances' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</a> * <a class="local col4 ref" href="#124nr_blocks" title='nr_blocks' data-ref="124nr_blocks" data-ref-filename="124nr_blocks">nr_blocks</a>;</td></tr>
<tr><th id="89">89</th><td>	<a class="local col2 ref" href="#132dev_blk" title='dev_blk' data-ref="132dev_blk" data-ref-filename="132dev_blk">dev_blk</a> = <a class="ref fn" href="edac_module.h.html#edac_align_ptr" title='edac_align_ptr' data-ref="edac_align_ptr" data-ref-filename="edac_align_ptr">edac_align_ptr</a>(&amp;<a class="local col4 ref" href="#144p" title='p' data-ref="144p" data-ref-filename="144p">p</a>, <b>sizeof</b>(*<a class="local col2 ref" href="#132dev_blk" title='dev_blk' data-ref="132dev_blk" data-ref-filename="132dev_blk">dev_blk</a>), <a class="local col9 ref" href="#139count" title='count' data-ref="139count" data-ref-filename="139count">count</a>);</td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td>	<i>/* Calc the 'end' offset past the dev_blk array</i></td></tr>
<tr><th id="92">92</th><td><i>	 * which will become the start of the attrib array, if any.</i></td></tr>
<tr><th id="93">93</th><td><i>	 */</i></td></tr>
<tr><th id="94">94</th><td>	<i>/* calc how many nr_attrib we need */</i></td></tr>
<tr><th id="95">95</th><td>	<b>if</b> (<a class="local col7 ref" href="#127nr_attrib" title='nr_attrib' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</a> &gt; <var>0</var>)</td></tr>
<tr><th id="96">96</th><td>		<a class="local col9 ref" href="#139count" title='count' data-ref="139count" data-ref-filename="139count">count</a> *= <a class="local col7 ref" href="#127nr_attrib" title='nr_attrib' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</a>;</td></tr>
<tr><th id="97">97</th><td>	<a class="local col5 ref" href="#135dev_attrib" title='dev_attrib' data-ref="135dev_attrib" data-ref-filename="135dev_attrib">dev_attrib</a> = <a class="ref fn" href="edac_module.h.html#edac_align_ptr" title='edac_align_ptr' data-ref="edac_align_ptr" data-ref-filename="edac_align_ptr">edac_align_ptr</a>(&amp;<a class="local col4 ref" href="#144p" title='p' data-ref="144p" data-ref-filename="144p">p</a>, <b>sizeof</b>(*<a class="local col5 ref" href="#135dev_attrib" title='dev_attrib' data-ref="135dev_attrib" data-ref-filename="135dev_attrib">dev_attrib</a>), <a class="local col9 ref" href="#139count" title='count' data-ref="139count" data-ref-filename="139count">count</a>);</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td>	<i>/* Calc the 'end' offset past the attributes array */</i></td></tr>
<tr><th id="100">100</th><td>	<a class="local col3 ref" href="#143pvt" title='pvt' data-ref="143pvt" data-ref-filename="143pvt">pvt</a> = <a class="ref fn" href="edac_module.h.html#edac_align_ptr" title='edac_align_ptr' data-ref="edac_align_ptr" data-ref-filename="edac_align_ptr">edac_align_ptr</a>(&amp;<a class="local col4 ref" href="#144p" title='p' data-ref="144p" data-ref-filename="144p">p</a>, <a class="local col0 ref" href="#120sz_private" title='sz_private' data-ref="120sz_private" data-ref-filename="120sz_private">sz_private</a>, <var>1</var>);</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>	<i>/* 'pvt' now points to where the private data area is.</i></td></tr>
<tr><th id="103">103</th><td><i>	 * At this point 'pvt' (like dev_inst,dev_blk and dev_attrib)</i></td></tr>
<tr><th id="104">104</th><td><i>	 * is baselined at ZERO</i></td></tr>
<tr><th id="105">105</th><td><i>	 */</i></td></tr>
<tr><th id="106">106</th><td>	<a class="local col8 ref" href="#138total_size" title='total_size' data-ref="138total_size" data-ref-filename="138total_size">total_size</a> = ((<em>unsigned</em> <em>long</em>)<a class="local col3 ref" href="#143pvt" title='pvt' data-ref="143pvt" data-ref-filename="143pvt">pvt</a>) + <a class="local col0 ref" href="#120sz_private" title='sz_private' data-ref="120sz_private" data-ref-filename="120sz_private">sz_private</a>;</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td>	<i>/* Allocate the amount of memory for the set of control structures */</i></td></tr>
<tr><th id="109">109</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a> = <a class="ref fn" href="../../include/linux/slab.h.html#kzalloc" title='kzalloc' data-ref="kzalloc" data-ref-filename="kzalloc">kzalloc</a>(<a class="local col8 ref" href="#138total_size" title='total_size' data-ref="138total_size" data-ref-filename="138total_size">total_size</a>, <a class="macro" href="../../include/linux/gfp.h.html#273" title="((( gfp_t)(0x400000u|0x1000000u)) | (( gfp_t)0x40u) | (( gfp_t)0x80u))" data-ref="_M/GFP_KERNEL">GFP_KERNEL</a>);</td></tr>
<tr><th id="110">110</th><td>	<b>if</b> (<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a> == <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>)</td></tr>
<tr><th id="111">111</th><td>		<b>return</b> <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>	<i>/* Adjust pointers so they point within the actual memory we</i></td></tr>
<tr><th id="114">114</th><td><i>	 * just allocated rather than an imaginary chunk of memory</i></td></tr>
<tr><th id="115">115</th><td><i>	 * located at address 0.</i></td></tr>
<tr><th id="116">116</th><td><i>	 * 'dev_ctl' points to REAL memory, while the others are</i></td></tr>
<tr><th id="117">117</th><td><i>	 * ZERO based and thus need to be adjusted to point within</i></td></tr>
<tr><th id="118">118</th><td><i>	 * the allocated memory.</i></td></tr>
<tr><th id="119">119</th><td><i>	 */</i></td></tr>
<tr><th id="120">120</th><td>	<a class="local col0 ref" href="#130dev_inst" title='dev_inst' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</a> = (<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_instance" title='edac_device_instance' data-ref="edac_device_instance" data-ref-filename="edac_device_instance">edac_device_instance</a> *)</td></tr>
<tr><th id="121">121</th><td>		(((<em>char</em> *)<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>) + ((<em>unsigned</em> <em>long</em>)<a class="local col0 ref" href="#130dev_inst" title='dev_inst' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</a>));</td></tr>
<tr><th id="122">122</th><td>	<a class="local col2 ref" href="#132dev_blk" title='dev_blk' data-ref="132dev_blk" data-ref-filename="132dev_blk">dev_blk</a> = (<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_block" title='edac_device_block' data-ref="edac_device_block" data-ref-filename="edac_device_block">edac_device_block</a> *)</td></tr>
<tr><th id="123">123</th><td>		(((<em>char</em> *)<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>) + ((<em>unsigned</em> <em>long</em>)<a class="local col2 ref" href="#132dev_blk" title='dev_blk' data-ref="132dev_blk" data-ref-filename="132dev_blk">dev_blk</a>));</td></tr>
<tr><th id="124">124</th><td>	<a class="local col5 ref" href="#135dev_attrib" title='dev_attrib' data-ref="135dev_attrib" data-ref-filename="135dev_attrib">dev_attrib</a> = (<b>struct</b> <a class="type" href="edac_device.h.html#edac_dev_sysfs_block_attribute" title='edac_dev_sysfs_block_attribute' data-ref="edac_dev_sysfs_block_attribute" data-ref-filename="edac_dev_sysfs_block_attribute">edac_dev_sysfs_block_attribute</a> *)</td></tr>
<tr><th id="125">125</th><td>		(((<em>char</em> *)<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>) + ((<em>unsigned</em> <em>long</em>)<a class="local col5 ref" href="#135dev_attrib" title='dev_attrib' data-ref="135dev_attrib" data-ref-filename="135dev_attrib">dev_attrib</a>));</td></tr>
<tr><th id="126">126</th><td>	<a class="local col3 ref" href="#143pvt" title='pvt' data-ref="143pvt" data-ref-filename="143pvt">pvt</a> = <a class="local col0 ref" href="#120sz_private" title='sz_private' data-ref="120sz_private" data-ref-filename="120sz_private">sz_private</a> ? (((<em>char</em> *)<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>) + ((<em>unsigned</em> <em>long</em>)<a class="local col3 ref" href="#143pvt" title='pvt' data-ref="143pvt" data-ref-filename="143pvt">pvt</a>)) : <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td>	<i>/* Begin storing the information into the control info structure */</i></td></tr>
<tr><th id="129">129</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a> = <a class="local col8 ref" href="#128device_index" title='device_index' data-ref="128device_index" data-ref-filename="128device_index">device_index</a>;</td></tr>
<tr><th id="130">130</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::nr_instances" title='edac_device_ctl_info::nr_instances' data-ref="edac_device_ctl_info::nr_instances" data-ref-filename="edac_device_ctl_info..nr_instances">nr_instances</a> = <a class="local col2 ref" href="#122nr_instances" title='nr_instances' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</a>;</td></tr>
<tr><th id="131">131</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::instances" title='edac_device_ctl_info::instances' data-ref="edac_device_ctl_info::instances" data-ref-filename="edac_device_ctl_info..instances">instances</a> = <a class="local col0 ref" href="#130dev_inst" title='dev_inst' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</a>;</td></tr>
<tr><th id="132">132</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::pvt_info" title='edac_device_ctl_info::pvt_info' data-ref="edac_device_ctl_info::pvt_info" data-ref-filename="edac_device_ctl_info..pvt_info">pvt_info</a> = <a class="local col3 ref" href="#143pvt" title='pvt' data-ref="143pvt" data-ref-filename="143pvt">pvt</a>;</td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td>	<i>/* Default logging of CEs and UEs */</i></td></tr>
<tr><th id="135">135</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::log_ce" title='edac_device_ctl_info::log_ce' data-ref="edac_device_ctl_info::log_ce" data-ref-filename="edac_device_ctl_info..log_ce">log_ce</a> = <var>1</var>;</td></tr>
<tr><th id="136">136</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::log_ue" title='edac_device_ctl_info::log_ue' data-ref="edac_device_ctl_info::log_ue" data-ref-filename="edac_device_ctl_info..log_ue">log_ue</a> = <var>1</var>;</td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td>	<i>/* Name of this edac device */</i></td></tr>
<tr><th id="139">139</th><td>	<a class="ref fn" href="../../include/linux/kernel.h.html#snprintf" title='snprintf' data-ref="snprintf" data-ref-filename="snprintf">snprintf</a>(<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::name" title='edac_device_ctl_info::name' data-ref="edac_device_ctl_info::name" data-ref-filename="edac_device_ctl_info..name">name</a>,<b>sizeof</b>(<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::name" title='edac_device_ctl_info::name' data-ref="edac_device_ctl_info::name" data-ref-filename="edac_device_ctl_info..name">name</a>),<q>"%s"</q>,<a class="local col1 ref" href="#121edac_device_name" title='edac_device_name' data-ref="121edac_device_name" data-ref-filename="121edac_device_name">edac_device_name</a>);</td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td>	<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;edac_dev=%p next after end=%p\n&quot;, __func__, dev_ctl, pvt + sz_private); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>4</var>, <q>"edac_dev=%p next after end=%p\n"</q>,</td></tr>
<tr><th id="142">142</th><td>		 <a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>, <a class="local col3 ref" href="#143pvt" title='pvt' data-ref="143pvt" data-ref-filename="143pvt">pvt</a> + <a class="local col0 ref" href="#120sz_private" title='sz_private' data-ref="120sz_private" data-ref-filename="120sz_private">sz_private</a>);</td></tr>
<tr><th id="143">143</th><td></td></tr>
<tr><th id="144">144</th><td>	<i>/* Initialize every Instance */</i></td></tr>
<tr><th id="145">145</th><td>	<b>for</b> (<a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a> = <var>0</var>; <a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a> &lt; <a class="local col2 ref" href="#122nr_instances" title='nr_instances' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</a>; <a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a>++) {</td></tr>
<tr><th id="146">146</th><td>		<a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a> = &amp;<a class="local col0 ref" href="#130dev_inst" title='dev_inst' data-ref="130dev_inst" data-ref-filename="130dev_inst">dev_inst</a>[<a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a>];</td></tr>
<tr><th id="147">147</th><td>		<a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::ctl" title='edac_device_instance::ctl' data-ref="edac_device_instance::ctl" data-ref-filename="edac_device_instance..ctl">ctl</a> = <a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>;</td></tr>
<tr><th id="148">148</th><td>		<a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a> = <a class="local col4 ref" href="#124nr_blocks" title='nr_blocks' data-ref="124nr_blocks" data-ref-filename="124nr_blocks">nr_blocks</a>;</td></tr>
<tr><th id="149">149</th><td>		<a class="local col3 ref" href="#133blk_p" title='blk_p' data-ref="133blk_p" data-ref-filename="133blk_p">blk_p</a> = &amp;<a class="local col2 ref" href="#132dev_blk" title='dev_blk' data-ref="132dev_blk" data-ref-filename="132dev_blk">dev_blk</a>[<a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a> * <a class="local col4 ref" href="#124nr_blocks" title='nr_blocks' data-ref="124nr_blocks" data-ref-filename="124nr_blocks">nr_blocks</a>];</td></tr>
<tr><th id="150">150</th><td>		<a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::blocks" title='edac_device_instance::blocks' data-ref="edac_device_instance::blocks" data-ref-filename="edac_device_instance..blocks">blocks</a> = <a class="local col3 ref" href="#133blk_p" title='blk_p' data-ref="133blk_p" data-ref-filename="133blk_p">blk_p</a>;</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td>		<i>/* name of this instance */</i></td></tr>
<tr><th id="153">153</th><td>		<a class="ref fn" href="../../include/linux/kernel.h.html#snprintf" title='snprintf' data-ref="snprintf" data-ref-filename="snprintf">snprintf</a>(<a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::name" title='edac_device_instance::name' data-ref="edac_device_instance::name" data-ref-filename="edac_device_instance..name">name</a>, <b>sizeof</b>(<a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::name" title='edac_device_instance::name' data-ref="edac_device_instance::name" data-ref-filename="edac_device_instance..name">name</a>),</td></tr>
<tr><th id="154">154</th><td>			 <q>"%s%u"</q>, <a class="local col1 ref" href="#121edac_device_name" title='edac_device_name' data-ref="121edac_device_name" data-ref-filename="121edac_device_name">edac_device_name</a>, <a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a>);</td></tr>
<tr><th id="155">155</th><td></td></tr>
<tr><th id="156">156</th><td>		<i>/* Initialize every block in each instance */</i></td></tr>
<tr><th id="157">157</th><td>		<b>for</b> (<a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a> = <var>0</var>; <a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a> &lt; <a class="local col4 ref" href="#124nr_blocks" title='nr_blocks' data-ref="124nr_blocks" data-ref-filename="124nr_blocks">nr_blocks</a>; <a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a>++) {</td></tr>
<tr><th id="158">158</th><td>			<a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a> = &amp;<a class="local col3 ref" href="#133blk_p" title='blk_p' data-ref="133blk_p" data-ref-filename="133blk_p">blk_p</a>[<a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a>];</td></tr>
<tr><th id="159">159</th><td>			<a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::instance" title='edac_device_block::instance' data-ref="edac_device_block::instance" data-ref-filename="edac_device_block..instance">instance</a> = <a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>;</td></tr>
<tr><th id="160">160</th><td>			<a class="ref fn" href="../../include/linux/kernel.h.html#snprintf" title='snprintf' data-ref="snprintf" data-ref-filename="snprintf">snprintf</a>(<a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::name" title='edac_device_block::name' data-ref="edac_device_block::name" data-ref-filename="edac_device_block..name">name</a>, <b>sizeof</b>(<a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::name" title='edac_device_block::name' data-ref="edac_device_block::name" data-ref-filename="edac_device_block..name">name</a>),</td></tr>
<tr><th id="161">161</th><td>				 <q>"%s%d"</q>, <a class="local col3 ref" href="#123edac_block_name" title='edac_block_name' data-ref="123edac_block_name" data-ref-filename="123edac_block_name">edac_block_name</a>, <a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a>+<a class="local col5 ref" href="#125offset_value" title='offset_value' data-ref="125offset_value" data-ref-filename="125offset_value">offset_value</a>);</td></tr>
<tr><th id="162">162</th><td></td></tr>
<tr><th id="163">163</th><td>			<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;instance=%d inst_p=%p block=#%d block_p=%p name=&apos;%s&apos;\n&quot;, __func__, instance, inst, block, blk, blk-&gt;name); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>4</var>, <q>"instance=%d inst_p=%p block=#%d block_p=%p name='%s'\n"</q>,</td></tr>
<tr><th id="164">164</th><td>				 <a class="local col0 ref" href="#140instance" title='instance' data-ref="140instance" data-ref-filename="140instance">instance</a>, <a class="local col1 ref" href="#131inst" title='inst' data-ref="131inst" data-ref-filename="131inst">inst</a>, <a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a>, <a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>, <a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::name" title='edac_device_block::name' data-ref="edac_device_block::name" data-ref-filename="edac_device_block..name">name</a>);</td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td>			<i>/* if there are NO attributes OR no attribute pointer</i></td></tr>
<tr><th id="167">167</th><td><i>			 * then continue on to next block iteration</i></td></tr>
<tr><th id="168">168</th><td><i>			 */</i></td></tr>
<tr><th id="169">169</th><td>			<b>if</b> ((<a class="local col7 ref" href="#127nr_attrib" title='nr_attrib' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</a> == <var>0</var>) || (<a class="local col6 ref" href="#126attrib_spec" title='attrib_spec' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</a> == <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>))</td></tr>
<tr><th id="170">170</th><td>				<b>continue</b>;</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>			<i>/* setup the attribute array for this block */</i></td></tr>
<tr><th id="173">173</th><td>			<a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::nr_attribs" title='edac_device_block::nr_attribs' data-ref="edac_device_block::nr_attribs" data-ref-filename="edac_device_block..nr_attribs">nr_attribs</a> = <a class="local col7 ref" href="#127nr_attrib" title='nr_attrib' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</a>;</td></tr>
<tr><th id="174">174</th><td>			<a class="local col6 ref" href="#136attrib_p" title='attrib_p' data-ref="136attrib_p" data-ref-filename="136attrib_p">attrib_p</a> = &amp;<a class="local col5 ref" href="#135dev_attrib" title='dev_attrib' data-ref="135dev_attrib" data-ref-filename="135dev_attrib">dev_attrib</a>[<a class="local col1 ref" href="#141block" title='block' data-ref="141block" data-ref-filename="141block">block</a>*<a class="local col2 ref" href="#122nr_instances" title='nr_instances' data-ref="122nr_instances" data-ref-filename="122nr_instances">nr_instances</a>*<a class="local col7 ref" href="#127nr_attrib" title='nr_attrib' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</a>];</td></tr>
<tr><th id="175">175</th><td>			<a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::block_attributes" title='edac_device_block::block_attributes' data-ref="edac_device_block::block_attributes" data-ref-filename="edac_device_block..block_attributes">block_attributes</a> = <a class="local col6 ref" href="#136attrib_p" title='attrib_p' data-ref="136attrib_p" data-ref-filename="136attrib_p">attrib_p</a>;</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td>			<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;THIS BLOCK_ATTRIB=%p\n&quot;, __func__, blk-&gt;block_attributes); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>4</var>, <q>"THIS BLOCK_ATTRIB=%p\n"</q>,</td></tr>
<tr><th id="178">178</th><td>				 <a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::block_attributes" title='edac_device_block::block_attributes' data-ref="edac_device_block::block_attributes" data-ref-filename="edac_device_block..block_attributes">block_attributes</a>);</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td>			<i>/* Initialize every user specified attribute in this</i></td></tr>
<tr><th id="181">181</th><td><i>			 * block with the data the caller passed in</i></td></tr>
<tr><th id="182">182</th><td><i>			 * Each block gets its own copy of pointers,</i></td></tr>
<tr><th id="183">183</th><td><i>			 * and its unique 'value'</i></td></tr>
<tr><th id="184">184</th><td><i>			 */</i></td></tr>
<tr><th id="185">185</th><td>			<b>for</b> (<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a> = <var>0</var>; <a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a> &lt; <a class="local col7 ref" href="#127nr_attrib" title='nr_attrib' data-ref="127nr_attrib" data-ref-filename="127nr_attrib">nr_attrib</a>; <a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>++) {</td></tr>
<tr><th id="186">186</th><td>				<a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a> = &amp;<a class="local col6 ref" href="#136attrib_p" title='attrib_p' data-ref="136attrib_p" data-ref-filename="136attrib_p">attrib_p</a>[<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>];</td></tr>
<tr><th id="187">187</th><td></td></tr>
<tr><th id="188">188</th><td>				<i>/* populate the unique per attrib</i></td></tr>
<tr><th id="189">189</th><td><i>				 * with the code pointers and info</i></td></tr>
<tr><th id="190">190</th><td><i>				 */</i></td></tr>
<tr><th id="191">191</th><td>				<a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::attr" title='edac_dev_sysfs_block_attribute::attr' data-ref="edac_dev_sysfs_block_attribute::attr" data-ref-filename="edac_dev_sysfs_block_attribute..attr">attr</a> = <a class="local col6 ref" href="#126attrib_spec" title='attrib_spec' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</a>[<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>].<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::attr" title='edac_dev_sysfs_block_attribute::attr' data-ref="edac_dev_sysfs_block_attribute::attr" data-ref-filename="edac_dev_sysfs_block_attribute..attr">attr</a>;</td></tr>
<tr><th id="192">192</th><td>				<a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::show" title='edac_dev_sysfs_block_attribute::show' data-ref="edac_dev_sysfs_block_attribute::show" data-ref-filename="edac_dev_sysfs_block_attribute..show">show</a> = <a class="local col6 ref" href="#126attrib_spec" title='attrib_spec' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</a>[<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>].<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::show" title='edac_dev_sysfs_block_attribute::show' data-ref="edac_dev_sysfs_block_attribute::show" data-ref-filename="edac_dev_sysfs_block_attribute..show">show</a>;</td></tr>
<tr><th id="193">193</th><td>				<a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::store" title='edac_dev_sysfs_block_attribute::store' data-ref="edac_dev_sysfs_block_attribute::store" data-ref-filename="edac_dev_sysfs_block_attribute..store">store</a> = <a class="local col6 ref" href="#126attrib_spec" title='attrib_spec' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</a>[<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>].<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::store" title='edac_dev_sysfs_block_attribute::store' data-ref="edac_dev_sysfs_block_attribute::store" data-ref-filename="edac_dev_sysfs_block_attribute..store">store</a>;</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td>				<a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::block" title='edac_dev_sysfs_block_attribute::block' data-ref="edac_dev_sysfs_block_attribute::block" data-ref-filename="edac_dev_sysfs_block_attribute..block">block</a> = <a class="local col4 ref" href="#134blk" title='blk' data-ref="134blk" data-ref-filename="134blk">blk</a>;	<i>/* up link */</i></td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td>				<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;alloc-attrib=%p attrib_name=&apos;%s&apos; attrib-spec=%p spec-name=%s\n&quot;, __func__, attrib, attrib-&gt;attr.name, &amp;attrib_spec[attr], attrib_spec[attr].attr.name); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>4</var>, <q>"alloc-attrib=%p attrib_name='%s' attrib-spec=%p spec-name=%s\n"</q>,</td></tr>
<tr><th id="198">198</th><td>					 <a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a>, <a class="local col7 ref" href="#137attrib" title='attrib' data-ref="137attrib" data-ref-filename="137attrib">attrib</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::attr" title='edac_dev_sysfs_block_attribute::attr' data-ref="edac_dev_sysfs_block_attribute::attr" data-ref-filename="edac_dev_sysfs_block_attribute..attr">attr</a>.<a class="ref field" href="../../include/linux/sysfs.h.html#attribute::name" title='attribute::name' data-ref="attribute::name" data-ref-filename="attribute..name">name</a>,</td></tr>
<tr><th id="199">199</th><td>					 &amp;<a class="local col6 ref" href="#126attrib_spec" title='attrib_spec' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</a>[<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>],</td></tr>
<tr><th id="200">200</th><td>					 <a class="local col6 ref" href="#126attrib_spec" title='attrib_spec' data-ref="126attrib_spec" data-ref-filename="126attrib_spec">attrib_spec</a>[<a class="local col2 ref" href="#142attr" title='attr' data-ref="142attr" data-ref-filename="142attr">attr</a>].<a class="ref field" href="edac_device.h.html#edac_dev_sysfs_block_attribute::attr" title='edac_dev_sysfs_block_attribute::attr' data-ref="edac_dev_sysfs_block_attribute::attr" data-ref-filename="edac_dev_sysfs_block_attribute..attr">attr</a>.<a class="ref field" href="../../include/linux/sysfs.h.html#attribute::name" title='attribute::name' data-ref="attribute::name" data-ref-filename="attribute..name">name</a></td></tr>
<tr><th id="201">201</th><td>					);</td></tr>
<tr><th id="202">202</th><td>			}</td></tr>
<tr><th id="203">203</th><td>		}</td></tr>
<tr><th id="204">204</th><td>	}</td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td>	<i>/* Mark this instance as merely ALLOCATED */</i></td></tr>
<tr><th id="207">207</th><td>	<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> = <a class="macro" href="../../include/linux/edac.h.html#309" title="0x100" data-ref="_M/OP_ALLOC">OP_ALLOC</a>;</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>	<i>/*</i></td></tr>
<tr><th id="210">210</th><td><i>	 * Initialize the 'root' kobj for the edac_device controller</i></td></tr>
<tr><th id="211">211</th><td><i>	 */</i></td></tr>
<tr><th id="212">212</th><td>	<a class="local col5 ref" href="#145err" title='err' data-ref="145err" data-ref-filename="145err">err</a> = <a class="ref fn" href="edac_module.h.html#edac_device_register_sysfs_main_kobj" title='edac_device_register_sysfs_main_kobj' data-ref="edac_device_register_sysfs_main_kobj" data-ref-filename="edac_device_register_sysfs_main_kobj">edac_device_register_sysfs_main_kobj</a>(<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>);</td></tr>
<tr><th id="213">213</th><td>	<b>if</b> (<a class="local col5 ref" href="#145err" title='err' data-ref="145err" data-ref-filename="145err">err</a>) {</td></tr>
<tr><th id="214">214</th><td>		<a class="ref fn" href="../../include/linux/slab.h.html#kfree" title='kfree' data-ref="kfree" data-ref-filename="kfree">kfree</a>(<a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>);</td></tr>
<tr><th id="215">215</th><td>		<b>return</b> <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="216">216</th><td>	}</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td>	<i>/* at this point, the root kobj is valid, and in order to</i></td></tr>
<tr><th id="219">219</th><td><i>	 * 'free' the object, then the function:</i></td></tr>
<tr><th id="220">220</th><td><i>	 *	edac_device_unregister_sysfs_main_kobj() must be called</i></td></tr>
<tr><th id="221">221</th><td><i>	 * which will perform kobj unregistration and the actual free</i></td></tr>
<tr><th id="222">222</th><td><i>	 * will occur during the kobject callback operation</i></td></tr>
<tr><th id="223">223</th><td><i>	 */</i></td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>	<b>return</b> <a class="local col9 ref" href="#129dev_ctl" title='dev_ctl' data-ref="129dev_ctl" data-ref-filename="129dev_ctl">dev_ctl</a>;</td></tr>
<tr><th id="226">226</th><td>}</td></tr>
<tr><th id="227">227</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_alloc_ctl_info) edac_device_alloc_ctl_info; static const char __kstrtab_edac_device_alloc_ctl_info[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_alloc_ctl_info&quot;; static const struct kernel_symbol __ksymtab_edac_device_alloc_ctl_info __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_alloc_ctl_info&quot;), used)) = { (unsigned long)&amp;edac_device_alloc_ctl_info, __kstrtab_edac_device_alloc_ctl_info }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_alloc_ctl_info" title='edac_device_alloc_ctl_info' data-ref="edac_device_alloc_ctl_info" data-ref-filename="edac_device_alloc_ctl_info"><a class="ref fn" href="#edac_device_alloc_ctl_info" title='edac_device_alloc_ctl_info' data-ref="edac_device_alloc_ctl_info" data-ref-filename="edac_device_alloc_ctl_info"><a class="ref fn" href="#edac_device_alloc_ctl_info" title='edac_device_alloc_ctl_info' data-ref="edac_device_alloc_ctl_info" data-ref-filename="edac_device_alloc_ctl_info"><a class="ref fn" href="#edac_device_alloc_ctl_info" title='edac_device_alloc_ctl_info' data-ref="edac_device_alloc_ctl_info" data-ref-filename="edac_device_alloc_ctl_info">edac_device_alloc_ctl_info</a></a></a></a>);</td></tr>
<tr><th id="228">228</th><td></td></tr>
<tr><th id="229">229</th><td><em>void</em> <dfn class="decl def fn" id="edac_device_free_ctl_info" title='edac_device_free_ctl_info' data-ref="edac_device_free_ctl_info" data-ref-filename="edac_device_free_ctl_info">edac_device_free_ctl_info</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col6 decl" id="146ctl_info" title='ctl_info' data-type='struct edac_device_ctl_info *' data-ref="146ctl_info" data-ref-filename="146ctl_info">ctl_info</dfn>)</td></tr>
<tr><th id="230">230</th><td>{</td></tr>
<tr><th id="231">231</th><td>	<a class="ref fn" href="edac_module.h.html#edac_device_unregister_sysfs_main_kobj" title='edac_device_unregister_sysfs_main_kobj' data-ref="edac_device_unregister_sysfs_main_kobj" data-ref-filename="edac_device_unregister_sysfs_main_kobj">edac_device_unregister_sysfs_main_kobj</a>(<a class="local col6 ref" href="#146ctl_info" title='ctl_info' data-ref="146ctl_info" data-ref-filename="146ctl_info">ctl_info</a>);</td></tr>
<tr><th id="232">232</th><td>}</td></tr>
<tr><th id="233">233</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_free_ctl_info) edac_device_free_ctl_info; static const char __kstrtab_edac_device_free_ctl_info[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_free_ctl_info&quot;; static const struct kernel_symbol __ksymtab_edac_device_free_ctl_info __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_free_ctl_info&quot;), used)) = { (unsigned long)&amp;edac_device_free_ctl_info, __kstrtab_edac_device_free_ctl_info }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_free_ctl_info" title='edac_device_free_ctl_info' data-ref="edac_device_free_ctl_info" data-ref-filename="edac_device_free_ctl_info"><a class="ref fn" href="#edac_device_free_ctl_info" title='edac_device_free_ctl_info' data-ref="edac_device_free_ctl_info" data-ref-filename="edac_device_free_ctl_info"><a class="ref fn" href="#edac_device_free_ctl_info" title='edac_device_free_ctl_info' data-ref="edac_device_free_ctl_info" data-ref-filename="edac_device_free_ctl_info"><a class="ref fn" href="#edac_device_free_ctl_info" title='edac_device_free_ctl_info' data-ref="edac_device_free_ctl_info" data-ref-filename="edac_device_free_ctl_info">edac_device_free_ctl_info</a></a></a></a>);</td></tr>
<tr><th id="234">234</th><td></td></tr>
<tr><th id="235">235</th><td><i  data-doc="find_edac_device_by_dev">/*</i></td></tr>
<tr><th id="236">236</th><td><i  data-doc="find_edac_device_by_dev"> * find_edac_device_by_dev</i></td></tr>
<tr><th id="237">237</th><td><i  data-doc="find_edac_device_by_dev"> *	scans the edac_device list for a specific 'struct device *'</i></td></tr>
<tr><th id="238">238</th><td><i  data-doc="find_edac_device_by_dev"> *</i></td></tr>
<tr><th id="239">239</th><td><i  data-doc="find_edac_device_by_dev"> *	lock to be held prior to call:	device_ctls_mutex</i></td></tr>
<tr><th id="240">240</th><td><i  data-doc="find_edac_device_by_dev"> *</i></td></tr>
<tr><th id="241">241</th><td><i  data-doc="find_edac_device_by_dev"> *	Return:</i></td></tr>
<tr><th id="242">242</th><td><i  data-doc="find_edac_device_by_dev"> *		pointer to control structure managing 'dev'</i></td></tr>
<tr><th id="243">243</th><td><i  data-doc="find_edac_device_by_dev"> *		NULL if not found on list</i></td></tr>
<tr><th id="244">244</th><td><i  data-doc="find_edac_device_by_dev"> */</i></td></tr>
<tr><th id="245">245</th><td><em>static</em> <b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="tu decl def fn" id="find_edac_device_by_dev" title='find_edac_device_by_dev' data-type='struct edac_device_ctl_info * find_edac_device_by_dev(struct device * dev)' data-ref="find_edac_device_by_dev" data-ref-filename="find_edac_device_by_dev">find_edac_device_by_dev</dfn>(<b>struct</b> <a class="type" href="../../include/linux/device.h.html#device" title='device' data-ref="device" data-ref-filename="device">device</a> *<dfn class="local col7 decl" id="147dev" title='dev' data-type='struct device *' data-ref="147dev" data-ref-filename="147dev">dev</dfn>)</td></tr>
<tr><th id="246">246</th><td>{</td></tr>
<tr><th id="247">247</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col8 decl" id="148edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="148edac_dev" data-ref-filename="148edac_dev">edac_dev</dfn>;</td></tr>
<tr><th id="248">248</th><td>	<b>struct</b> <a class="type" href="../../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> *<dfn class="local col9 decl" id="149item" title='item' data-type='struct list_head *' data-ref="149item" data-ref-filename="149item">item</dfn>;</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>	<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;\n&quot;, __func__); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>0</var>, <q>"\n"</q>);</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td>	<a class="macro" href="../../include/linux/list.h.html#425" title="for (item = (&amp;edac_device_list)-&gt;next; item != (&amp;edac_device_list); item = item-&gt;next)" data-ref="_M/list_for_each">list_for_each</a>(<a class="local col9 ref" href="#149item" title='item' data-ref="149item" data-ref-filename="149item">item</a>, &amp;<a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list">edac_device_list</a>) {</td></tr>
<tr><th id="253">253</th><td>		<a class="local col8 ref" href="#148edac_dev" title='edac_dev' data-ref="148edac_dev" data-ref-filename="148edac_dev">edac_dev</a> = <a class="macro" href="../../include/linux/list.h.html#365" title="({ void *__mptr = (void *)(item); do { bool __cond = !(!(!__builtin_types_compatible_p(typeof(*(item)), typeof(((struct edac_device_ctl_info *)0)-&gt;link)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(item)), typeof(void)))); extern void __compiletime_assert_253(void) ; if (__cond) __compiletime_assert_253(); do { ((void)sizeof(char[1 - 2 * __cond])); } while (0); } while (0); ((struct edac_device_ctl_info *)(__mptr - __builtin_offsetof(struct edac_device_ctl_info, link))); })" data-ref="_M/list_entry">list_entry</a>(<a class="local col9 ref" href="#149item" title='item' data-ref="149item" data-ref-filename="149item">item</a>, <b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a>, <a class="ref field" href="edac_device.h.html#edac_device_ctl_info::link" title='edac_device_ctl_info::link' data-ref="edac_device_ctl_info::link" data-ref-filename="edac_device_ctl_info..link">link</a>);</td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td>		<b>if</b> (<a class="local col8 ref" href="#148edac_dev" title='edac_dev' data-ref="148edac_dev" data-ref-filename="148edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev" title='edac_device_ctl_info::dev' data-ref="edac_device_ctl_info::dev" data-ref-filename="edac_device_ctl_info..dev">dev</a> == <a class="local col7 ref" href="#147dev" title='dev' data-ref="147dev" data-ref-filename="147dev">dev</a>)</td></tr>
<tr><th id="256">256</th><td>			<b>return</b> <a class="local col8 ref" href="#148edac_dev" title='edac_dev' data-ref="148edac_dev" data-ref-filename="148edac_dev">edac_dev</a>;</td></tr>
<tr><th id="257">257</th><td>	}</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>	<b>return</b> <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="260">260</th><td>}</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td><i  data-doc="add_edac_dev_to_global_list">/*</i></td></tr>
<tr><th id="263">263</th><td><i  data-doc="add_edac_dev_to_global_list"> * add_edac_dev_to_global_list</i></td></tr>
<tr><th id="264">264</th><td><i  data-doc="add_edac_dev_to_global_list"> *	Before calling this function, caller must</i></td></tr>
<tr><th id="265">265</th><td><i  data-doc="add_edac_dev_to_global_list"> *	assign a unique value to edac_dev-&gt;dev_idx.</i></td></tr>
<tr><th id="266">266</th><td><i  data-doc="add_edac_dev_to_global_list"> *</i></td></tr>
<tr><th id="267">267</th><td><i  data-doc="add_edac_dev_to_global_list"> *	lock to be held prior to call:	device_ctls_mutex</i></td></tr>
<tr><th id="268">268</th><td><i  data-doc="add_edac_dev_to_global_list"> *</i></td></tr>
<tr><th id="269">269</th><td><i  data-doc="add_edac_dev_to_global_list"> *	Return:</i></td></tr>
<tr><th id="270">270</th><td><i  data-doc="add_edac_dev_to_global_list"> *		0 on success</i></td></tr>
<tr><th id="271">271</th><td><i  data-doc="add_edac_dev_to_global_list"> *		1 on failure.</i></td></tr>
<tr><th id="272">272</th><td><i  data-doc="add_edac_dev_to_global_list"> */</i></td></tr>
<tr><th id="273">273</th><td><em>static</em> <em>int</em> <dfn class="tu decl def fn" id="add_edac_dev_to_global_list" title='add_edac_dev_to_global_list' data-type='int add_edac_dev_to_global_list(struct edac_device_ctl_info * edac_dev)' data-ref="add_edac_dev_to_global_list" data-ref-filename="add_edac_dev_to_global_list">add_edac_dev_to_global_list</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col0 decl" id="150edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="150edac_dev" data-ref-filename="150edac_dev">edac_dev</dfn>)</td></tr>
<tr><th id="274">274</th><td>{</td></tr>
<tr><th id="275">275</th><td>	<b>struct</b> <a class="type" href="../../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> *<dfn class="local col1 decl" id="151item" title='item' data-type='struct list_head *' data-ref="151item" data-ref-filename="151item">item</dfn>, *<dfn class="local col2 decl" id="152insert_before" title='insert_before' data-type='struct list_head *' data-ref="152insert_before" data-ref-filename="152insert_before">insert_before</dfn>;</td></tr>
<tr><th id="276">276</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col3 decl" id="153rover" title='rover' data-type='struct edac_device_ctl_info *' data-ref="153rover" data-ref-filename="153rover">rover</dfn>;</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>	<a class="local col2 ref" href="#152insert_before" title='insert_before' data-ref="152insert_before" data-ref-filename="152insert_before">insert_before</a> = &amp;<a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list">edac_device_list</a>;</td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td>	<i>/* Determine if already on the list */</i></td></tr>
<tr><th id="281">281</th><td>	<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a> = <a class="tu ref fn" href="#find_edac_device_by_dev" title='find_edac_device_by_dev' data-use='c' data-ref="find_edac_device_by_dev" data-ref-filename="find_edac_device_by_dev">find_edac_device_by_dev</a>(<a class="local col0 ref" href="#150edac_dev" title='edac_dev' data-ref="150edac_dev" data-ref-filename="150edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev" title='edac_device_ctl_info::dev' data-ref="edac_device_ctl_info::dev" data-ref-filename="edac_device_ctl_info..dev">dev</a>);</td></tr>
<tr><th id="282">282</th><td>	<b>if</b> (<a class="macro" href="../../include/linux/compiler.h.html#77" title="__builtin_expect(!!(rover != ((void *)0)), 0)" data-ref="_M/unlikely">unlikely</a>(<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a> != <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>))</td></tr>
<tr><th id="283">283</th><td>		<b>goto</b> <a class="lbl" href="#154fail0" data-ref="154fail0" data-ref-filename="154fail0">fail0</a>;</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>	<i>/* Insert in ascending order by 'dev_idx', so find position */</i></td></tr>
<tr><th id="286">286</th><td>	<a class="macro" href="../../include/linux/list.h.html#425" title="for (item = (&amp;edac_device_list)-&gt;next; item != (&amp;edac_device_list); item = item-&gt;next)" data-ref="_M/list_for_each">list_for_each</a>(<a class="local col1 ref" href="#151item" title='item' data-ref="151item" data-ref-filename="151item">item</a>, &amp;<a class="tu ref" href="#35" title='edac_device_list' data-use='a' data-ref="edac_device_list" data-ref-filename="edac_device_list">edac_device_list</a>) {</td></tr>
<tr><th id="287">287</th><td>		<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a> = <a class="macro" href="../../include/linux/list.h.html#365" title="({ void *__mptr = (void *)(item); do { bool __cond = !(!(!__builtin_types_compatible_p(typeof(*(item)), typeof(((struct edac_device_ctl_info *)0)-&gt;link)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(item)), typeof(void)))); extern void __compiletime_assert_287(void) ; if (__cond) __compiletime_assert_287(); do { ((void)sizeof(char[1 - 2 * __cond])); } while (0); } while (0); ((struct edac_device_ctl_info *)(__mptr - __builtin_offsetof(struct edac_device_ctl_info, link))); })" data-ref="_M/list_entry">list_entry</a>(<a class="local col1 ref" href="#151item" title='item' data-ref="151item" data-ref-filename="151item">item</a>, <b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a>, <a class="ref field" href="edac_device.h.html#edac_device_ctl_info::link" title='edac_device_ctl_info::link' data-ref="edac_device_ctl_info::link" data-ref-filename="edac_device_ctl_info..link">link</a>);</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td>		<b>if</b> (<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a> &gt;= <a class="local col0 ref" href="#150edac_dev" title='edac_dev' data-ref="150edac_dev" data-ref-filename="150edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a>) {</td></tr>
<tr><th id="290">290</th><td>			<b>if</b> (<a class="macro" href="../../include/linux/compiler.h.html#77" title="__builtin_expect(!!(rover-&gt;dev_idx == edac_dev-&gt;dev_idx), 0)" data-ref="_M/unlikely">unlikely</a>(<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a> == <a class="local col0 ref" href="#150edac_dev" title='edac_dev' data-ref="150edac_dev" data-ref-filename="150edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a>))</td></tr>
<tr><th id="291">291</th><td>				<b>goto</b> <a class="lbl" href="#155fail1" data-ref="155fail1" data-ref-filename="155fail1">fail1</a>;</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td>			<a class="local col2 ref" href="#152insert_before" title='insert_before' data-ref="152insert_before" data-ref-filename="152insert_before">insert_before</a> = <a class="local col1 ref" href="#151item" title='item' data-ref="151item" data-ref-filename="151item">item</a>;</td></tr>
<tr><th id="294">294</th><td>			<b>break</b>;</td></tr>
<tr><th id="295">295</th><td>		}</td></tr>
<tr><th id="296">296</th><td>	}</td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td>	<a class="ref fn" href="../../include/linux/rculist.h.html#list_add_tail_rcu" title='list_add_tail_rcu' data-ref="list_add_tail_rcu" data-ref-filename="list_add_tail_rcu">list_add_tail_rcu</a>(&amp;<a class="local col0 ref" href="#150edac_dev" title='edac_dev' data-ref="150edac_dev" data-ref-filename="150edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::link" title='edac_device_ctl_info::link' data-ref="edac_device_ctl_info::link" data-ref-filename="edac_device_ctl_info..link">link</a>, <a class="local col2 ref" href="#152insert_before" title='insert_before' data-ref="152insert_before" data-ref-filename="152insert_before">insert_before</a>);</td></tr>
<tr><th id="299">299</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td><dfn class="lbl" id="154fail0" data-ref="154fail0" data-ref-filename="154fail0">fail0</dfn>:</td></tr>
<tr><th id="302">302</th><td>	<a class="macro" href="edac_mc.h.html#48" title="printk(&quot;\001&quot; &quot;4&quot; &quot;EDAC &quot; &quot;MC&quot; &quot;: &quot; &quot;%s (%s) %s %s already assigned %d\n&quot;, dev_name(rover-&gt;dev), (rover)-&gt;dev_name, rover-&gt;mod_name, rover-&gt;ctl_name, rover-&gt;dev_idx)" data-ref="_M/edac_printk">edac_printk</a>(<a class="macro" href="../../include/linux/kern_levels.h.html#12" title="&quot;\001&quot; &quot;4&quot;" data-ref="_M/KERN_WARNING">KERN_WARNING</a>, <a class="macro" href="edac_mc.h.html#64" title="&quot;MC&quot;" data-ref="_M/EDAC_MC">EDAC_MC</a>,</td></tr>
<tr><th id="303">303</th><td>			<q>"%s (%s) %s %s already assigned %d\n"</q>,</td></tr>
<tr><th id="304">304</th><td>			<a class="ref fn" href="../../include/linux/device.h.html#dev_name" title='dev_name' data-ref="dev_name" data-ref-filename="dev_name">dev_name</a>(<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev" title='edac_device_ctl_info::dev' data-ref="edac_device_ctl_info::dev" data-ref-filename="edac_device_ctl_info..dev">dev</a>), edac_dev_name(<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>),</td></tr>
<tr><th id="305">305</th><td>			<a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::mod_name" title='edac_device_ctl_info::mod_name' data-ref="edac_device_ctl_info::mod_name" data-ref-filename="edac_device_ctl_info..mod_name">mod_name</a>, <a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::ctl_name" title='edac_device_ctl_info::ctl_name' data-ref="edac_device_ctl_info::ctl_name" data-ref-filename="edac_device_ctl_info..ctl_name">ctl_name</a>, <a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a>);</td></tr>
<tr><th id="306">306</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="307">307</th><td></td></tr>
<tr><th id="308">308</th><td><dfn class="lbl" id="155fail1" data-ref="155fail1" data-ref-filename="155fail1">fail1</dfn>:</td></tr>
<tr><th id="309">309</th><td>	<a class="macro" href="edac_mc.h.html#48" title="printk(&quot;\001&quot; &quot;4&quot; &quot;EDAC &quot; &quot;MC&quot; &quot;: &quot; &quot;bug in low-level driver: attempt to assign\n&quot; &quot;    duplicate dev_idx %d in %s()\n&quot;, rover-&gt;dev_idx, __func__)" data-ref="_M/edac_printk">edac_printk</a>(<a class="macro" href="../../include/linux/kern_levels.h.html#12" title="&quot;\001&quot; &quot;4&quot;" data-ref="_M/KERN_WARNING">KERN_WARNING</a>, <a class="macro" href="edac_mc.h.html#64" title="&quot;MC&quot;" data-ref="_M/EDAC_MC">EDAC_MC</a>,</td></tr>
<tr><th id="310">310</th><td>			<q>"bug in low-level driver: attempt to assign\n"</q></td></tr>
<tr><th id="311">311</th><td>			<q>"    duplicate dev_idx %d in %s()\n"</q>, <a class="local col3 ref" href="#153rover" title='rover' data-ref="153rover" data-ref-filename="153rover">rover</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a>,</td></tr>
<tr><th id="312">312</th><td>			<b>__func__</b>);</td></tr>
<tr><th id="313">313</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="314">314</th><td>}</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td><i  data-doc="del_edac_device_from_global_list">/*</i></td></tr>
<tr><th id="317">317</th><td><i  data-doc="del_edac_device_from_global_list"> * del_edac_device_from_global_list</i></td></tr>
<tr><th id="318">318</th><td><i  data-doc="del_edac_device_from_global_list"> */</i></td></tr>
<tr><th id="319">319</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="del_edac_device_from_global_list" title='del_edac_device_from_global_list' data-type='void del_edac_device_from_global_list(struct edac_device_ctl_info * edac_device)' data-ref="del_edac_device_from_global_list" data-ref-filename="del_edac_device_from_global_list">del_edac_device_from_global_list</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a></td></tr>
<tr><th id="320">320</th><td>						*<dfn class="local col6 decl" id="156edac_device" title='edac_device' data-type='struct edac_device_ctl_info *' data-ref="156edac_device" data-ref-filename="156edac_device">edac_device</dfn>)</td></tr>
<tr><th id="321">321</th><td>{</td></tr>
<tr><th id="322">322</th><td>	<a class="ref fn" href="../../include/linux/rculist.h.html#list_del_rcu" title='list_del_rcu' data-ref="list_del_rcu" data-ref-filename="list_del_rcu">list_del_rcu</a>(&amp;<a class="local col6 ref" href="#156edac_device" title='edac_device' data-ref="156edac_device" data-ref-filename="156edac_device">edac_device</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::link" title='edac_device_ctl_info::link' data-ref="edac_device_ctl_info::link" data-ref-filename="edac_device_ctl_info..link">link</a>);</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>	<i>/* these are for safe removal of devices from global list while</i></td></tr>
<tr><th id="325">325</th><td><i>	 * NMI handlers may be traversing list</i></td></tr>
<tr><th id="326">326</th><td><i>	 */</i></td></tr>
<tr><th id="327">327</th><td>	<a class="ref fn" href="../../include/linux/rcupdate.h.html#synchronize_rcu" title='synchronize_rcu' data-ref="synchronize_rcu" data-ref-filename="synchronize_rcu">synchronize_rcu</a>();</td></tr>
<tr><th id="328">328</th><td>	<a class="ref fn" href="../../include/linux/list.h.html#INIT_LIST_HEAD" title='INIT_LIST_HEAD' data-ref="INIT_LIST_HEAD" data-ref-filename="INIT_LIST_HEAD">INIT_LIST_HEAD</a>(&amp;<a class="local col6 ref" href="#156edac_device" title='edac_device' data-ref="156edac_device" data-ref-filename="156edac_device">edac_device</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::link" title='edac_device_ctl_info::link' data-ref="edac_device_ctl_info::link" data-ref-filename="edac_device_ctl_info..link">link</a>);</td></tr>
<tr><th id="329">329</th><td>}</td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td><i  data-doc="edac_device_workq_function">/*</i></td></tr>
<tr><th id="332">332</th><td><i  data-doc="edac_device_workq_function"> * edac_device_workq_function</i></td></tr>
<tr><th id="333">333</th><td><i  data-doc="edac_device_workq_function"> *	performs the operation scheduled by a workq request</i></td></tr>
<tr><th id="334">334</th><td><i  data-doc="edac_device_workq_function"> *</i></td></tr>
<tr><th id="335">335</th><td><i  data-doc="edac_device_workq_function"> *	this workq is embedded within an edac_device_ctl_info</i></td></tr>
<tr><th id="336">336</th><td><i  data-doc="edac_device_workq_function"> *	structure, that needs to be polled for possible error events.</i></td></tr>
<tr><th id="337">337</th><td><i  data-doc="edac_device_workq_function"> *</i></td></tr>
<tr><th id="338">338</th><td><i  data-doc="edac_device_workq_function"> *	This operation is to acquire the list mutex lock</i></td></tr>
<tr><th id="339">339</th><td><i  data-doc="edac_device_workq_function"> *	(thus preventing insertation or deletion)</i></td></tr>
<tr><th id="340">340</th><td><i  data-doc="edac_device_workq_function"> *	and then call the device's poll function IFF this device is</i></td></tr>
<tr><th id="341">341</th><td><i  data-doc="edac_device_workq_function"> *	running polled and there is a poll function defined.</i></td></tr>
<tr><th id="342">342</th><td><i  data-doc="edac_device_workq_function"> */</i></td></tr>
<tr><th id="343">343</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="edac_device_workq_function" title='edac_device_workq_function' data-type='void edac_device_workq_function(struct work_struct * work_req)' data-ref="edac_device_workq_function" data-ref-filename="edac_device_workq_function">edac_device_workq_function</dfn>(<b>struct</b> <a class="type" href="../../include/linux/workqueue.h.html#work_struct" title='work_struct' data-ref="work_struct" data-ref-filename="work_struct">work_struct</a> *<dfn class="local col7 decl" id="157work_req" title='work_req' data-type='struct work_struct *' data-ref="157work_req" data-ref-filename="157work_req">work_req</dfn>)</td></tr>
<tr><th id="344">344</th><td>{</td></tr>
<tr><th id="345">345</th><td>	<b>struct</b> <a class="type" href="../../include/linux/workqueue.h.html#delayed_work" title='delayed_work' data-ref="delayed_work" data-ref-filename="delayed_work">delayed_work</a> *<dfn class="local col8 decl" id="158d_work" title='d_work' data-type='struct delayed_work *' data-ref="158d_work" data-ref-filename="158d_work">d_work</dfn> = <a class="ref fn" href="../../include/linux/workqueue.h.html#to_delayed_work" title='to_delayed_work' data-ref="to_delayed_work" data-ref-filename="to_delayed_work">to_delayed_work</a>(<a class="local col7 ref" href="#157work_req" title='work_req' data-ref="157work_req" data-ref-filename="157work_req">work_req</a>);</td></tr>
<tr><th id="346">346</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col9 decl" id="159edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</dfn> = <a class="macro" href="edac_device.h.html#233" title="({ void *__mptr = (void *)(d_work); do { bool __cond = !(!(!__builtin_types_compatible_p(typeof(*(d_work)), typeof(((struct edac_device_ctl_info *)0)-&gt;work)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(d_work)), typeof(void)))); extern void __compiletime_assert_346(void) ; if (__cond) __compiletime_assert_346(); do { ((void)sizeof(char[1 - 2 * __cond])); } while (0); } while (0); ((struct edac_device_ctl_info *)(__mptr - __builtin_offsetof(struct edac_device_ctl_info, work))); })" data-ref="_M/to_edac_device_ctl_work">to_edac_device_ctl_work</a>(<a class="local col8 ref" href="#158d_work" title='d_work' data-ref="158d_work" data-ref-filename="158d_work">d_work</a>);</td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_lock" title='mutex_lock' data-ref="mutex_lock" data-ref-filename="mutex_lock">mutex_lock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td>	<i>/* If we are being removed, bail out immediately */</i></td></tr>
<tr><th id="351">351</th><td>	<b>if</b> (<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> == <a class="macro" href="../../include/linux/edac.h.html#313" title="0x300" data-ref="_M/OP_OFFLINE">OP_OFFLINE</a>) {</td></tr>
<tr><th id="352">352</th><td>		<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="353">353</th><td>		<b>return</b>;</td></tr>
<tr><th id="354">354</th><td>	}</td></tr>
<tr><th id="355">355</th><td></td></tr>
<tr><th id="356">356</th><td>	<i>/* Only poll controllers that are running polled and have a check */</i></td></tr>
<tr><th id="357">357</th><td>	<b>if</b> ((<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> == <a class="macro" href="../../include/linux/edac.h.html#310" title="0x201" data-ref="_M/OP_RUNNING_POLL">OP_RUNNING_POLL</a>) &amp;&amp;</td></tr>
<tr><th id="358">358</th><td>		(<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::edac_check" title='edac_device_ctl_info::edac_check' data-ref="edac_device_ctl_info::edac_check" data-ref-filename="edac_device_ctl_info..edac_check">edac_check</a> != <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>)) {</td></tr>
<tr><th id="359">359</th><td>			<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::edac_check" title='edac_device_ctl_info::edac_check' data-ref="edac_device_ctl_info::edac_check" data-ref-filename="edac_device_ctl_info..edac_check">edac_check</a>(<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>);</td></tr>
<tr><th id="360">360</th><td>	}</td></tr>
<tr><th id="361">361</th><td></td></tr>
<tr><th id="362">362</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="363">363</th><td></td></tr>
<tr><th id="364">364</th><td>	<i>/* Reschedule the workq for the next time period to start again</i></td></tr>
<tr><th id="365">365</th><td><i>	 * if the number of msec is for 1 sec, then adjust to the next</i></td></tr>
<tr><th id="366">366</th><td><i>	 * whole one second to save timers firing all over the period</i></td></tr>
<tr><th id="367">367</th><td><i>	 * between integral seconds</i></td></tr>
<tr><th id="368">368</th><td><i>	 */</i></td></tr>
<tr><th id="369">369</th><td>	<b>if</b> (<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::poll_msec" title='edac_device_ctl_info::poll_msec' data-ref="edac_device_ctl_info::poll_msec" data-ref-filename="edac_device_ctl_info..poll_msec">poll_msec</a> == <var>1000</var>)</td></tr>
<tr><th id="370">370</th><td>		<a class="ref fn" href="edac_module.h.html#edac_queue_work" title='edac_queue_work' data-ref="edac_queue_work" data-ref-filename="edac_queue_work">edac_queue_work</a>(&amp;<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>, <a class="ref fn" href="../../include/linux/timer.h.html#round_jiffies_relative" title='round_jiffies_relative' data-ref="round_jiffies_relative" data-ref-filename="round_jiffies_relative">round_jiffies_relative</a>(<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::delay" title='edac_device_ctl_info::delay' data-ref="edac_device_ctl_info::delay" data-ref-filename="edac_device_ctl_info..delay">delay</a>));</td></tr>
<tr><th id="371">371</th><td>	<b>else</b></td></tr>
<tr><th id="372">372</th><td>		<a class="ref fn" href="edac_module.h.html#edac_queue_work" title='edac_queue_work' data-ref="edac_queue_work" data-ref-filename="edac_queue_work">edac_queue_work</a>(&amp;<a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>, <a class="local col9 ref" href="#159edac_dev" title='edac_dev' data-ref="159edac_dev" data-ref-filename="159edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::delay" title='edac_device_ctl_info::delay' data-ref="edac_device_ctl_info::delay" data-ref-filename="edac_device_ctl_info..delay">delay</a>);</td></tr>
<tr><th id="373">373</th><td>}</td></tr>
<tr><th id="374">374</th><td></td></tr>
<tr><th id="375">375</th><td><i  data-doc="edac_device_workq_setup">/*</i></td></tr>
<tr><th id="376">376</th><td><i  data-doc="edac_device_workq_setup"> * edac_device_workq_setup</i></td></tr>
<tr><th id="377">377</th><td><i  data-doc="edac_device_workq_setup"> *	initialize a workq item for this edac_device instance</i></td></tr>
<tr><th id="378">378</th><td><i  data-doc="edac_device_workq_setup"> *	passing in the new delay period in msec</i></td></tr>
<tr><th id="379">379</th><td><i  data-doc="edac_device_workq_setup"> */</i></td></tr>
<tr><th id="380">380</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="edac_device_workq_setup" title='edac_device_workq_setup' data-type='void edac_device_workq_setup(struct edac_device_ctl_info * edac_dev, unsigned int msec)' data-ref="edac_device_workq_setup" data-ref-filename="edac_device_workq_setup">edac_device_workq_setup</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col0 decl" id="160edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</dfn>,</td></tr>
<tr><th id="381">381</th><td>				    <em>unsigned</em> <dfn class="local col1 decl" id="161msec" title='msec' data-type='unsigned int' data-ref="161msec" data-ref-filename="161msec">msec</dfn>)</td></tr>
<tr><th id="382">382</th><td>{</td></tr>
<tr><th id="383">383</th><td>	<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;\n&quot;, __func__); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>0</var>, <q>"\n"</q>);</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td>	<i>/* take the arg 'msec' and set it into the control structure</i></td></tr>
<tr><th id="386">386</th><td><i>	 * to used in the time period calculation</i></td></tr>
<tr><th id="387">387</th><td><i>	 * then calc the number of jiffies that represents</i></td></tr>
<tr><th id="388">388</th><td><i>	 */</i></td></tr>
<tr><th id="389">389</th><td>	<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::poll_msec" title='edac_device_ctl_info::poll_msec' data-ref="edac_device_ctl_info::poll_msec" data-ref-filename="edac_device_ctl_info..poll_msec">poll_msec</a> = <a class="local col1 ref" href="#161msec" title='msec' data-ref="161msec" data-ref-filename="161msec">msec</a>;</td></tr>
<tr><th id="390">390</th><td>	<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::delay" title='edac_device_ctl_info::delay' data-ref="edac_device_ctl_info::delay" data-ref-filename="edac_device_ctl_info..delay">delay</a> = <a class="ref fn" href="../../include/linux/jiffies.h.html#msecs_to_jiffies" title='msecs_to_jiffies' data-ref="msecs_to_jiffies" data-ref-filename="msecs_to_jiffies">msecs_to_jiffies</a>(<a class="local col1 ref" href="#161msec" title='msec' data-ref="161msec" data-ref-filename="161msec">msec</a>);</td></tr>
<tr><th id="391">391</th><td></td></tr>
<tr><th id="392">392</th><td>	<a class="macro" href="../../include/linux/workqueue.h.html#257" title="do { do { __init_work(((&amp;(&amp;edac_dev-&gt;work)-&gt;work)), 0); ((&amp;(&amp;edac_dev-&gt;work)-&gt;work))-&gt;data = (atomic_long_t) { ((unsigned long)WORK_STRUCT_NO_POOL) }; INIT_LIST_HEAD(&amp;((&amp;(&amp;edac_dev-&gt;work)-&gt;work))-&gt;entry); ((&amp;(&amp;edac_dev-&gt;work)-&gt;work))-&gt;func = (((edac_device_workq_function))); } while (0); init_timer_key((&amp;(&amp;edac_dev-&gt;work)-&gt;timer), (delayed_work_timer_fn), ((0) | 0x00200000), ((void *)0), ((void *)0)); } while (0)" data-ref="_M/INIT_DELAYED_WORK">INIT_DELAYED_WORK</a>(&amp;<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>, <a class="tu ref fn" href="#edac_device_workq_function" title='edac_device_workq_function' data-use='r' data-ref="edac_device_workq_function" data-ref-filename="edac_device_workq_function">edac_device_workq_function</a>);</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td>	<i>/* optimize here for the 1 second case, which will be normal value, to</i></td></tr>
<tr><th id="395">395</th><td><i>	 * fire ON the 1 second time event. This helps reduce all sorts of</i></td></tr>
<tr><th id="396">396</th><td><i>	 * timers firing on sub-second basis, while they are happy</i></td></tr>
<tr><th id="397">397</th><td><i>	 * to fire together on the 1 second exactly</i></td></tr>
<tr><th id="398">398</th><td><i>	 */</i></td></tr>
<tr><th id="399">399</th><td>	<b>if</b> (<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::poll_msec" title='edac_device_ctl_info::poll_msec' data-ref="edac_device_ctl_info::poll_msec" data-ref-filename="edac_device_ctl_info..poll_msec">poll_msec</a> == <var>1000</var>)</td></tr>
<tr><th id="400">400</th><td>		<a class="ref fn" href="edac_module.h.html#edac_queue_work" title='edac_queue_work' data-ref="edac_queue_work" data-ref-filename="edac_queue_work">edac_queue_work</a>(&amp;<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>, <a class="ref fn" href="../../include/linux/timer.h.html#round_jiffies_relative" title='round_jiffies_relative' data-ref="round_jiffies_relative" data-ref-filename="round_jiffies_relative">round_jiffies_relative</a>(<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::delay" title='edac_device_ctl_info::delay' data-ref="edac_device_ctl_info::delay" data-ref-filename="edac_device_ctl_info..delay">delay</a>));</td></tr>
<tr><th id="401">401</th><td>	<b>else</b></td></tr>
<tr><th id="402">402</th><td>		<a class="ref fn" href="edac_module.h.html#edac_queue_work" title='edac_queue_work' data-ref="edac_queue_work" data-ref-filename="edac_queue_work">edac_queue_work</a>(&amp;<a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>, <a class="local col0 ref" href="#160edac_dev" title='edac_dev' data-ref="160edac_dev" data-ref-filename="160edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::delay" title='edac_device_ctl_info::delay' data-ref="edac_device_ctl_info::delay" data-ref-filename="edac_device_ctl_info..delay">delay</a>);</td></tr>
<tr><th id="403">403</th><td>}</td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td><i  data-doc="edac_device_workq_teardown">/*</i></td></tr>
<tr><th id="406">406</th><td><i  data-doc="edac_device_workq_teardown"> * edac_device_workq_teardown</i></td></tr>
<tr><th id="407">407</th><td><i  data-doc="edac_device_workq_teardown"> *	stop the workq processing on this edac_dev</i></td></tr>
<tr><th id="408">408</th><td><i  data-doc="edac_device_workq_teardown"> */</i></td></tr>
<tr><th id="409">409</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="edac_device_workq_teardown" title='edac_device_workq_teardown' data-type='void edac_device_workq_teardown(struct edac_device_ctl_info * edac_dev)' data-ref="edac_device_workq_teardown" data-ref-filename="edac_device_workq_teardown">edac_device_workq_teardown</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col2 decl" id="162edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="162edac_dev" data-ref-filename="162edac_dev">edac_dev</dfn>)</td></tr>
<tr><th id="410">410</th><td>{</td></tr>
<tr><th id="411">411</th><td>	<b>if</b> (!<a class="local col2 ref" href="#162edac_dev" title='edac_dev' data-ref="162edac_dev" data-ref-filename="162edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::edac_check" title='edac_device_ctl_info::edac_check' data-ref="edac_device_ctl_info::edac_check" data-ref-filename="edac_device_ctl_info..edac_check">edac_check</a>)</td></tr>
<tr><th id="412">412</th><td>		<b>return</b>;</td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td>	<a class="local col2 ref" href="#162edac_dev" title='edac_dev' data-ref="162edac_dev" data-ref-filename="162edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> = <a class="macro" href="../../include/linux/edac.h.html#313" title="0x300" data-ref="_M/OP_OFFLINE">OP_OFFLINE</a>;</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td>	<a class="ref fn" href="edac_module.h.html#edac_stop_work" title='edac_stop_work' data-ref="edac_stop_work" data-ref-filename="edac_stop_work">edac_stop_work</a>(&amp;<a class="local col2 ref" href="#162edac_dev" title='edac_dev' data-ref="162edac_dev" data-ref-filename="162edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>);</td></tr>
<tr><th id="417">417</th><td>}</td></tr>
<tr><th id="418">418</th><td></td></tr>
<tr><th id="419">419</th><td><i>/*</i></td></tr>
<tr><th id="420">420</th><td><i> * edac_device_reset_delay_period</i></td></tr>
<tr><th id="421">421</th><td><i> *</i></td></tr>
<tr><th id="422">422</th><td><i> *	need to stop any outstanding workq queued up at this time</i></td></tr>
<tr><th id="423">423</th><td><i> *	because we will be resetting the sleep time.</i></td></tr>
<tr><th id="424">424</th><td><i> *	Then restart the workq on the new delay</i></td></tr>
<tr><th id="425">425</th><td><i> */</i></td></tr>
<tr><th id="426">426</th><td><em>void</em> <dfn class="decl def fn" id="edac_device_reset_delay_period" title='edac_device_reset_delay_period' data-ref="edac_device_reset_delay_period" data-ref-filename="edac_device_reset_delay_period">edac_device_reset_delay_period</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col3 decl" id="163edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="163edac_dev" data-ref-filename="163edac_dev">edac_dev</dfn>,</td></tr>
<tr><th id="427">427</th><td>					<em>unsigned</em> <em>long</em> <dfn class="local col4 decl" id="164value" title='value' data-type='unsigned long' data-ref="164value" data-ref-filename="164value">value</dfn>)</td></tr>
<tr><th id="428">428</th><td>{</td></tr>
<tr><th id="429">429</th><td>	<em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="165jiffs" title='jiffs' data-type='unsigned long' data-ref="165jiffs" data-ref-filename="165jiffs">jiffs</dfn> = <a class="ref fn" href="../../include/linux/jiffies.h.html#msecs_to_jiffies" title='msecs_to_jiffies' data-ref="msecs_to_jiffies" data-ref-filename="msecs_to_jiffies">msecs_to_jiffies</a>(<a class="local col4 ref" href="#164value" title='value' data-ref="164value" data-ref-filename="164value">value</a>);</td></tr>
<tr><th id="430">430</th><td></td></tr>
<tr><th id="431">431</th><td>	<b>if</b> (<a class="local col4 ref" href="#164value" title='value' data-ref="164value" data-ref-filename="164value">value</a> == <var>1000</var>)</td></tr>
<tr><th id="432">432</th><td>		<a class="local col5 ref" href="#165jiffs" title='jiffs' data-ref="165jiffs" data-ref-filename="165jiffs">jiffs</a> = <a class="ref fn" href="../../include/linux/timer.h.html#round_jiffies_relative" title='round_jiffies_relative' data-ref="round_jiffies_relative" data-ref-filename="round_jiffies_relative">round_jiffies_relative</a>(<a class="local col4 ref" href="#164value" title='value' data-ref="164value" data-ref-filename="164value">value</a>);</td></tr>
<tr><th id="433">433</th><td></td></tr>
<tr><th id="434">434</th><td>	<a class="local col3 ref" href="#163edac_dev" title='edac_dev' data-ref="163edac_dev" data-ref-filename="163edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::poll_msec" title='edac_device_ctl_info::poll_msec' data-ref="edac_device_ctl_info::poll_msec" data-ref-filename="edac_device_ctl_info..poll_msec">poll_msec</a> = <a class="local col4 ref" href="#164value" title='value' data-ref="164value" data-ref-filename="164value">value</a>;</td></tr>
<tr><th id="435">435</th><td>	<a class="local col3 ref" href="#163edac_dev" title='edac_dev' data-ref="163edac_dev" data-ref-filename="163edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::delay" title='edac_device_ctl_info::delay' data-ref="edac_device_ctl_info::delay" data-ref-filename="edac_device_ctl_info..delay">delay</a>	    = <a class="local col5 ref" href="#165jiffs" title='jiffs' data-ref="165jiffs" data-ref-filename="165jiffs">jiffs</a>;</td></tr>
<tr><th id="436">436</th><td></td></tr>
<tr><th id="437">437</th><td>	<a class="ref fn" href="edac_module.h.html#edac_mod_work" title='edac_mod_work' data-ref="edac_mod_work" data-ref-filename="edac_mod_work">edac_mod_work</a>(&amp;<a class="local col3 ref" href="#163edac_dev" title='edac_dev' data-ref="163edac_dev" data-ref-filename="163edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::work" title='edac_device_ctl_info::work' data-ref="edac_device_ctl_info::work" data-ref-filename="edac_device_ctl_info..work">work</a>, <a class="local col5 ref" href="#165jiffs" title='jiffs' data-ref="165jiffs" data-ref-filename="165jiffs">jiffs</a>);</td></tr>
<tr><th id="438">438</th><td>}</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td><em>int</em> <dfn class="decl def fn" id="edac_device_alloc_index" title='edac_device_alloc_index' data-ref="edac_device_alloc_index" data-ref-filename="edac_device_alloc_index">edac_device_alloc_index</dfn>(<em>void</em>)</td></tr>
<tr><th id="441">441</th><td>{</td></tr>
<tr><th id="442">442</th><td>	<em>static</em> <a class="typedef" href="../../include/linux/types.h.html#atomic_t" title='atomic_t' data-type='struct atomic_t' data-ref="atomic_t" data-ref-filename="atomic_t">atomic_t</a> <dfn class="local col6 decl" id="166device_indexes" title='device_indexes' data-type='atomic_t' data-ref="166device_indexes" data-ref-filename="166device_indexes">device_indexes</dfn> = <a class="macro" href="../../arch/x86/include/asm/atomic.h.html#17" title="{ (0) }" data-ref="_M/ATOMIC_INIT">ATOMIC_INIT</a>(<var>0</var>);</td></tr>
<tr><th id="443">443</th><td></td></tr>
<tr><th id="444">444</th><td>	<b>return</b> <a class="macro" href="../../arch/x86/include/asm/atomic.h.html#172" title="(atomic_add_return(1, &amp;device_indexes))" data-ref="_M/atomic_inc_return">atomic_inc_return</a>(&amp;<a class="local col6 ref" href="#166device_indexes" title='device_indexes' data-ref="166device_indexes" data-ref-filename="166device_indexes">device_indexes</a>) - <var>1</var>;</td></tr>
<tr><th id="445">445</th><td>}</td></tr>
<tr><th id="446">446</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_alloc_index) edac_device_alloc_index; static const char __kstrtab_edac_device_alloc_index[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_alloc_index&quot;; static const struct kernel_symbol __ksymtab_edac_device_alloc_index __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_alloc_index&quot;), used)) = { (unsigned long)&amp;edac_device_alloc_index, __kstrtab_edac_device_alloc_index }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_alloc_index" title='edac_device_alloc_index' data-ref="edac_device_alloc_index" data-ref-filename="edac_device_alloc_index"><a class="ref fn" href="#edac_device_alloc_index" title='edac_device_alloc_index' data-ref="edac_device_alloc_index" data-ref-filename="edac_device_alloc_index"><a class="ref fn" href="#edac_device_alloc_index" title='edac_device_alloc_index' data-ref="edac_device_alloc_index" data-ref-filename="edac_device_alloc_index"><a class="ref fn" href="#edac_device_alloc_index" title='edac_device_alloc_index' data-ref="edac_device_alloc_index" data-ref-filename="edac_device_alloc_index">edac_device_alloc_index</a></a></a></a>);</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td><em>int</em> <dfn class="decl def fn" id="edac_device_add_device" title='edac_device_add_device' data-ref="edac_device_add_device" data-ref-filename="edac_device_add_device">edac_device_add_device</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col7 decl" id="167edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</dfn>)</td></tr>
<tr><th id="449">449</th><td>{</td></tr>
<tr><th id="450">450</th><td>	<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;\n&quot;, __func__); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>0</var>, <q>"\n"</q>);</td></tr>
<tr><th id="451">451</th><td></td></tr>
<tr><th id="452">452</th><td><u>#<span data-ppcond="452">ifdef</span> <span class="macro" data-ref="_M/CONFIG_EDAC_DEBUG">CONFIG_EDAC_DEBUG</span></u></td></tr>
<tr><th id="453">453</th><td>	<b>if</b> (edac_debug_level &gt;= <var>3</var>)</td></tr>
<tr><th id="454">454</th><td>		edac_device_dump_device(edac_dev);</td></tr>
<tr><th id="455">455</th><td><u>#<span data-ppcond="452">endif</span></u></td></tr>
<tr><th id="456">456</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_lock" title='mutex_lock' data-ref="mutex_lock" data-ref-filename="mutex_lock">mutex_lock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>	<b>if</b> (<a class="tu ref fn" href="#add_edac_dev_to_global_list" title='add_edac_dev_to_global_list' data-use='c' data-ref="add_edac_dev_to_global_list" data-ref-filename="add_edac_dev_to_global_list">add_edac_dev_to_global_list</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>))</td></tr>
<tr><th id="459">459</th><td>		<b>goto</b> <a class="lbl" href="#168fail0" data-ref="168fail0" data-ref-filename="168fail0">fail0</a>;</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td>	<i>/* set load time so that error rate can be tracked */</i></td></tr>
<tr><th id="462">462</th><td>	<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::start_time" title='edac_device_ctl_info::start_time' data-ref="edac_device_ctl_info::start_time" data-ref-filename="edac_device_ctl_info..start_time">start_time</a> = <a class="ref" href="../../include/linux/jiffies.h.html#jiffies" title='jiffies' data-ref="jiffies" data-ref-filename="jiffies">jiffies</a>;</td></tr>
<tr><th id="463">463</th><td></td></tr>
<tr><th id="464">464</th><td>	<i>/* create this instance's sysfs entries */</i></td></tr>
<tr><th id="465">465</th><td>	<b>if</b> (<a class="ref fn" href="edac_module.h.html#edac_device_create_sysfs" title='edac_device_create_sysfs' data-ref="edac_device_create_sysfs" data-ref-filename="edac_device_create_sysfs">edac_device_create_sysfs</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>)) {</td></tr>
<tr><th id="466">466</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;4&quot; &quot;EDAC DEVICE%d: &quot; &quot;failed to create sysfs device\n&quot;, edac_dev-&gt;dev_idx)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#12" title="&quot;\001&quot; &quot;4&quot;" data-ref="_M/KERN_WARNING">KERN_WARNING</a>,</td></tr>
<tr><th id="467">467</th><td>					<q>"failed to create sysfs device\n"</q>);</td></tr>
<tr><th id="468">468</th><td>		<b>goto</b> <a class="lbl" href="#169fail1" data-ref="169fail1" data-ref-filename="169fail1">fail1</a>;</td></tr>
<tr><th id="469">469</th><td>	}</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td>	<i>/* If there IS a check routine, then we are running POLLED */</i></td></tr>
<tr><th id="472">472</th><td>	<b>if</b> (<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::edac_check" title='edac_device_ctl_info::edac_check' data-ref="edac_device_ctl_info::edac_check" data-ref-filename="edac_device_ctl_info..edac_check">edac_check</a> != <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>) {</td></tr>
<tr><th id="473">473</th><td>		<i>/* This instance is NOW RUNNING */</i></td></tr>
<tr><th id="474">474</th><td>		<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> = <a class="macro" href="../../include/linux/edac.h.html#310" title="0x201" data-ref="_M/OP_RUNNING_POLL">OP_RUNNING_POLL</a>;</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td>		<i>/*</i></td></tr>
<tr><th id="477">477</th><td><i>		 * enable workq processing on this instance,</i></td></tr>
<tr><th id="478">478</th><td><i>		 * default = 1000 msec</i></td></tr>
<tr><th id="479">479</th><td><i>		 */</i></td></tr>
<tr><th id="480">480</th><td>		<a class="tu ref fn" href="#edac_device_workq_setup" title='edac_device_workq_setup' data-use='c' data-ref="edac_device_workq_setup" data-ref-filename="edac_device_workq_setup">edac_device_workq_setup</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>, <var>1000</var>);</td></tr>
<tr><th id="481">481</th><td>	} <b>else</b> {</td></tr>
<tr><th id="482">482</th><td>		<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> = <a class="macro" href="../../include/linux/edac.h.html#311" title="0x202" data-ref="_M/OP_RUNNING_INTERRUPT">OP_RUNNING_INTERRUPT</a>;</td></tr>
<tr><th id="483">483</th><td>	}</td></tr>
<tr><th id="484">484</th><td></td></tr>
<tr><th id="485">485</th><td>	<i>/* Report action taken */</i></td></tr>
<tr><th id="486">486</th><td>	<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;6&quot; &quot;EDAC DEVICE%d: &quot; &quot;Giving out device to module %s controller %s: DEV %s (%s)\n&quot;, edac_dev-&gt;dev_idx, edac_dev-&gt;mod_name, edac_dev-&gt;ctl_name, edac_dev-&gt;dev_name, edac_op_state_to_string(edac_dev-&gt;op_state))" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#14" title="&quot;\001&quot; &quot;6&quot;" data-ref="_M/KERN_INFO">KERN_INFO</a>,</td></tr>
<tr><th id="487">487</th><td>		<q>"Giving out device to module %s controller %s: DEV %s (%s)\n"</q>,</td></tr>
<tr><th id="488">488</th><td>		<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::mod_name" title='edac_device_ctl_info::mod_name' data-ref="edac_device_ctl_info::mod_name" data-ref-filename="edac_device_ctl_info..mod_name">mod_name</a>, <a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::ctl_name" title='edac_device_ctl_info::ctl_name' data-ref="edac_device_ctl_info::ctl_name" data-ref-filename="edac_device_ctl_info..ctl_name">ctl_name</a>, <a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_name" title='edac_device_ctl_info::dev_name' data-ref="edac_device_ctl_info::dev_name" data-ref-filename="edac_device_ctl_info..dev_name">dev_name</a>,</td></tr>
<tr><th id="489">489</th><td>		<a class="ref fn" href="edac_mc.h.html#edac_op_state_to_string" title='edac_op_state_to_string' data-ref="edac_op_state_to_string" data-ref-filename="edac_op_state_to_string">edac_op_state_to_string</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a>));</td></tr>
<tr><th id="490">490</th><td></td></tr>
<tr><th id="491">491</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="492">492</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="493">493</th><td></td></tr>
<tr><th id="494">494</th><td><dfn class="lbl" id="169fail1" data-ref="169fail1" data-ref-filename="169fail1">fail1</dfn>:</td></tr>
<tr><th id="495">495</th><td>	<i>/* Some error, so remove the entry from the lsit */</i></td></tr>
<tr><th id="496">496</th><td>	<a class="tu ref fn" href="#del_edac_device_from_global_list" title='del_edac_device_from_global_list' data-use='c' data-ref="del_edac_device_from_global_list" data-ref-filename="del_edac_device_from_global_list">del_edac_device_from_global_list</a>(<a class="local col7 ref" href="#167edac_dev" title='edac_dev' data-ref="167edac_dev" data-ref-filename="167edac_dev">edac_dev</a>);</td></tr>
<tr><th id="497">497</th><td></td></tr>
<tr><th id="498">498</th><td><dfn class="lbl" id="168fail0" data-ref="168fail0" data-ref-filename="168fail0">fail0</dfn>:</td></tr>
<tr><th id="499">499</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="500">500</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="501">501</th><td>}</td></tr>
<tr><th id="502">502</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_add_device) edac_device_add_device; static const char __kstrtab_edac_device_add_device[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_add_device&quot;; static const struct kernel_symbol __ksymtab_edac_device_add_device __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_add_device&quot;), used)) = { (unsigned long)&amp;edac_device_add_device, __kstrtab_edac_device_add_device }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_add_device" title='edac_device_add_device' data-ref="edac_device_add_device" data-ref-filename="edac_device_add_device"><a class="ref fn" href="#edac_device_add_device" title='edac_device_add_device' data-ref="edac_device_add_device" data-ref-filename="edac_device_add_device"><a class="ref fn" href="#edac_device_add_device" title='edac_device_add_device' data-ref="edac_device_add_device" data-ref-filename="edac_device_add_device"><a class="ref fn" href="#edac_device_add_device" title='edac_device_add_device' data-ref="edac_device_add_device" data-ref-filename="edac_device_add_device">edac_device_add_device</a></a></a></a>);</td></tr>
<tr><th id="503">503</th><td></td></tr>
<tr><th id="504">504</th><td><b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="decl def fn" id="edac_device_del_device" title='edac_device_del_device' data-ref="edac_device_del_device" data-ref-filename="edac_device_del_device">edac_device_del_device</dfn>(<b>struct</b> <a class="type" href="../../include/linux/device.h.html#device" title='device' data-ref="device" data-ref-filename="device">device</a> *<dfn class="local col0 decl" id="170dev" title='dev' data-type='struct device *' data-ref="170dev" data-ref-filename="170dev">dev</dfn>)</td></tr>
<tr><th id="505">505</th><td>{</td></tr>
<tr><th id="506">506</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col1 decl" id="171edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</dfn>;</td></tr>
<tr><th id="507">507</th><td></td></tr>
<tr><th id="508">508</th><td>	<a class="macro" href="edac_mc.h.html#82" title="do { if (0) printk(&quot;\001&quot; &quot;7&quot; &quot;EDAC &quot; &quot;DEBUG&quot; &quot;: &quot; &quot;%s: &quot; &quot;\n&quot;, __func__); } while (0)" data-ref="_M/edac_dbg">edac_dbg</a>(<var>0</var>, <q>"\n"</q>);</td></tr>
<tr><th id="509">509</th><td></td></tr>
<tr><th id="510">510</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_lock" title='mutex_lock' data-ref="mutex_lock" data-ref-filename="mutex_lock">mutex_lock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="511">511</th><td></td></tr>
<tr><th id="512">512</th><td>	<i>/* Find the structure on the list, if not there, then leave */</i></td></tr>
<tr><th id="513">513</th><td>	<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a> = <a class="tu ref fn" href="#find_edac_device_by_dev" title='find_edac_device_by_dev' data-use='c' data-ref="find_edac_device_by_dev" data-ref-filename="find_edac_device_by_dev">find_edac_device_by_dev</a>(<a class="local col0 ref" href="#170dev" title='dev' data-ref="170dev" data-ref-filename="170dev">dev</a>);</td></tr>
<tr><th id="514">514</th><td>	<b>if</b> (<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a> == <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>) {</td></tr>
<tr><th id="515">515</th><td>		<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="516">516</th><td>		<b>return</b> <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="517">517</th><td>	}</td></tr>
<tr><th id="518">518</th><td></td></tr>
<tr><th id="519">519</th><td>	<i>/* mark this instance as OFFLINE */</i></td></tr>
<tr><th id="520">520</th><td>	<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::op_state" title='edac_device_ctl_info::op_state' data-ref="edac_device_ctl_info::op_state" data-ref-filename="edac_device_ctl_info..op_state">op_state</a> = <a class="macro" href="../../include/linux/edac.h.html#313" title="0x300" data-ref="_M/OP_OFFLINE">OP_OFFLINE</a>;</td></tr>
<tr><th id="521">521</th><td></td></tr>
<tr><th id="522">522</th><td>	<i>/* deregister from global list */</i></td></tr>
<tr><th id="523">523</th><td>	<a class="tu ref fn" href="#del_edac_device_from_global_list" title='del_edac_device_from_global_list' data-use='c' data-ref="del_edac_device_from_global_list" data-ref-filename="del_edac_device_from_global_list">del_edac_device_from_global_list</a>(<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>);</td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td>	<a class="ref fn" href="../../include/linux/mutex.h.html#mutex_unlock" title='mutex_unlock' data-ref="mutex_unlock" data-ref-filename="mutex_unlock">mutex_unlock</a>(&amp;<a class="tu ref" href="#34" title='device_ctls_mutex' data-use='a' data-ref="device_ctls_mutex" data-ref-filename="device_ctls_mutex">device_ctls_mutex</a>);</td></tr>
<tr><th id="526">526</th><td></td></tr>
<tr><th id="527">527</th><td>	<i>/* clear workq processing on this instance */</i></td></tr>
<tr><th id="528">528</th><td>	<a class="tu ref fn" href="#edac_device_workq_teardown" title='edac_device_workq_teardown' data-use='c' data-ref="edac_device_workq_teardown" data-ref-filename="edac_device_workq_teardown">edac_device_workq_teardown</a>(<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>);</td></tr>
<tr><th id="529">529</th><td></td></tr>
<tr><th id="530">530</th><td>	<i>/* Tear down the sysfs entries for this instance */</i></td></tr>
<tr><th id="531">531</th><td>	<a class="ref fn" href="edac_module.h.html#edac_device_remove_sysfs" title='edac_device_remove_sysfs' data-ref="edac_device_remove_sysfs" data-ref-filename="edac_device_remove_sysfs">edac_device_remove_sysfs</a>(<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>);</td></tr>
<tr><th id="532">532</th><td></td></tr>
<tr><th id="533">533</th><td>	<a class="macro" href="edac_mc.h.html#48" title="printk(&quot;\001&quot; &quot;6&quot; &quot;EDAC &quot; &quot;MC&quot; &quot;: &quot; &quot;Removed device %d for %s %s: DEV %s\n&quot;, edac_dev-&gt;dev_idx, edac_dev-&gt;mod_name, edac_dev-&gt;ctl_name, (edac_dev)-&gt;dev_name)" data-ref="_M/edac_printk">edac_printk</a>(<a class="macro" href="../../include/linux/kern_levels.h.html#14" title="&quot;\001&quot; &quot;6&quot;" data-ref="_M/KERN_INFO">KERN_INFO</a>, <a class="macro" href="edac_mc.h.html#64" title="&quot;MC&quot;" data-ref="_M/EDAC_MC">EDAC_MC</a>,</td></tr>
<tr><th id="534">534</th><td>		<q>"Removed device %d for %s %s: DEV %s\n"</q>,</td></tr>
<tr><th id="535">535</th><td>		<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::dev_idx" title='edac_device_ctl_info::dev_idx' data-ref="edac_device_ctl_info::dev_idx" data-ref-filename="edac_device_ctl_info..dev_idx">dev_idx</a>,</td></tr>
<tr><th id="536">536</th><td>		<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::mod_name" title='edac_device_ctl_info::mod_name' data-ref="edac_device_ctl_info::mod_name" data-ref-filename="edac_device_ctl_info..mod_name">mod_name</a>, <a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::ctl_name" title='edac_device_ctl_info::ctl_name' data-ref="edac_device_ctl_info::ctl_name" data-ref-filename="edac_device_ctl_info..ctl_name">ctl_name</a>, edac_dev_name(<a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>));</td></tr>
<tr><th id="537">537</th><td></td></tr>
<tr><th id="538">538</th><td>	<b>return</b> <a class="local col1 ref" href="#171edac_dev" title='edac_dev' data-ref="171edac_dev" data-ref-filename="171edac_dev">edac_dev</a>;</td></tr>
<tr><th id="539">539</th><td>}</td></tr>
<tr><th id="540">540</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_del_device) edac_device_del_device; static const char __kstrtab_edac_device_del_device[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_del_device&quot;; static const struct kernel_symbol __ksymtab_edac_device_del_device __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_del_device&quot;), used)) = { (unsigned long)&amp;edac_device_del_device, __kstrtab_edac_device_del_device }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_del_device" title='edac_device_del_device' data-ref="edac_device_del_device" data-ref-filename="edac_device_del_device"><a class="ref fn" href="#edac_device_del_device" title='edac_device_del_device' data-ref="edac_device_del_device" data-ref-filename="edac_device_del_device"><a class="ref fn" href="#edac_device_del_device" title='edac_device_del_device' data-ref="edac_device_del_device" data-ref-filename="edac_device_del_device"><a class="ref fn" href="#edac_device_del_device" title='edac_device_del_device' data-ref="edac_device_del_device" data-ref-filename="edac_device_del_device">edac_device_del_device</a></a></a></a>);</td></tr>
<tr><th id="541">541</th><td></td></tr>
<tr><th id="542">542</th><td><em>static</em> <a class="macro" href="../../include/linux/compiler-gcc.h.html#83" title="inline __attribute__((unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="tu decl def fn" id="edac_device_get_log_ce" title='edac_device_get_log_ce' data-type='int edac_device_get_log_ce(struct edac_device_ctl_info * edac_dev)' data-ref="edac_device_get_log_ce" data-ref-filename="edac_device_get_log_ce">edac_device_get_log_ce</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col2 decl" id="172edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="172edac_dev" data-ref-filename="172edac_dev">edac_dev</dfn>)</td></tr>
<tr><th id="543">543</th><td>{</td></tr>
<tr><th id="544">544</th><td>	<b>return</b> <a class="local col2 ref" href="#172edac_dev" title='edac_dev' data-ref="172edac_dev" data-ref-filename="172edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::log_ce" title='edac_device_ctl_info::log_ce' data-ref="edac_device_ctl_info::log_ce" data-ref-filename="edac_device_ctl_info..log_ce">log_ce</a>;</td></tr>
<tr><th id="545">545</th><td>}</td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td><em>static</em> <a class="macro" href="../../include/linux/compiler-gcc.h.html#83" title="inline __attribute__((unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="tu decl def fn" id="edac_device_get_log_ue" title='edac_device_get_log_ue' data-type='int edac_device_get_log_ue(struct edac_device_ctl_info * edac_dev)' data-ref="edac_device_get_log_ue" data-ref-filename="edac_device_get_log_ue">edac_device_get_log_ue</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col3 decl" id="173edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="173edac_dev" data-ref-filename="173edac_dev">edac_dev</dfn>)</td></tr>
<tr><th id="548">548</th><td>{</td></tr>
<tr><th id="549">549</th><td>	<b>return</b> <a class="local col3 ref" href="#173edac_dev" title='edac_dev' data-ref="173edac_dev" data-ref-filename="173edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::log_ue" title='edac_device_ctl_info::log_ue' data-ref="edac_device_ctl_info::log_ue" data-ref-filename="edac_device_ctl_info..log_ue">log_ue</a>;</td></tr>
<tr><th id="550">550</th><td>}</td></tr>
<tr><th id="551">551</th><td></td></tr>
<tr><th id="552">552</th><td><em>static</em> <a class="macro" href="../../include/linux/compiler-gcc.h.html#83" title="inline __attribute__((unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="tu decl def fn" id="edac_device_get_panic_on_ue" title='edac_device_get_panic_on_ue' data-type='int edac_device_get_panic_on_ue(struct edac_device_ctl_info * edac_dev)' data-ref="edac_device_get_panic_on_ue" data-ref-filename="edac_device_get_panic_on_ue">edac_device_get_panic_on_ue</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a></td></tr>
<tr><th id="553">553</th><td>					*<dfn class="local col4 decl" id="174edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="174edac_dev" data-ref-filename="174edac_dev">edac_dev</dfn>)</td></tr>
<tr><th id="554">554</th><td>{</td></tr>
<tr><th id="555">555</th><td>	<b>return</b> <a class="local col4 ref" href="#174edac_dev" title='edac_dev' data-ref="174edac_dev" data-ref-filename="174edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::panic_on_ue" title='edac_device_ctl_info::panic_on_ue' data-ref="edac_device_ctl_info::panic_on_ue" data-ref-filename="edac_device_ctl_info..panic_on_ue">panic_on_ue</a>;</td></tr>
<tr><th id="556">556</th><td>}</td></tr>
<tr><th id="557">557</th><td></td></tr>
<tr><th id="558">558</th><td><em>void</em> <dfn class="decl def fn" id="edac_device_handle_ce" title='edac_device_handle_ce' data-ref="edac_device_handle_ce" data-ref-filename="edac_device_handle_ce">edac_device_handle_ce</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col5 decl" id="175edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</dfn>,</td></tr>
<tr><th id="559">559</th><td>			<em>int</em> <dfn class="local col6 decl" id="176inst_nr" title='inst_nr' data-type='int' data-ref="176inst_nr" data-ref-filename="176inst_nr">inst_nr</dfn>, <em>int</em> <dfn class="local col7 decl" id="177block_nr" title='block_nr' data-type='int' data-ref="177block_nr" data-ref-filename="177block_nr">block_nr</dfn>, <em>const</em> <em>char</em> *<dfn class="local col8 decl" id="178msg" title='msg' data-type='const char *' data-ref="178msg" data-ref-filename="178msg">msg</dfn>)</td></tr>
<tr><th id="560">560</th><td>{</td></tr>
<tr><th id="561">561</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_instance" title='edac_device_instance' data-ref="edac_device_instance" data-ref-filename="edac_device_instance">edac_device_instance</a> *<dfn class="local col9 decl" id="179instance" title='instance' data-type='struct edac_device_instance *' data-ref="179instance" data-ref-filename="179instance">instance</dfn>;</td></tr>
<tr><th id="562">562</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_block" title='edac_device_block' data-ref="edac_device_block" data-ref-filename="edac_device_block">edac_device_block</a> *<dfn class="local col0 decl" id="180block" title='block' data-type='struct edac_device_block *' data-ref="180block" data-ref-filename="180block">block</dfn> = <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>	<b>if</b> ((<a class="local col6 ref" href="#176inst_nr" title='inst_nr' data-ref="176inst_nr" data-ref-filename="176inst_nr">inst_nr</a> &gt;= <a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::nr_instances" title='edac_device_ctl_info::nr_instances' data-ref="edac_device_ctl_info::nr_instances" data-ref-filename="edac_device_ctl_info..nr_instances">nr_instances</a>) || (<a class="local col6 ref" href="#176inst_nr" title='inst_nr' data-ref="176inst_nr" data-ref-filename="176inst_nr">inst_nr</a> &lt; <var>0</var>)) {</td></tr>
<tr><th id="565">565</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;3&quot; &quot;EDAC DEVICE%d: &quot; &quot;INTERNAL ERROR: &apos;instance&apos; out of range &quot; &quot;(%d &gt;= %d)\n&quot;, edac_dev-&gt;dev_idx, inst_nr, edac_dev-&gt;nr_instances)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#11" title="&quot;\001&quot; &quot;3&quot;" data-ref="_M/KERN_ERR">KERN_ERR</a>,</td></tr>
<tr><th id="566">566</th><td>				<q>"INTERNAL ERROR: 'instance' out of range "</q></td></tr>
<tr><th id="567">567</th><td>				<q>"(%d &gt;= %d)\n"</q>, <a class="local col6 ref" href="#176inst_nr" title='inst_nr' data-ref="176inst_nr" data-ref-filename="176inst_nr">inst_nr</a>,</td></tr>
<tr><th id="568">568</th><td>				<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::nr_instances" title='edac_device_ctl_info::nr_instances' data-ref="edac_device_ctl_info::nr_instances" data-ref-filename="edac_device_ctl_info..nr_instances">nr_instances</a>);</td></tr>
<tr><th id="569">569</th><td>		<b>return</b>;</td></tr>
<tr><th id="570">570</th><td>	}</td></tr>
<tr><th id="571">571</th><td></td></tr>
<tr><th id="572">572</th><td>	<a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a> = <a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::instances" title='edac_device_ctl_info::instances' data-ref="edac_device_ctl_info::instances" data-ref-filename="edac_device_ctl_info..instances">instances</a> + <a class="local col6 ref" href="#176inst_nr" title='inst_nr' data-ref="176inst_nr" data-ref-filename="176inst_nr">inst_nr</a>;</td></tr>
<tr><th id="573">573</th><td></td></tr>
<tr><th id="574">574</th><td>	<b>if</b> ((<a class="local col7 ref" href="#177block_nr" title='block_nr' data-ref="177block_nr" data-ref-filename="177block_nr">block_nr</a> &gt;= <a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a>) || (<a class="local col7 ref" href="#177block_nr" title='block_nr' data-ref="177block_nr" data-ref-filename="177block_nr">block_nr</a> &lt; <var>0</var>)) {</td></tr>
<tr><th id="575">575</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;3&quot; &quot;EDAC DEVICE%d: &quot; &quot;INTERNAL ERROR: instance %d &apos;block&apos; &quot; &quot;out of range (%d &gt;= %d)\n&quot;, edac_dev-&gt;dev_idx, inst_nr, block_nr, instance-&gt;nr_blocks)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#11" title="&quot;\001&quot; &quot;3&quot;" data-ref="_M/KERN_ERR">KERN_ERR</a>,</td></tr>
<tr><th id="576">576</th><td>				<q>"INTERNAL ERROR: instance %d 'block' "</q></td></tr>
<tr><th id="577">577</th><td>				<q>"out of range (%d &gt;= %d)\n"</q>,</td></tr>
<tr><th id="578">578</th><td>				<a class="local col6 ref" href="#176inst_nr" title='inst_nr' data-ref="176inst_nr" data-ref-filename="176inst_nr">inst_nr</a>, <a class="local col7 ref" href="#177block_nr" title='block_nr' data-ref="177block_nr" data-ref-filename="177block_nr">block_nr</a>,</td></tr>
<tr><th id="579">579</th><td>				<a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a>);</td></tr>
<tr><th id="580">580</th><td>		<b>return</b>;</td></tr>
<tr><th id="581">581</th><td>	}</td></tr>
<tr><th id="582">582</th><td></td></tr>
<tr><th id="583">583</th><td>	<b>if</b> (<a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="584">584</th><td>		<a class="local col0 ref" href="#180block" title='block' data-ref="180block" data-ref-filename="180block">block</a> = <a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::blocks" title='edac_device_instance::blocks' data-ref="edac_device_instance::blocks" data-ref-filename="edac_device_instance..blocks">blocks</a> + <a class="local col7 ref" href="#177block_nr" title='block_nr' data-ref="177block_nr" data-ref-filename="177block_nr">block_nr</a>;</td></tr>
<tr><th id="585">585</th><td>		<a class="local col0 ref" href="#180block" title='block' data-ref="180block" data-ref-filename="180block">block</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::counters" title='edac_device_block::counters' data-ref="edac_device_block::counters" data-ref-filename="edac_device_block..counters">counters</a>.<a class="ref field" href="edac_device.h.html#edac_device_counter::ce_count" title='edac_device_counter::ce_count' data-ref="edac_device_counter::ce_count" data-ref-filename="edac_device_counter..ce_count">ce_count</a>++;</td></tr>
<tr><th id="586">586</th><td>	}</td></tr>
<tr><th id="587">587</th><td></td></tr>
<tr><th id="588">588</th><td>	<i>/* Propagate the count up the 'totals' tree */</i></td></tr>
<tr><th id="589">589</th><td>	<a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::counters" title='edac_device_instance::counters' data-ref="edac_device_instance::counters" data-ref-filename="edac_device_instance..counters">counters</a>.<a class="ref field" href="edac_device.h.html#edac_device_counter::ce_count" title='edac_device_counter::ce_count' data-ref="edac_device_counter::ce_count" data-ref-filename="edac_device_counter..ce_count">ce_count</a>++;</td></tr>
<tr><th id="590">590</th><td>	<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::counters" title='edac_device_ctl_info::counters' data-ref="edac_device_ctl_info::counters" data-ref-filename="edac_device_ctl_info..counters">counters</a>.<a class="ref field" href="edac_device.h.html#edac_device_counter::ce_count" title='edac_device_counter::ce_count' data-ref="edac_device_counter::ce_count" data-ref-filename="edac_device_counter..ce_count">ce_count</a>++;</td></tr>
<tr><th id="591">591</th><td></td></tr>
<tr><th id="592">592</th><td>	<b>if</b> (<a class="tu ref fn" href="#edac_device_get_log_ce" title='edac_device_get_log_ce' data-use='c' data-ref="edac_device_get_log_ce" data-ref-filename="edac_device_get_log_ce">edac_device_get_log_ce</a>(<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>))</td></tr>
<tr><th id="593">593</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;4&quot; &quot;EDAC DEVICE%d: &quot; &quot;CE: %s instance: %s block: %s &apos;%s&apos;\n&quot;, edac_dev-&gt;dev_idx, edac_dev-&gt;ctl_name, instance-&gt;name, block ? block-&gt;name : &quot;N/A&quot;, msg)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#12" title="&quot;\001&quot; &quot;4&quot;" data-ref="_M/KERN_WARNING">KERN_WARNING</a>,</td></tr>
<tr><th id="594">594</th><td>				<q>"CE: %s instance: %s block: %s '%s'\n"</q>,</td></tr>
<tr><th id="595">595</th><td>				<a class="local col5 ref" href="#175edac_dev" title='edac_dev' data-ref="175edac_dev" data-ref-filename="175edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::ctl_name" title='edac_device_ctl_info::ctl_name' data-ref="edac_device_ctl_info::ctl_name" data-ref-filename="edac_device_ctl_info..ctl_name">ctl_name</a>, <a class="local col9 ref" href="#179instance" title='instance' data-ref="179instance" data-ref-filename="179instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::name" title='edac_device_instance::name' data-ref="edac_device_instance::name" data-ref-filename="edac_device_instance..name">name</a>,</td></tr>
<tr><th id="596">596</th><td>				<a class="local col0 ref" href="#180block" title='block' data-ref="180block" data-ref-filename="180block">block</a> ? <a class="local col0 ref" href="#180block" title='block' data-ref="180block" data-ref-filename="180block">block</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::name" title='edac_device_block::name' data-ref="edac_device_block::name" data-ref-filename="edac_device_block..name">name</a> : <q>"N/A"</q>, <a class="local col8 ref" href="#178msg" title='msg' data-ref="178msg" data-ref-filename="178msg">msg</a>);</td></tr>
<tr><th id="597">597</th><td>}</td></tr>
<tr><th id="598">598</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_handle_ce) edac_device_handle_ce; static const char __kstrtab_edac_device_handle_ce[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_handle_ce&quot;; static const struct kernel_symbol __ksymtab_edac_device_handle_ce __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_handle_ce&quot;), used)) = { (unsigned long)&amp;edac_device_handle_ce, __kstrtab_edac_device_handle_ce }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_handle_ce" title='edac_device_handle_ce' data-ref="edac_device_handle_ce" data-ref-filename="edac_device_handle_ce"><a class="ref fn" href="#edac_device_handle_ce" title='edac_device_handle_ce' data-ref="edac_device_handle_ce" data-ref-filename="edac_device_handle_ce"><a class="ref fn" href="#edac_device_handle_ce" title='edac_device_handle_ce' data-ref="edac_device_handle_ce" data-ref-filename="edac_device_handle_ce"><a class="ref fn" href="#edac_device_handle_ce" title='edac_device_handle_ce' data-ref="edac_device_handle_ce" data-ref-filename="edac_device_handle_ce">edac_device_handle_ce</a></a></a></a>);</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td><em>void</em> <dfn class="decl def fn" id="edac_device_handle_ue" title='edac_device_handle_ue' data-ref="edac_device_handle_ue" data-ref-filename="edac_device_handle_ue">edac_device_handle_ue</dfn>(<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_ctl_info" title='edac_device_ctl_info' data-ref="edac_device_ctl_info" data-ref-filename="edac_device_ctl_info">edac_device_ctl_info</a> *<dfn class="local col1 decl" id="181edac_dev" title='edac_dev' data-type='struct edac_device_ctl_info *' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</dfn>,</td></tr>
<tr><th id="601">601</th><td>			<em>int</em> <dfn class="local col2 decl" id="182inst_nr" title='inst_nr' data-type='int' data-ref="182inst_nr" data-ref-filename="182inst_nr">inst_nr</dfn>, <em>int</em> <dfn class="local col3 decl" id="183block_nr" title='block_nr' data-type='int' data-ref="183block_nr" data-ref-filename="183block_nr">block_nr</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="184msg" title='msg' data-type='const char *' data-ref="184msg" data-ref-filename="184msg">msg</dfn>)</td></tr>
<tr><th id="602">602</th><td>{</td></tr>
<tr><th id="603">603</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_instance" title='edac_device_instance' data-ref="edac_device_instance" data-ref-filename="edac_device_instance">edac_device_instance</a> *<dfn class="local col5 decl" id="185instance" title='instance' data-type='struct edac_device_instance *' data-ref="185instance" data-ref-filename="185instance">instance</dfn>;</td></tr>
<tr><th id="604">604</th><td>	<b>struct</b> <a class="type" href="edac_device.h.html#edac_device_block" title='edac_device_block' data-ref="edac_device_block" data-ref-filename="edac_device_block">edac_device_block</a> *<dfn class="local col6 decl" id="186block" title='block' data-type='struct edac_device_block *' data-ref="186block" data-ref-filename="186block">block</dfn> = <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="605">605</th><td></td></tr>
<tr><th id="606">606</th><td>	<b>if</b> ((<a class="local col2 ref" href="#182inst_nr" title='inst_nr' data-ref="182inst_nr" data-ref-filename="182inst_nr">inst_nr</a> &gt;= <a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::nr_instances" title='edac_device_ctl_info::nr_instances' data-ref="edac_device_ctl_info::nr_instances" data-ref-filename="edac_device_ctl_info..nr_instances">nr_instances</a>) || (<a class="local col2 ref" href="#182inst_nr" title='inst_nr' data-ref="182inst_nr" data-ref-filename="182inst_nr">inst_nr</a> &lt; <var>0</var>)) {</td></tr>
<tr><th id="607">607</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;3&quot; &quot;EDAC DEVICE%d: &quot; &quot;INTERNAL ERROR: &apos;instance&apos; out of range &quot; &quot;(%d &gt;= %d)\n&quot;, edac_dev-&gt;dev_idx, inst_nr, edac_dev-&gt;nr_instances)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#11" title="&quot;\001&quot; &quot;3&quot;" data-ref="_M/KERN_ERR">KERN_ERR</a>,</td></tr>
<tr><th id="608">608</th><td>				<q>"INTERNAL ERROR: 'instance' out of range "</q></td></tr>
<tr><th id="609">609</th><td>				<q>"(%d &gt;= %d)\n"</q>, <a class="local col2 ref" href="#182inst_nr" title='inst_nr' data-ref="182inst_nr" data-ref-filename="182inst_nr">inst_nr</a>,</td></tr>
<tr><th id="610">610</th><td>				<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::nr_instances" title='edac_device_ctl_info::nr_instances' data-ref="edac_device_ctl_info::nr_instances" data-ref-filename="edac_device_ctl_info..nr_instances">nr_instances</a>);</td></tr>
<tr><th id="611">611</th><td>		<b>return</b>;</td></tr>
<tr><th id="612">612</th><td>	}</td></tr>
<tr><th id="613">613</th><td></td></tr>
<tr><th id="614">614</th><td>	<a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a> = <a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::instances" title='edac_device_ctl_info::instances' data-ref="edac_device_ctl_info::instances" data-ref-filename="edac_device_ctl_info..instances">instances</a> + <a class="local col2 ref" href="#182inst_nr" title='inst_nr' data-ref="182inst_nr" data-ref-filename="182inst_nr">inst_nr</a>;</td></tr>
<tr><th id="615">615</th><td></td></tr>
<tr><th id="616">616</th><td>	<b>if</b> ((<a class="local col3 ref" href="#183block_nr" title='block_nr' data-ref="183block_nr" data-ref-filename="183block_nr">block_nr</a> &gt;= <a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a>) || (<a class="local col3 ref" href="#183block_nr" title='block_nr' data-ref="183block_nr" data-ref-filename="183block_nr">block_nr</a> &lt; <var>0</var>)) {</td></tr>
<tr><th id="617">617</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;3&quot; &quot;EDAC DEVICE%d: &quot; &quot;INTERNAL ERROR: instance %d &apos;block&apos; &quot; &quot;out of range (%d &gt;= %d)\n&quot;, edac_dev-&gt;dev_idx, inst_nr, block_nr, instance-&gt;nr_blocks)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#11" title="&quot;\001&quot; &quot;3&quot;" data-ref="_M/KERN_ERR">KERN_ERR</a>,</td></tr>
<tr><th id="618">618</th><td>				<q>"INTERNAL ERROR: instance %d 'block' "</q></td></tr>
<tr><th id="619">619</th><td>				<q>"out of range (%d &gt;= %d)\n"</q>,</td></tr>
<tr><th id="620">620</th><td>				<a class="local col2 ref" href="#182inst_nr" title='inst_nr' data-ref="182inst_nr" data-ref-filename="182inst_nr">inst_nr</a>, <a class="local col3 ref" href="#183block_nr" title='block_nr' data-ref="183block_nr" data-ref-filename="183block_nr">block_nr</a>,</td></tr>
<tr><th id="621">621</th><td>				<a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a>);</td></tr>
<tr><th id="622">622</th><td>		<b>return</b>;</td></tr>
<tr><th id="623">623</th><td>	}</td></tr>
<tr><th id="624">624</th><td></td></tr>
<tr><th id="625">625</th><td>	<b>if</b> (<a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::nr_blocks" title='edac_device_instance::nr_blocks' data-ref="edac_device_instance::nr_blocks" data-ref-filename="edac_device_instance..nr_blocks">nr_blocks</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="626">626</th><td>		<a class="local col6 ref" href="#186block" title='block' data-ref="186block" data-ref-filename="186block">block</a> = <a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::blocks" title='edac_device_instance::blocks' data-ref="edac_device_instance::blocks" data-ref-filename="edac_device_instance..blocks">blocks</a> + <a class="local col3 ref" href="#183block_nr" title='block_nr' data-ref="183block_nr" data-ref-filename="183block_nr">block_nr</a>;</td></tr>
<tr><th id="627">627</th><td>		<a class="local col6 ref" href="#186block" title='block' data-ref="186block" data-ref-filename="186block">block</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::counters" title='edac_device_block::counters' data-ref="edac_device_block::counters" data-ref-filename="edac_device_block..counters">counters</a>.<a class="ref field" href="edac_device.h.html#edac_device_counter::ue_count" title='edac_device_counter::ue_count' data-ref="edac_device_counter::ue_count" data-ref-filename="edac_device_counter..ue_count">ue_count</a>++;</td></tr>
<tr><th id="628">628</th><td>	}</td></tr>
<tr><th id="629">629</th><td></td></tr>
<tr><th id="630">630</th><td>	<i>/* Propagate the count up the 'totals' tree */</i></td></tr>
<tr><th id="631">631</th><td>	<a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::counters" title='edac_device_instance::counters' data-ref="edac_device_instance::counters" data-ref-filename="edac_device_instance..counters">counters</a>.<a class="ref field" href="edac_device.h.html#edac_device_counter::ue_count" title='edac_device_counter::ue_count' data-ref="edac_device_counter::ue_count" data-ref-filename="edac_device_counter..ue_count">ue_count</a>++;</td></tr>
<tr><th id="632">632</th><td>	<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::counters" title='edac_device_ctl_info::counters' data-ref="edac_device_ctl_info::counters" data-ref-filename="edac_device_ctl_info..counters">counters</a>.<a class="ref field" href="edac_device.h.html#edac_device_counter::ue_count" title='edac_device_counter::ue_count' data-ref="edac_device_counter::ue_count" data-ref-filename="edac_device_counter..ue_count">ue_count</a>++;</td></tr>
<tr><th id="633">633</th><td></td></tr>
<tr><th id="634">634</th><td>	<b>if</b> (<a class="tu ref fn" href="#edac_device_get_log_ue" title='edac_device_get_log_ue' data-use='c' data-ref="edac_device_get_log_ue" data-ref-filename="edac_device_get_log_ue">edac_device_get_log_ue</a>(<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>))</td></tr>
<tr><th id="635">635</th><td>		<a class="macro" href="edac_mc.h.html#57" title="printk(&quot;\001&quot; &quot;0&quot; &quot;EDAC DEVICE%d: &quot; &quot;UE: %s instance: %s block: %s &apos;%s&apos;\n&quot;, edac_dev-&gt;dev_idx, edac_dev-&gt;ctl_name, instance-&gt;name, block ? block-&gt;name : &quot;N/A&quot;, msg)" data-ref="_M/edac_device_printk">edac_device_printk</a>(<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>, <a class="macro" href="../../include/linux/kern_levels.h.html#8" title="&quot;\001&quot; &quot;0&quot;" data-ref="_M/KERN_EMERG">KERN_EMERG</a>,</td></tr>
<tr><th id="636">636</th><td>				<q>"UE: %s instance: %s block: %s '%s'\n"</q>,</td></tr>
<tr><th id="637">637</th><td>				<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::ctl_name" title='edac_device_ctl_info::ctl_name' data-ref="edac_device_ctl_info::ctl_name" data-ref-filename="edac_device_ctl_info..ctl_name">ctl_name</a>, <a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::name" title='edac_device_instance::name' data-ref="edac_device_instance::name" data-ref-filename="edac_device_instance..name">name</a>,</td></tr>
<tr><th id="638">638</th><td>				<a class="local col6 ref" href="#186block" title='block' data-ref="186block" data-ref-filename="186block">block</a> ? <a class="local col6 ref" href="#186block" title='block' data-ref="186block" data-ref-filename="186block">block</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::name" title='edac_device_block::name' data-ref="edac_device_block::name" data-ref-filename="edac_device_block..name">name</a> : <q>"N/A"</q>, <a class="local col4 ref" href="#184msg" title='msg' data-ref="184msg" data-ref-filename="184msg">msg</a>);</td></tr>
<tr><th id="639">639</th><td></td></tr>
<tr><th id="640">640</th><td>	<b>if</b> (<a class="tu ref fn" href="#edac_device_get_panic_on_ue" title='edac_device_get_panic_on_ue' data-use='c' data-ref="edac_device_get_panic_on_ue" data-ref-filename="edac_device_get_panic_on_ue">edac_device_get_panic_on_ue</a>(<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>))</td></tr>
<tr><th id="641">641</th><td>		<a class="ref fn" href="../../include/linux/kernel.h.html#panic" title='panic' data-ref="panic" data-ref-filename="panic">panic</a>(<q>"EDAC %s: UE instance: %s block %s '%s'\n"</q>,</td></tr>
<tr><th id="642">642</th><td>			<a class="local col1 ref" href="#181edac_dev" title='edac_dev' data-ref="181edac_dev" data-ref-filename="181edac_dev">edac_dev</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_ctl_info::ctl_name" title='edac_device_ctl_info::ctl_name' data-ref="edac_device_ctl_info::ctl_name" data-ref-filename="edac_device_ctl_info..ctl_name">ctl_name</a>, <a class="local col5 ref" href="#185instance" title='instance' data-ref="185instance" data-ref-filename="185instance">instance</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_instance::name" title='edac_device_instance::name' data-ref="edac_device_instance::name" data-ref-filename="edac_device_instance..name">name</a>,</td></tr>
<tr><th id="643">643</th><td>			<a class="local col6 ref" href="#186block" title='block' data-ref="186block" data-ref-filename="186block">block</a> ? <a class="local col6 ref" href="#186block" title='block' data-ref="186block" data-ref-filename="186block">block</a>-&gt;<a class="ref field" href="edac_device.h.html#edac_device_block::name" title='edac_device_block::name' data-ref="edac_device_block::name" data-ref-filename="edac_device_block..name">name</a> : <q>"N/A"</q>, <a class="local col4 ref" href="#184msg" title='msg' data-ref="184msg" data-ref-filename="184msg">msg</a>);</td></tr>
<tr><th id="644">644</th><td>}</td></tr>
<tr><th id="645">645</th><td><a class="macro" href="../../include/linux/export.h.html#106" title="extern typeof(edac_device_handle_ue) edac_device_handle_ue; static const char __kstrtab_edac_device_handle_ue[] __attribute__((section(&quot;__ksymtab_strings&quot;), aligned(1))) = &quot;edac_device_handle_ue&quot;; static const struct kernel_symbol __ksymtab_edac_device_handle_ue __attribute__((__used__)) __attribute__((section(&quot;___ksymtab&quot; &quot;_gpl&quot; &quot;+&quot; &quot;edac_device_handle_ue&quot;), used)) = { (unsigned long)&amp;edac_device_handle_ue, __kstrtab_edac_device_handle_ue }" data-ref="_M/EXPORT_SYMBOL_GPL">EXPORT_SYMBOL_GPL</a>(<a class="decl fn" href="#edac_device_handle_ue" title='edac_device_handle_ue' data-ref="edac_device_handle_ue" data-ref-filename="edac_device_handle_ue"><a class="ref fn" href="#edac_device_handle_ue" title='edac_device_handle_ue' data-ref="edac_device_handle_ue" data-ref-filename="edac_device_handle_ue"><a class="ref fn" href="#edac_device_handle_ue" title='edac_device_handle_ue' data-ref="edac_device_handle_ue" data-ref-filename="edac_device_handle_ue"><a class="ref fn" href="#edac_device_handle_ue" title='edac_device_handle_ue' data-ref="edac_device_handle_ue" data-ref-filename="edac_device_handle_ue">edac_device_handle_ue</a></a></a></a>);</td></tr>
<tr><th id="646">646</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Oct-10</em> from project linux revision <em>4.15.10</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
