<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>hid-lgff.c source code [linux/drivers/hid/hid-lgff.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="dev_type "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux/drivers/hid/hid-lgff.c'; var root_path = '../../..'; var data_path = '../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>linux</a>/<a href='..'>drivers</a>/<a href='./'>hid</a>/<a href='hid-lgff.c.html'>hid-lgff.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Force feedback support for hid-compliant for some of the devices from</i></td></tr>
<tr><th id="3">3</th><td><i> * Logitech, namely:</i></td></tr>
<tr><th id="4">4</th><td><i> * - WingMan Cordless RumblePad</i></td></tr>
<tr><th id="5">5</th><td><i> * - WingMan Force 3D</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> *  Copyright (c) 2002-2004 Johann Deneux</i></td></tr>
<tr><th id="8">8</th><td><i> *  Copyright (c) 2006 Anssi Hannula &lt;anssi.hannula@gmail.com&gt;</i></td></tr>
<tr><th id="9">9</th><td><i> */</i></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><i>/*</i></td></tr>
<tr><th id="12">12</th><td><i> * This program is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="13">13</th><td><i> * it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="14">14</th><td><i> * the Free Software Foundation; either version 2 of the License, or</i></td></tr>
<tr><th id="15">15</th><td><i> * (at your option) any later version.</i></td></tr>
<tr><th id="16">16</th><td><i> *</i></td></tr>
<tr><th id="17">17</th><td><i> * This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="18">18</th><td><i> * but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="19">19</th><td><i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="20">20</th><td><i> * GNU General Public License for more details.</i></td></tr>
<tr><th id="21">21</th><td><i> *</i></td></tr>
<tr><th id="22">22</th><td><i> * You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="23">23</th><td><i> * along with this program; if not, write to the Free Software</i></td></tr>
<tr><th id="24">24</th><td><i> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</i></td></tr>
<tr><th id="25">25</th><td><i> *</i></td></tr>
<tr><th id="26">26</th><td><i> * Should you need to contact me, the author, you can do so by</i></td></tr>
<tr><th id="27">27</th><td><i> * e-mail - mail your message to &lt;johann.deneux@it.uu.se&gt;</i></td></tr>
<tr><th id="28">28</th><td><i> */</i></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#define <dfn class="macro" id="_M/pr_fmt" data-ref="_M/pr_fmt">pr_fmt</dfn>(fmt) KBUILD_MODNAME ": " fmt</u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../include/linux/input.h.html">&lt;linux/input.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../include/linux/hid.h.html">&lt;linux/hid.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="hid-lg.h.html">"hid-lg.h"</a></u></td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><b>struct</b> <dfn class="type def" id="dev_type" title='dev_type' data-ref="dev_type" data-ref-filename="dev_type">dev_type</dfn> {</td></tr>
<tr><th id="38">38</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="tu decl field" id="dev_type::idVendor" title='dev_type::idVendor' data-type='u16' data-ref="dev_type::idVendor" data-ref-filename="dev_type..idVendor">idVendor</dfn>;</td></tr>
<tr><th id="39">39</th><td>	<a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="tu decl field" id="dev_type::idProduct" title='dev_type::idProduct' data-type='u16' data-ref="dev_type::idProduct" data-ref-filename="dev_type..idProduct">idProduct</dfn>;</td></tr>
<tr><th id="40">40</th><td>	<em>const</em> <em>signed</em> <em>short</em> *<dfn class="tu decl field" id="dev_type::ff" title='dev_type::ff' data-type='const short *' data-ref="dev_type::ff" data-ref-filename="dev_type..ff">ff</dfn>;</td></tr>
<tr><th id="41">41</th><td>};</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><em>static</em> <em>const</em> <em>signed</em> <em>short</em> <dfn class="tu decl def" id="ff_rumble" title='ff_rumble' data-type='const short [2]' data-ref="ff_rumble" data-ref-filename="ff_rumble">ff_rumble</dfn>[] = {</td></tr>
<tr><th id="44">44</th><td>	<a class="macro" href="../../include/uapi/linux/input.h.html#453" title="0x50" data-ref="_M/FF_RUMBLE">FF_RUMBLE</a>,</td></tr>
<tr><th id="45">45</th><td>	-<var>1</var></td></tr>
<tr><th id="46">46</th><td>};</td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><em>static</em> <em>const</em> <em>signed</em> <em>short</em> <dfn class="tu decl def" id="ff_joystick" title='ff_joystick' data-type='const short [2]' data-ref="ff_joystick" data-ref-filename="ff_joystick">ff_joystick</dfn>[] = {</td></tr>
<tr><th id="49">49</th><td>	<a class="macro" href="../../include/uapi/linux/input.h.html#455" title="0x52" data-ref="_M/FF_CONSTANT">FF_CONSTANT</a>,</td></tr>
<tr><th id="50">50</th><td>	-<var>1</var></td></tr>
<tr><th id="51">51</th><td>};</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><em>static</em> <em>const</em> <em>signed</em> <em>short</em> <dfn class="tu decl def" id="ff_joystick_ac" title='ff_joystick_ac' data-type='const short [3]' data-ref="ff_joystick_ac" data-ref-filename="ff_joystick_ac">ff_joystick_ac</dfn>[] = {</td></tr>
<tr><th id="54">54</th><td>	<a class="macro" href="../../include/uapi/linux/input.h.html#455" title="0x52" data-ref="_M/FF_CONSTANT">FF_CONSTANT</a>,</td></tr>
<tr><th id="55">55</th><td>	<a class="macro" href="../../include/uapi/linux/input.h.html#484" title="0x61" data-ref="_M/FF_AUTOCENTER">FF_AUTOCENTER</a>,</td></tr>
<tr><th id="56">56</th><td>	-<var>1</var></td></tr>
<tr><th id="57">57</th><td>};</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><em>static</em> <em>const</em> <b>struct</b> <a class="type" href="#dev_type" title='dev_type' data-ref="dev_type" data-ref-filename="dev_type">dev_type</a> <dfn class="tu decl def" id="devices" title='devices' data-type='const struct dev_type [7]' data-ref="devices" data-ref-filename="devices">devices</dfn>[] = {</td></tr>
<tr><th id="60">60</th><td>	{ <var>0x046d</var>, <var>0xc211</var>, <a class="tu ref" href="#ff_rumble" title='ff_rumble' data-ref="ff_rumble" data-ref-filename="ff_rumble">ff_rumble</a> },</td></tr>
<tr><th id="61">61</th><td>	{ <var>0x046d</var>, <var>0xc219</var>, <a class="tu ref" href="#ff_rumble" title='ff_rumble' data-ref="ff_rumble" data-ref-filename="ff_rumble">ff_rumble</a> },</td></tr>
<tr><th id="62">62</th><td>	{ <var>0x046d</var>, <var>0xc283</var>, <a class="tu ref" href="#ff_joystick" title='ff_joystick' data-ref="ff_joystick" data-ref-filename="ff_joystick">ff_joystick</a> },</td></tr>
<tr><th id="63">63</th><td>	{ <var>0x046d</var>, <var>0xc286</var>, <a class="tu ref" href="#ff_joystick_ac" title='ff_joystick_ac' data-ref="ff_joystick_ac" data-ref-filename="ff_joystick_ac">ff_joystick_ac</a> },</td></tr>
<tr><th id="64">64</th><td>	{ <var>0x046d</var>, <var>0xc287</var>, <a class="tu ref" href="#ff_joystick_ac" title='ff_joystick_ac' data-ref="ff_joystick_ac" data-ref-filename="ff_joystick_ac">ff_joystick_ac</a> },</td></tr>
<tr><th id="65">65</th><td>	{ <var>0x046d</var>, <var>0xc293</var>, <a class="tu ref" href="#ff_joystick" title='ff_joystick' data-ref="ff_joystick" data-ref-filename="ff_joystick">ff_joystick</a> },</td></tr>
<tr><th id="66">66</th><td>	{ <var>0x046d</var>, <var>0xc295</var>, <a class="tu ref" href="#ff_joystick" title='ff_joystick' data-ref="ff_joystick" data-ref-filename="ff_joystick">ff_joystick</a> },</td></tr>
<tr><th id="67">67</th><td>};</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td><em>static</em> <em>int</em> <dfn class="tu decl def fn" id="hid_lgff_play" title='hid_lgff_play' data-type='int hid_lgff_play(struct input_dev * dev, void * data, struct ff_effect * effect)' data-ref="hid_lgff_play" data-ref-filename="hid_lgff_play">hid_lgff_play</dfn>(<b>struct</b> <a class="type" href="../../include/linux/input.h.html#input_dev" title='input_dev' data-ref="input_dev" data-ref-filename="input_dev">input_dev</a> *<dfn class="local col1 decl" id="1dev" title='dev' data-type='struct input_dev *' data-ref="1dev" data-ref-filename="1dev">dev</dfn>, <em>void</em> *<dfn class="local col2 decl" id="2data" title='data' data-type='void *' data-ref="2data" data-ref-filename="2data">data</dfn>, <b>struct</b> <a class="type" href="../../include/uapi/linux/input.h.html#ff_effect" title='ff_effect' data-ref="ff_effect" data-ref-filename="ff_effect">ff_effect</a> *<dfn class="local col3 decl" id="3effect" title='effect' data-type='struct ff_effect *' data-ref="3effect" data-ref-filename="3effect">effect</dfn>)</td></tr>
<tr><th id="70">70</th><td>{</td></tr>
<tr><th id="71">71</th><td>	<b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_device" title='hid_device' data-ref="hid_device" data-ref-filename="hid_device">hid_device</a> *<dfn class="local col4 decl" id="4hid" title='hid' data-type='struct hid_device *' data-ref="4hid" data-ref-filename="4hid">hid</dfn> = <a class="ref fn" href="../../include/linux/input.h.html#input_get_drvdata" title='input_get_drvdata' data-ref="input_get_drvdata" data-ref-filename="input_get_drvdata">input_get_drvdata</a>(<a class="local col1 ref" href="#1dev" title='dev' data-ref="1dev" data-ref-filename="1dev">dev</a>);</td></tr>
<tr><th id="72">72</th><td>	<b>struct</b> <a class="type" href="../../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> *<dfn class="local col5 decl" id="5report_list" title='report_list' data-type='struct list_head *' data-ref="5report_list" data-ref-filename="5report_list">report_list</dfn> = &amp;<a class="local col4 ref" href="#4hid" title='hid' data-ref="4hid" data-ref-filename="4hid">hid</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_device::report_enum" title='hid_device::report_enum' data-ref="hid_device::report_enum" data-ref-filename="hid_device..report_enum">report_enum</a>[<a class="macro" href="../../include/linux/hid.h.html#303" title="1" data-ref="_M/HID_OUTPUT_REPORT">HID_OUTPUT_REPORT</a>].<a class="ref field" href="../../include/linux/hid.h.html#hid_report_enum::report_list" title='hid_report_enum::report_list' data-ref="hid_report_enum::report_list" data-ref-filename="hid_report_enum..report_list">report_list</a>;</td></tr>
<tr><th id="73">73</th><td>	<b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_report" title='hid_report' data-ref="hid_report" data-ref-filename="hid_report">hid_report</a> *<dfn class="local col6 decl" id="6report" title='report' data-type='struct hid_report *' data-ref="6report" data-ref-filename="6report">report</dfn> = <a class="macro" href="../../include/linux/list.h.html#365" title="({ void *__mptr = (void *)(report_list-&gt;next); do { bool __cond = !(!(!__builtin_types_compatible_p(typeof(*(report_list-&gt;next)), typeof(((struct hid_report *)0)-&gt;list)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(report_list-&gt;next)), typeof(void)))); extern void __compiletime_assert_73(void) ; if (__cond) __compiletime_assert_73(); do { ((void)sizeof(char[1 - 2 * __cond])); } while (0); } while (0); ((struct hid_report *)(__mptr - __builtin_offsetof(struct hid_report, list))); })" data-ref="_M/list_entry">list_entry</a>(<a class="local col5 ref" href="#5report_list" title='report_list' data-ref="5report_list" data-ref-filename="5report_list">report_list</a>-&gt;<a class="ref field" href="../../include/linux/types.h.html#list_head::next" title='list_head::next' data-ref="list_head::next" data-ref-filename="list_head..next">next</a>, <b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_report" title='hid_report' data-ref="hid_report" data-ref-filename="hid_report">hid_report</a>, <a class="ref field" href="../../include/linux/hid.h.html#hid_report::list" title='hid_report::list' data-ref="hid_report::list" data-ref-filename="hid_report..list">list</a>);</td></tr>
<tr><th id="74">74</th><td>	<em>int</em> <dfn class="local col7 decl" id="7x" title='x' data-type='int' data-ref="7x" data-ref-filename="7x">x</dfn>, <dfn class="local col8 decl" id="8y" title='y' data-type='int' data-ref="8y" data-ref-filename="8y">y</dfn>;</td></tr>
<tr><th id="75">75</th><td>	<em>unsigned</em> <em>int</em> <dfn class="local col9 decl" id="9left" title='left' data-type='unsigned int' data-ref="9left" data-ref-filename="9left">left</dfn>, <dfn class="local col0 decl" id="10right" title='right' data-type='unsigned int' data-ref="10right" data-ref-filename="10right">right</dfn>;</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><u>#define <dfn class="macro" id="_M/CLAMP" data-ref="_M/CLAMP">CLAMP</dfn>(x) if (x &lt; 0) x = 0; if (x &gt; 0xff) x = 0xff</u></td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>	<b>switch</b> (<a class="local col3 ref" href="#3effect" title='effect' data-ref="3effect" data-ref-filename="3effect">effect</a>-&gt;<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::type" title='ff_effect::type' data-ref="ff_effect::type" data-ref-filename="ff_effect..type">type</a>) {</td></tr>
<tr><th id="80">80</th><td>	<b>case</b> <a class="macro" href="../../include/uapi/linux/input.h.html#455" title="0x52" data-ref="_M/FF_CONSTANT">FF_CONSTANT</a>:</td></tr>
<tr><th id="81">81</th><td>		<a class="local col7 ref" href="#7x" title='x' data-ref="7x" data-ref-filename="7x">x</a> = <a class="local col3 ref" href="#3effect" title='effect' data-ref="3effect" data-ref-filename="3effect">effect</a>-&gt;<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::u" title='ff_effect::u' data-ref="ff_effect::u" data-ref-filename="ff_effect..u">u</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::(anonymous)::ramp" title='ff_effect::(anonymous union)::ramp' data-ref="ff_effect::(anonymous)::ramp" data-ref-filename="ff_effect..(anonymous)..ramp">ramp</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_ramp_effect::start_level" title='ff_ramp_effect::start_level' data-ref="ff_ramp_effect::start_level" data-ref-filename="ff_ramp_effect..start_level">start_level</a> + <var>0x7f</var>;	<i>/* 0x7f is center */</i></td></tr>
<tr><th id="82">82</th><td>		<a class="local col8 ref" href="#8y" title='y' data-ref="8y" data-ref-filename="8y">y</a> = <a class="local col3 ref" href="#3effect" title='effect' data-ref="3effect" data-ref-filename="3effect">effect</a>-&gt;<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::u" title='ff_effect::u' data-ref="ff_effect::u" data-ref-filename="ff_effect..u">u</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::(anonymous)::ramp" title='ff_effect::(anonymous union)::ramp' data-ref="ff_effect::(anonymous)::ramp" data-ref-filename="ff_effect..(anonymous)..ramp">ramp</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_ramp_effect::end_level" title='ff_ramp_effect::end_level' data-ref="ff_ramp_effect::end_level" data-ref-filename="ff_ramp_effect..end_level">end_level</a> + <var>0x7f</var>;</td></tr>
<tr><th id="83">83</th><td>		<a class="macro" href="#77" title="if (x &lt; 0) x = 0; if (x &gt; 0xff) x = 0xff" data-ref="_M/CLAMP">CLAMP</a>(<a class="local col7 ref" href="#7x" title='x' data-ref="7x" data-ref-filename="7x">x</a>);</td></tr>
<tr><th id="84">84</th><td>		<a class="macro" href="#77" title="if (y &lt; 0) y = 0; if (y &gt; 0xff) y = 0xff" data-ref="_M/CLAMP">CLAMP</a>(<a class="local col8 ref" href="#8y" title='y' data-ref="8y" data-ref-filename="8y">y</a>);</td></tr>
<tr><th id="85">85</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>0</var>] = <var>0x51</var>;</td></tr>
<tr><th id="86">86</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>1</var>] = <var>0x08</var>;</td></tr>
<tr><th id="87">87</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>2</var>] = <a class="local col7 ref" href="#7x" title='x' data-ref="7x" data-ref-filename="7x">x</a>;</td></tr>
<tr><th id="88">88</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>3</var>] = <a class="local col8 ref" href="#8y" title='y' data-ref="8y" data-ref-filename="8y">y</a>;</td></tr>
<tr><th id="89">89</th><td>		<a class="macro" href="../../include/linux/hid.h.html#1111" title="do { if (hid_debug) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;(x, y)=(%04x, %04x)\n&quot;, &quot;/root/linux-4.15.10/drivers/hid/hid-lgff.c&quot;, x, y); } while (0)" data-ref="_M/dbg_hid">dbg_hid</a>(<q>"(x, y)=(%04x, %04x)\n"</q>, <a class="local col7 ref" href="#7x" title='x' data-ref="7x" data-ref-filename="7x">x</a>, <a class="local col8 ref" href="#8y" title='y' data-ref="8y" data-ref-filename="8y">y</a>);</td></tr>
<tr><th id="90">90</th><td>		<a class="ref fn" href="../../include/linux/hid.h.html#hid_hw_request" title='hid_hw_request' data-ref="hid_hw_request" data-ref-filename="hid_hw_request">hid_hw_request</a>(<a class="local col4 ref" href="#4hid" title='hid' data-ref="4hid" data-ref-filename="4hid">hid</a>, <a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>, <a class="macro" href="../../include/uapi/linux/hid.h.html#52" title="0x09" data-ref="_M/HID_REQ_SET_REPORT">HID_REQ_SET_REPORT</a>);</td></tr>
<tr><th id="91">91</th><td>		<b>break</b>;</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td>	<b>case</b> <a class="macro" href="../../include/uapi/linux/input.h.html#453" title="0x50" data-ref="_M/FF_RUMBLE">FF_RUMBLE</a>:</td></tr>
<tr><th id="94">94</th><td>		<a class="local col0 ref" href="#10right" title='right' data-ref="10right" data-ref-filename="10right">right</a> = <a class="local col3 ref" href="#3effect" title='effect' data-ref="3effect" data-ref-filename="3effect">effect</a>-&gt;<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::u" title='ff_effect::u' data-ref="ff_effect::u" data-ref-filename="ff_effect..u">u</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::(anonymous)::rumble" title='ff_effect::(anonymous union)::rumble' data-ref="ff_effect::(anonymous)::rumble" data-ref-filename="ff_effect..(anonymous)..rumble">rumble</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_rumble_effect::strong_magnitude" title='ff_rumble_effect::strong_magnitude' data-ref="ff_rumble_effect::strong_magnitude" data-ref-filename="ff_rumble_effect..strong_magnitude">strong_magnitude</a>;</td></tr>
<tr><th id="95">95</th><td>		<a class="local col9 ref" href="#9left" title='left' data-ref="9left" data-ref-filename="9left">left</a> = <a class="local col3 ref" href="#3effect" title='effect' data-ref="3effect" data-ref-filename="3effect">effect</a>-&gt;<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::u" title='ff_effect::u' data-ref="ff_effect::u" data-ref-filename="ff_effect..u">u</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_effect::(anonymous)::rumble" title='ff_effect::(anonymous union)::rumble' data-ref="ff_effect::(anonymous)::rumble" data-ref-filename="ff_effect..(anonymous)..rumble">rumble</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#ff_rumble_effect::weak_magnitude" title='ff_rumble_effect::weak_magnitude' data-ref="ff_rumble_effect::weak_magnitude" data-ref-filename="ff_rumble_effect..weak_magnitude">weak_magnitude</a>;</td></tr>
<tr><th id="96">96</th><td>		<a class="local col0 ref" href="#10right" title='right' data-ref="10right" data-ref-filename="10right">right</a> = <a class="local col0 ref" href="#10right" title='right' data-ref="10right" data-ref-filename="10right">right</a> * <var>0xff</var> / <var>0xffff</var>;</td></tr>
<tr><th id="97">97</th><td>		<a class="local col9 ref" href="#9left" title='left' data-ref="9left" data-ref-filename="9left">left</a> = <a class="local col9 ref" href="#9left" title='left' data-ref="9left" data-ref-filename="9left">left</a> * <var>0xff</var> / <var>0xffff</var>;</td></tr>
<tr><th id="98">98</th><td>		<a class="macro" href="#77" title="if (left &lt; 0) left = 0; if (left &gt; 0xff) left = 0xff" data-ref="_M/CLAMP">CLAMP</a>(<a class="local col9 ref" href="#9left" title='left' data-ref="9left" data-ref-filename="9left">left</a>);</td></tr>
<tr><th id="99">99</th><td>		<a class="macro" href="#77" title="if (right &lt; 0) right = 0; if (right &gt; 0xff) right = 0xff" data-ref="_M/CLAMP">CLAMP</a>(<a class="local col0 ref" href="#10right" title='right' data-ref="10right" data-ref-filename="10right">right</a>);</td></tr>
<tr><th id="100">100</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>0</var>] = <var>0x42</var>;</td></tr>
<tr><th id="101">101</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>1</var>] = <var>0x00</var>;</td></tr>
<tr><th id="102">102</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>2</var>] = <a class="local col9 ref" href="#9left" title='left' data-ref="9left" data-ref-filename="9left">left</a>;</td></tr>
<tr><th id="103">103</th><td>		<a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>[<var>3</var>] = <a class="local col0 ref" href="#10right" title='right' data-ref="10right" data-ref-filename="10right">right</a>;</td></tr>
<tr><th id="104">104</th><td>		<a class="macro" href="../../include/linux/hid.h.html#1111" title="do { if (hid_debug) printk(&quot;\001&quot; &quot;7&quot; &quot;%s: &quot; &quot;(left, right)=(%04x, %04x)\n&quot;, &quot;/root/linux-4.15.10/drivers/hid/hid-lgff.c&quot;, left, right); } while (0)" data-ref="_M/dbg_hid">dbg_hid</a>(<q>"(left, right)=(%04x, %04x)\n"</q>, <a class="local col9 ref" href="#9left" title='left' data-ref="9left" data-ref-filename="9left">left</a>, <a class="local col0 ref" href="#10right" title='right' data-ref="10right" data-ref-filename="10right">right</a>);</td></tr>
<tr><th id="105">105</th><td>		<a class="ref fn" href="../../include/linux/hid.h.html#hid_hw_request" title='hid_hw_request' data-ref="hid_hw_request" data-ref-filename="hid_hw_request">hid_hw_request</a>(<a class="local col4 ref" href="#4hid" title='hid' data-ref="4hid" data-ref-filename="4hid">hid</a>, <a class="local col6 ref" href="#6report" title='report' data-ref="6report" data-ref-filename="6report">report</a>, <a class="macro" href="../../include/uapi/linux/hid.h.html#52" title="0x09" data-ref="_M/HID_REQ_SET_REPORT">HID_REQ_SET_REPORT</a>);</td></tr>
<tr><th id="106">106</th><td>		<b>break</b>;</td></tr>
<tr><th id="107">107</th><td>	}</td></tr>
<tr><th id="108">108</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="109">109</th><td>}</td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="hid_lgff_set_autocenter" title='hid_lgff_set_autocenter' data-type='void hid_lgff_set_autocenter(struct input_dev * dev, u16 magnitude)' data-ref="hid_lgff_set_autocenter" data-ref-filename="hid_lgff_set_autocenter">hid_lgff_set_autocenter</dfn>(<b>struct</b> <a class="type" href="../../include/linux/input.h.html#input_dev" title='input_dev' data-ref="input_dev" data-ref-filename="input_dev">input_dev</a> *<dfn class="local col1 decl" id="11dev" title='dev' data-type='struct input_dev *' data-ref="11dev" data-ref-filename="11dev">dev</dfn>, <a class="typedef" href="../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16" data-ref-filename="u16">u16</a> <dfn class="local col2 decl" id="12magnitude" title='magnitude' data-type='u16' data-ref="12magnitude" data-ref-filename="12magnitude">magnitude</dfn>)</td></tr>
<tr><th id="112">112</th><td>{</td></tr>
<tr><th id="113">113</th><td>	<b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_device" title='hid_device' data-ref="hid_device" data-ref-filename="hid_device">hid_device</a> *<dfn class="local col3 decl" id="13hid" title='hid' data-type='struct hid_device *' data-ref="13hid" data-ref-filename="13hid">hid</dfn> = <a class="ref fn" href="../../include/linux/input.h.html#input_get_drvdata" title='input_get_drvdata' data-ref="input_get_drvdata" data-ref-filename="input_get_drvdata">input_get_drvdata</a>(<a class="local col1 ref" href="#11dev" title='dev' data-ref="11dev" data-ref-filename="11dev">dev</a>);</td></tr>
<tr><th id="114">114</th><td>	<b>struct</b> <a class="type" href="../../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head" data-ref-filename="list_head">list_head</a> *<dfn class="local col4 decl" id="14report_list" title='report_list' data-type='struct list_head *' data-ref="14report_list" data-ref-filename="14report_list">report_list</dfn> = &amp;<a class="local col3 ref" href="#13hid" title='hid' data-ref="13hid" data-ref-filename="13hid">hid</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_device::report_enum" title='hid_device::report_enum' data-ref="hid_device::report_enum" data-ref-filename="hid_device..report_enum">report_enum</a>[<a class="macro" href="../../include/linux/hid.h.html#303" title="1" data-ref="_M/HID_OUTPUT_REPORT">HID_OUTPUT_REPORT</a>].<a class="ref field" href="../../include/linux/hid.h.html#hid_report_enum::report_list" title='hid_report_enum::report_list' data-ref="hid_report_enum::report_list" data-ref-filename="hid_report_enum..report_list">report_list</a>;</td></tr>
<tr><th id="115">115</th><td>	<b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_report" title='hid_report' data-ref="hid_report" data-ref-filename="hid_report">hid_report</a> *<dfn class="local col5 decl" id="15report" title='report' data-type='struct hid_report *' data-ref="15report" data-ref-filename="15report">report</dfn> = <a class="macro" href="../../include/linux/list.h.html#365" title="({ void *__mptr = (void *)(report_list-&gt;next); do { bool __cond = !(!(!__builtin_types_compatible_p(typeof(*(report_list-&gt;next)), typeof(((struct hid_report *)0)-&gt;list)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(report_list-&gt;next)), typeof(void)))); extern void __compiletime_assert_115(void) ; if (__cond) __compiletime_assert_115(); do { ((void)sizeof(char[1 - 2 * __cond])); } while (0); } while (0); ((struct hid_report *)(__mptr - __builtin_offsetof(struct hid_report, list))); })" data-ref="_M/list_entry">list_entry</a>(<a class="local col4 ref" href="#14report_list" title='report_list' data-ref="14report_list" data-ref-filename="14report_list">report_list</a>-&gt;<a class="ref field" href="../../include/linux/types.h.html#list_head::next" title='list_head::next' data-ref="list_head::next" data-ref-filename="list_head..next">next</a>, <b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_report" title='hid_report' data-ref="hid_report" data-ref-filename="hid_report">hid_report</a>, <a class="ref field" href="../../include/linux/hid.h.html#hid_report::list" title='hid_report::list' data-ref="hid_report::list" data-ref-filename="hid_report..list">list</a>);</td></tr>
<tr><th id="116">116</th><td>	<a class="typedef" href="../../include/uapi/asm-generic/int-ll64.h.html#__s32" title='__s32' data-type='int' data-ref="__s32" data-ref-filename="__s32">__s32</a> *<dfn class="local col6 decl" id="16value" title='value' data-type='__s32 *' data-ref="16value" data-ref-filename="16value">value</dfn> = <a class="local col5 ref" href="#15report" title='report' data-ref="15report" data-ref-filename="15report">report</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_report::field" title='hid_report::field' data-ref="hid_report::field" data-ref-filename="hid_report..field">field</a>[<var>0</var>]-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_field::value" title='hid_field::value' data-ref="hid_field::value" data-ref-filename="hid_field..value">value</a>;</td></tr>
<tr><th id="117">117</th><td>	<a class="local col2 ref" href="#12magnitude" title='magnitude' data-ref="12magnitude" data-ref-filename="12magnitude">magnitude</a> = (<a class="local col2 ref" href="#12magnitude" title='magnitude' data-ref="12magnitude" data-ref-filename="12magnitude">magnitude</a> &gt;&gt; <var>12</var>) &amp; <var>0xf</var>;</td></tr>
<tr><th id="118">118</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a>++ = <var>0xfe</var>;</td></tr>
<tr><th id="119">119</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a>++ = <var>0x0d</var>;</td></tr>
<tr><th id="120">120</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a>++ = <a class="local col2 ref" href="#12magnitude" title='magnitude' data-ref="12magnitude" data-ref-filename="12magnitude">magnitude</a>;   <i>/* clockwise strength */</i></td></tr>
<tr><th id="121">121</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a>++ = <a class="local col2 ref" href="#12magnitude" title='magnitude' data-ref="12magnitude" data-ref-filename="12magnitude">magnitude</a>;   <i>/* counter-clockwise strength */</i></td></tr>
<tr><th id="122">122</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a>++ = <var>0x80</var>;</td></tr>
<tr><th id="123">123</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a>++ = <var>0x00</var>;</td></tr>
<tr><th id="124">124</th><td>	*<a class="local col6 ref" href="#16value" title='value' data-ref="16value" data-ref-filename="16value">value</a> = <var>0x00</var>;</td></tr>
<tr><th id="125">125</th><td>	<a class="ref fn" href="../../include/linux/hid.h.html#hid_hw_request" title='hid_hw_request' data-ref="hid_hw_request" data-ref-filename="hid_hw_request">hid_hw_request</a>(<a class="local col3 ref" href="#13hid" title='hid' data-ref="13hid" data-ref-filename="13hid">hid</a>, <a class="local col5 ref" href="#15report" title='report' data-ref="15report" data-ref-filename="15report">report</a>, <a class="macro" href="../../include/uapi/linux/hid.h.html#52" title="0x09" data-ref="_M/HID_REQ_SET_REPORT">HID_REQ_SET_REPORT</a>);</td></tr>
<tr><th id="126">126</th><td>}</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td><em>int</em> <dfn class="decl def fn" id="lgff_init" title='lgff_init' data-ref="lgff_init" data-ref-filename="lgff_init">lgff_init</dfn>(<b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_device" title='hid_device' data-ref="hid_device" data-ref-filename="hid_device">hid_device</a>* <dfn class="local col7 decl" id="17hid" title='hid' data-type='struct hid_device *' data-ref="17hid" data-ref-filename="17hid">hid</dfn>)</td></tr>
<tr><th id="129">129</th><td>{</td></tr>
<tr><th id="130">130</th><td>	<b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_input" title='hid_input' data-ref="hid_input" data-ref-filename="hid_input">hid_input</a> *<dfn class="local col8 decl" id="18hidinput" title='hidinput' data-type='struct hid_input *' data-ref="18hidinput" data-ref-filename="18hidinput">hidinput</dfn> = <a class="macro" href="../../include/linux/list.h.html#365" title="({ void *__mptr = (void *)(hid-&gt;inputs.next); do { bool __cond = !(!(!__builtin_types_compatible_p(typeof(*(hid-&gt;inputs.next)), typeof(((struct hid_input *)0)-&gt;list)) &amp;&amp; !__builtin_types_compatible_p(typeof(*(hid-&gt;inputs.next)), typeof(void)))); extern void __compiletime_assert_130(void) ; if (__cond) __compiletime_assert_130(); do { ((void)sizeof(char[1 - 2 * __cond])); } while (0); } while (0); ((struct hid_input *)(__mptr - __builtin_offsetof(struct hid_input, list))); })" data-ref="_M/list_entry">list_entry</a>(<a class="local col7 ref" href="#17hid" title='hid' data-ref="17hid" data-ref-filename="17hid">hid</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_device::inputs" title='hid_device::inputs' data-ref="hid_device::inputs" data-ref-filename="hid_device..inputs">inputs</a>.<a class="ref field" href="../../include/linux/types.h.html#list_head::next" title='list_head::next' data-ref="list_head::next" data-ref-filename="list_head..next">next</a>, <b>struct</b> <a class="type" href="../../include/linux/hid.h.html#hid_input" title='hid_input' data-ref="hid_input" data-ref-filename="hid_input">hid_input</a>, <a class="ref field" href="../../include/linux/hid.h.html#hid_input::list" title='hid_input::list' data-ref="hid_input::list" data-ref-filename="hid_input..list">list</a>);</td></tr>
<tr><th id="131">131</th><td>	<b>struct</b> <a class="type" href="../../include/linux/input.h.html#input_dev" title='input_dev' data-ref="input_dev" data-ref-filename="input_dev">input_dev</a> *<dfn class="local col9 decl" id="19dev" title='dev' data-type='struct input_dev *' data-ref="19dev" data-ref-filename="19dev">dev</dfn> = <a class="local col8 ref" href="#18hidinput" title='hidinput' data-ref="18hidinput" data-ref-filename="18hidinput">hidinput</a>-&gt;<a class="ref field" href="../../include/linux/hid.h.html#hid_input::input" title='hid_input::input' data-ref="hid_input::input" data-ref-filename="hid_input..input">input</a>;</td></tr>
<tr><th id="132">132</th><td>	<em>const</em> <em>signed</em> <em>short</em> *<dfn class="local col0 decl" id="20ff_bits" title='ff_bits' data-type='const short *' data-ref="20ff_bits" data-ref-filename="20ff_bits">ff_bits</dfn> = <a class="tu ref" href="#ff_joystick" title='ff_joystick' data-use='r' data-ref="ff_joystick" data-ref-filename="ff_joystick">ff_joystick</a>;</td></tr>
<tr><th id="133">133</th><td>	<em>int</em> <dfn class="local col1 decl" id="21error" title='error' data-type='int' data-ref="21error" data-ref-filename="21error">error</dfn>;</td></tr>
<tr><th id="134">134</th><td>	<em>int</em> <dfn class="local col2 decl" id="22i" title='i' data-type='int' data-ref="22i" data-ref-filename="22i">i</dfn>;</td></tr>
<tr><th id="135">135</th><td></td></tr>
<tr><th id="136">136</th><td>	<i>/* Check that the report looks ok */</i></td></tr>
<tr><th id="137">137</th><td>	<b>if</b> (!<a class="ref fn" href="../../include/linux/hid.h.html#hid_validate_values" title='hid_validate_values' data-ref="hid_validate_values" data-ref-filename="hid_validate_values">hid_validate_values</a>(<a class="local col7 ref" href="#17hid" title='hid' data-ref="17hid" data-ref-filename="17hid">hid</a>, <a class="macro" href="../../include/linux/hid.h.html#303" title="1" data-ref="_M/HID_OUTPUT_REPORT">HID_OUTPUT_REPORT</a>, <var>0</var>, <var>0</var>, <var>7</var>))</td></tr>
<tr><th id="138">138</th><td>		<b>return</b> -<a class="macro" href="../../include/uapi/asm-generic/errno-base.h.html#23" title="19" data-ref="_M/ENODEV">ENODEV</a>;</td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td>	<b>for</b> (<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a> = <var>0</var>; <a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a> &lt; <a class="macro" href="../../include/linux/kernel.h.html#71" title="(sizeof(devices) / sizeof((devices)[0]) + (sizeof(struct { int:(-!!(__builtin_types_compatible_p(typeof((devices)), typeof(&amp;(devices)[0])))); })))" data-ref="_M/ARRAY_SIZE">ARRAY_SIZE</a>(<a class="tu ref" href="#devices" title='devices' data-use='r' data-ref="devices" data-ref-filename="devices">devices</a>); <a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>++) {</td></tr>
<tr><th id="141">141</th><td>		<b>if</b> (<a class="local col9 ref" href="#19dev" title='dev' data-ref="19dev" data-ref-filename="19dev">dev</a>-&gt;<a class="ref field" href="../../include/linux/input.h.html#input_dev::id" title='input_dev::id' data-ref="input_dev::id" data-ref-filename="input_dev..id">id</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#input_id::vendor" title='input_id::vendor' data-ref="input_id::vendor" data-ref-filename="input_id..vendor">vendor</a> == <a class="tu ref" href="#devices" title='devices' data-use='m' data-ref="devices" data-ref-filename="devices">devices</a>[<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>].<a class="tu ref field" href="#dev_type::idVendor" title='dev_type::idVendor' data-use='r' data-ref="dev_type::idVendor" data-ref-filename="dev_type..idVendor">idVendor</a> &amp;&amp;</td></tr>
<tr><th id="142">142</th><td>		    <a class="local col9 ref" href="#19dev" title='dev' data-ref="19dev" data-ref-filename="19dev">dev</a>-&gt;<a class="ref field" href="../../include/linux/input.h.html#input_dev::id" title='input_dev::id' data-ref="input_dev::id" data-ref-filename="input_dev..id">id</a>.<a class="ref field" href="../../include/uapi/linux/input.h.html#input_id::product" title='input_id::product' data-ref="input_id::product" data-ref-filename="input_id..product">product</a> == <a class="tu ref" href="#devices" title='devices' data-use='m' data-ref="devices" data-ref-filename="devices">devices</a>[<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>].<a class="tu ref field" href="#dev_type::idProduct" title='dev_type::idProduct' data-use='r' data-ref="dev_type::idProduct" data-ref-filename="dev_type..idProduct">idProduct</a>) {</td></tr>
<tr><th id="143">143</th><td>			<a class="local col0 ref" href="#20ff_bits" title='ff_bits' data-ref="20ff_bits" data-ref-filename="20ff_bits">ff_bits</a> = <a class="tu ref" href="#devices" title='devices' data-use='m' data-ref="devices" data-ref-filename="devices">devices</a>[<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>].<a class="tu ref field" href="#dev_type::ff" title='dev_type::ff' data-use='r' data-ref="dev_type::ff" data-ref-filename="dev_type..ff">ff</a>;</td></tr>
<tr><th id="144">144</th><td>			<b>break</b>;</td></tr>
<tr><th id="145">145</th><td>		}</td></tr>
<tr><th id="146">146</th><td>	}</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>	<b>for</b> (<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a> = <var>0</var>; <a class="local col0 ref" href="#20ff_bits" title='ff_bits' data-ref="20ff_bits" data-ref-filename="20ff_bits">ff_bits</a>[<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>] &gt;= <var>0</var>; <a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>++)</td></tr>
<tr><th id="149">149</th><td>		<a class="ref fn" href="../../arch/x86/include/asm/bitops.h.html#set_bit" title='set_bit' data-ref="set_bit" data-ref-filename="set_bit">set_bit</a>(<a class="local col0 ref" href="#20ff_bits" title='ff_bits' data-ref="20ff_bits" data-ref-filename="20ff_bits">ff_bits</a>[<a class="local col2 ref" href="#22i" title='i' data-ref="22i" data-ref-filename="22i">i</a>], <a class="local col9 ref" href="#19dev" title='dev' data-ref="19dev" data-ref-filename="19dev">dev</a>-&gt;<a class="ref field" href="../../include/linux/input.h.html#input_dev::ffbit" title='input_dev::ffbit' data-ref="input_dev::ffbit" data-ref-filename="input_dev..ffbit">ffbit</a>);</td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td>	<a class="local col1 ref" href="#21error" title='error' data-ref="21error" data-ref-filename="21error">error</a> = <a class="ref fn" href="../../include/linux/input.h.html#input_ff_create_memless" title='input_ff_create_memless' data-ref="input_ff_create_memless" data-ref-filename="input_ff_create_memless">input_ff_create_memless</a>(<a class="local col9 ref" href="#19dev" title='dev' data-ref="19dev" data-ref-filename="19dev">dev</a>, <a class="macro" href="../../include/linux/stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <a class="tu ref fn" href="#hid_lgff_play" title='hid_lgff_play' data-use='r' data-ref="hid_lgff_play" data-ref-filename="hid_lgff_play">hid_lgff_play</a>);</td></tr>
<tr><th id="152">152</th><td>	<b>if</b> (<a class="local col1 ref" href="#21error" title='error' data-ref="21error" data-ref-filename="21error">error</a>)</td></tr>
<tr><th id="153">153</th><td>		<b>return</b> <a class="local col1 ref" href="#21error" title='error' data-ref="21error" data-ref-filename="21error">error</a>;</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>	<b>if</b> ( <a class="macro" href="../../arch/x86/include/asm/bitops.h.html#349" title="(__builtin_constant_p((0x61)) ? constant_test_bit((0x61), (dev-&gt;ffbit)) : variable_test_bit((0x61), (dev-&gt;ffbit)))" data-ref="_M/test_bit">test_bit</a>(<a class="macro" href="../../include/uapi/linux/input.h.html#484" title="0x61" data-ref="_M/FF_AUTOCENTER">FF_AUTOCENTER</a>, <a class="local col9 ref" href="#19dev" title='dev' data-ref="19dev" data-ref-filename="19dev">dev</a>-&gt;<a class="ref field" href="../../include/linux/input.h.html#input_dev::ffbit" title='input_dev::ffbit' data-ref="input_dev::ffbit" data-ref-filename="input_dev..ffbit">ffbit</a>) )</td></tr>
<tr><th id="156">156</th><td>		<a class="local col9 ref" href="#19dev" title='dev' data-ref="19dev" data-ref-filename="19dev">dev</a>-&gt;<a class="ref field" href="../../include/linux/input.h.html#input_dev::ff" title='input_dev::ff' data-ref="input_dev::ff" data-ref-filename="input_dev..ff">ff</a>-&gt;<a class="ref field" href="../../include/linux/input.h.html#ff_device::set_autocenter" title='ff_device::set_autocenter' data-ref="ff_device::set_autocenter" data-ref-filename="ff_device..set_autocenter">set_autocenter</a> = <a class="tu ref fn" href="#hid_lgff_set_autocenter" title='hid_lgff_set_autocenter' data-use='r' data-ref="hid_lgff_set_autocenter" data-ref-filename="hid_lgff_set_autocenter">hid_lgff_set_autocenter</a>;</td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>	<a class="macro" href="../../include/linux/printk.h.html#307" title="printk(&quot;\001&quot; &quot;6&quot; &quot;hid_logitech&quot; &quot;: &quot; &quot;Force feedback for Logitech force feedback devices by Johann Deneux &lt;johann.deneux@it.uu.se&gt;\n&quot;)" data-ref="_M/pr_info">pr_info</a>(<q>"Force feedback for Logitech force feedback devices by Johann Deneux &lt;johann.deneux@it.uu.se&gt;\n"</q>);</td></tr>
<tr><th id="159">159</th><td></td></tr>
<tr><th id="160">160</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="161">161</th><td>}</td></tr>
<tr><th id="162">162</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2019-Oct-10</em> from project linux revision <em>4.15.10</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
