<dec f='linux/include/drm/drm_atomic.h' l='573' type='void drm_atomic_clean_old_fb(struct drm_device * dev, unsigned int plane_mask, int ret)'/>
<def f='linux/drivers/gpu/drm/drm_atomic.c' l='1956' ll='1980' type='void drm_atomic_clean_old_fb(struct drm_device * dev, unsigned int plane_mask, int ret)'/>
<dec f='linux/drivers/gpu/drm/drm_atomic.c' l='1981' type='void drm_atomic_clean_old_fb(struct drm_device * , unsigned int , int )'/>
<use f='linux/drivers/gpu/drm/drm_atomic.c' l='1981' c='drm_atomic_clean_old_fb'/>
<use f='linux/drivers/gpu/drm/drm_atomic.c' l='1981' u='a'/>
<use f='linux/drivers/gpu/drm/drm_atomic.c' l='1981' u='a'/>
<use f='linux/drivers/gpu/drm/drm_atomic.c' l='2342' u='c' c='drm_mode_atomic_ioctl'/>
<doc f='linux/drivers/gpu/drm/drm_atomic.c' l='1944'>/**
 * drm_atomic_clean_old_fb -- Unset old_fb pointers and set plane-&gt;fb pointers.
 *
 * @dev: drm device to check.
 * @plane_mask: plane mask for planes that were updated.
 * @ret: return value, can be -EDEADLK for a retry.
 *
 * Before doing an update &amp;drm_plane.old_fb is set to &amp;drm_plane.fb, but before
 * dropping the locks old_fb needs to be set to NULL and plane-&gt;fb updated. This
 * is a common operation for each atomic update, so this call is split off as a
 * helper.
 */</doc>
<use f='linux/drivers/gpu/drm/drm_atomic_helper.c' l='2871' u='c' c='drm_atomic_helper_disable_all'/>
<use f='linux/drivers/gpu/drm/drm_atomic_helper.c' l='3021' u='c' c='drm_atomic_helper_commit_duplicated_state'/>
<use f='linux/drivers/gpu/drm/drm_fb_helper.c' l='415' u='c' c='restore_fbdev_mode_atomic'/>
<use f='linux/drivers/gpu/drm/drm_framebuffer.c' l='838' u='c' c='atomic_remove_fb'/>
