<dec f='linux/include/linux/sched.h' l='162'/>
<doc f='linux/include/linux/sched.h' l='128'>/*
 * set_current_state() includes a barrier so that the write of current-&gt;state
 * is correctly serialised wrt the caller&apos;s subsequent test of whether to
 * actually sleep:
 *
 *   for (;;) {
 *	set_current_state(TASK_UNINTERRUPTIBLE);
 *	if (!need_sleep)
 *		break;
 *
 *	schedule();
 *   }
 *   __set_current_state(TASK_RUNNING);
 *
 * If the caller does not need such serialisation (because, for instance, the
 * condition test and condition change and wakeup are under the same lock) then
 * use __set_current_state().
 *
 * The above is typically ordered against the wakeup, which does:
 *
 *	need_sleep = false;
 *	wake_up_state(p, TASK_UNINTERRUPTIBLE);
 *
 * Where wake_up_state() (and all other wakeup primitives) imply enough
 * barriers to order the store of the variable against wakeup.
 *
 * Wakeup will do: if (@state &amp; p-&gt;state) p-&gt;state = TASK_RUNNING, that is,
 * once it observes the TASK_UNINTERRUPTIBLE store the waking CPU can issue a
 * TASK_RUNNING store which can collide with __set_current_state(TASK_RUNNING).
 *
 * This is obviously fine, since they both store the exact same value.
 *
 * Also see the comments of try_to_wake_up().
 */</doc>
<use f='linux/include/linux/sched/signal.h' l='283' u='c'/>
<use f='linux/block/blk-mq.c' l='2899' u='c'/>
<use f='linux/drivers/base/devtmpfs.c' l='406' u='c'/>
<use f='linux/drivers/char/hpet.c' l='339' u='c'/>
<use f='linux/drivers/dma-buf/dma-fence.c' l='410' u='c'/>
<use f='linux/drivers/dma-buf/dma-fence.c' l='412' u='c'/>
<use f='linux/drivers/dma-buf/dma-fence.c' l='424' u='c'/>
<use f='linux/drivers/dma-buf/dma-fence.c' l='528' u='c'/>
<use f='linux/drivers/gpu/drm/drm_lock.c' l='190' u='c'/>
<use f='linux/drivers/gpu/drm/drm_lock.c' l='215' u='c'/>
<use f='linux/drivers/gpu/drm/drm_syncobj.c' l='757' u='c'/>
<use f='linux/drivers/gpu/drm/i915/i915_gem_request.c' l='1103' u='c'/>
<use f='linux/drivers/gpu/drm/i915/i915_gem_request.c' l='1255' u='c'/>
<use f='linux/drivers/gpu/drm/i915/intel_breadcrumbs.c' l='665' u='c'/>
<use f='linux/drivers/gpu/vga/vgaarb.c' l='456' u='c'/>
<use f='linux/drivers/pcmcia/cs.c' l='676' u='c'/>
<use f='linux/drivers/rtc/rtc-dev.c' l='156' u='c'/>
<use f='linux/drivers/scsi/scsi_error.c' l='2157' u='c'/>
<use f='linux/drivers/scsi/scsi_error.c' l='2197' u='c'/>
<use f='linux/drivers/tty/serial/serial_core.c' l='1218' u='c'/>
<use f='linux/drivers/tty/tty_ldsem.c' l='243' u='c'/>
<use f='linux/drivers/tty/tty_ldsem.c' l='310' u='c'/>
<use f='linux/drivers/tty/vt/selection.c' l='350' u='c'/>
<use f='linux/drivers/tty/vt/selection.c' l='357' u='c'/>
<use f='linux/drivers/usb/core/devio.c' l='1885' u='c'/>
<use f='linux/drivers/usb/storage/usb.c' l='434' u='c'/>
<use f='linux/fs/block_dev.c' l='243' u='c'/>
<use f='linux/fs/block_dev.c' l='408' u='c'/>
<use f='linux/fs/direct-io.c' l='496' u='c'/>
<use f='linux/fs/eventfd.c' l='251' u='c'/>
<use f='linux/fs/eventfd.c' l='315' u='c'/>
<use f='linux/fs/eventpoll.c' l='1816' u='c'/>
<use f='linux/fs/exec.c' l='1080' u='c'/>
<use f='linux/fs/exec.c' l='1107' u='c'/>
<use f='linux/fs/iomap.c' l='1070' u='c'/>
<use f='linux/fs/select.c' l='244' u='c'/>
<use f='linux/fs/signalfd.c' l='189' u='c'/>
<use f='linux/ipc/mqueue.c' l='572' u='c'/>
<use f='linux/ipc/msg.c' l='169' u='c'/>
<use f='linux/ipc/msg.c' l='1064' u='c'/>
<use f='linux/ipc/sem.c' l='2048' u='c'/>
<use f='linux/kernel/exit.c' l='532' u='c'/>
<use f='linux/kernel/exit.c' l='1545' u='c'/>
<use f='linux/kernel/futex.c' l='2550' u='c'/>
<use f='linux/kernel/irq/manage.c' l='766' u='c'/>
<use f='linux/kernel/irq/manage.c' l='772' u='c'/>
<use f='linux/kernel/kthread.c' l='180' u='c'/>
<use f='linux/kernel/kthread.c' l='185' u='c'/>
<use f='linux/kernel/kthread.c' l='188' u='c'/>
<use f='linux/kernel/kthread.c' l='229' u='c'/>
<use f='linux/kernel/kthread.c' l='556' u='c'/>
<use f='linux/kernel/kthread.c' l='623' u='c'/>
<use f='linux/kernel/kthread.c' l='641' u='c'/>
<use f='linux/kernel/locking/mutex.c' l='580' u='c'/>
<use f='linux/kernel/locking/mutex.c' l='859' u='c'/>
<use f='linux/kernel/locking/mutex.c' l='879' u='c'/>
<use f='linux/kernel/locking/rtmutex.c' l='1203' u='c'/>
<use f='linux/kernel/locking/rtmutex.c' l='1270' u='c'/>
<use f='linux/kernel/locking/rwsem-xadd.c' l='272' u='c'/>
<use f='linux/kernel/locking/rwsem-xadd.c' l='279' u='c'/>
<use f='linux/kernel/locking/rwsem-xadd.c' l='572' u='c'/>
<use f='linux/kernel/locking/rwsem-xadd.c' l='579' u='c'/>
<use f='linux/kernel/locking/semaphore.c' l='219' u='c'/>
<use f='linux/kernel/pid_namespace.c' l='275' u='c'/>
<use f='linux/kernel/sched/completion.c' l='84' u='c'/>
<use f='linux/kernel/sched/core.c' l='3402' u='c'/>
<use f='linux/kernel/sched/swait.c' l='101' u='c'/>
<use f='linux/kernel/sched/swait.c' l='110' u='c'/>
<use f='linux/kernel/sched/wait.c' l='353' u='c'/>
<use f='linux/kernel/sched/wait.c' l='420' u='c'/>
<use f='linux/kernel/signal.c' l='1903' u='c'/>
<use f='linux/kernel/signal.c' l='2046' u='c'/>
<use f='linux/kernel/signal.c' l='2845' u='c'/>
<use f='linux/kernel/signal.c' l='3598' u='c'/>
<use f='linux/kernel/signal.c' l='3612' u='c'/>
<use f='linux/kernel/smpboot.c' l='115' u='c'/>
<use f='linux/kernel/smpboot.c' l='125' u='c'/>
<use f='linux/kernel/smpboot.c' l='142' u='c'/>
<use f='linux/kernel/smpboot.c' l='150' u='c'/>
<use f='linux/kernel/smpboot.c' l='162' u='c'/>
<use f='linux/kernel/time/alarmtimer.c' l='720' u='c'/>
<use f='linux/kernel/time/hrtimer.c' l='1485' u='c'/>
<use f='linux/kernel/time/hrtimer.c' l='1694' u='c'/>
<use f='linux/kernel/time/hrtimer.c' l='1719' u='c'/>
<use f='linux/kernel/time/posix-cpu-timers.c' l='1277' u='c'/>
<use f='linux/kernel/time/timer.c' l='1812' u='c'/>
<use f='linux/kernel/time/timer.c' l='1819' u='c'/>
<use f='linux/kernel/time/timer.c' l='1826' u='c'/>
<use f='linux/kernel/time/timer.c' l='1837' u='c'/>
<use f='linux/kernel/time/timer.c' l='1982' u='c'/>
<use f='linux/kernel/workqueue.c' l='2266' u='c'/>
<use f='linux/kernel/workqueue.c' l='2330' u='c'/>
<use f='linux/kernel/workqueue.c' l='2399' u='c'/>
<use f='linux/lib/klist.c' l='258' u='c'/>
<use f='linux/mm/memory.c' l='4081' u='c'/>
<use f='linux/mm/page-writeback.c' l='1778' u='c'/>
<use f='linux/mm/page_io.c' l='414' u='c'/>
<use f='linux/net/netlink/af_netlink.c' l='415' u='c'/>
<use f='linux/net/netlink/af_netlink.c' l='1193' u='c'/>
<use f='linux/net/netlink/af_netlink.c' l='1201' u='c'/>
<use f='linux/net/sunrpc/svc_xprt.c' l='713' u='c'/>
