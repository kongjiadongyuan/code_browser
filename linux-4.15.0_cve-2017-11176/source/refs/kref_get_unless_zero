<def f='linux/include/linux/kref.h' l='114' ll='117' type='int kref_get_unless_zero(struct kref * kref)'/>
<doc f='linux/include/linux/kref.h' l='98'>/**
 * kref_get_unless_zero - Increment refcount for object unless it is zero.
 * @kref: object.
 *
 * Return non-zero if the increment succeeded. Otherwise return 0.
 *
 * This function is intended to simplify locking around refcounting for
 * objects that can be looked up from a lookup structure, and which are
 * removed from that lookup structure in the object destructor.
 * Operations on such objects require at least a read lock around
 * lookup + kref_get, and a write lock around kref_put + remove from lookup
 * structure. Furthermore, RCU implementations become extremely tricky.
 * With a lookup followed by a kref_get_unless_zero *with return value check*
 * locking in the kref_put path can be deferred to the actual removal from
 * the lookup structure and RCU lookups become trivial.
 */</doc>
<use f='linux/drivers/char/hw_random/core.c' l='143' u='c' c='hwrng_init'/>
<use f='linux/include/linux/tty.h' l='590' u='c' c='tty_port_get'/>
<use f='linux/include/linux/dma-fence.h' l='222' u='c' c='dma_fence_get_rcu'/>
<use f='linux/drivers/gpu/drm/drm_connector.c' l='598' u='c' c='drm_connector_list_iter_next'/>
<use f='linux/drivers/gpu/drm/drm_connector.c' l='1533' u='c' c='drm_mode_get_tile_group'/>
<use f='linux/drivers/gpu/drm/drm_gem.c' l='1022' u='c' c='drm_gem_mmap'/>
<use f='linux/drivers/gpu/drm/drm_mode_object.c' l='144' u='c' c='__drm_mode_object_find'/>
<use f='linux/drivers/gpu/drm/i915/i915_gem_object.h' l='307' u='c' c='i915_gem_object_lookup'/>
<use f='linux/drivers/gpu/drm/i915/i915_drv.h' l='3820' u='c' c='i915_gem_context_lookup'/>
<use f='linux/drivers/gpu/drm/i915/i915_gem_userptr.c' l='145' u='c' c='i915_gem_userptr_mn_invalidate_range_start'/>
<use f='linux/drivers/scsi/scsi_scan.c' l='482' u='c' c='scsi_alloc_target'/>
<use f='linux/fs/nfs/write.c' l='498' u='c' c='nfs_lock_and_join_requests'/>
<use f='linux/lib/klist.c' l='286' u='c' c='klist_iter_init_node'/>
<use f='linux/lib/kobject.c' l='608' u='c' c='kobject_get_unless_zero'/>
<use f='linux/net/sunrpc/auth_gss/auth_gss.c' l='920' u='c' c='gss_pipe_match_pdo'/>
<use f='linux/net/sunrpc/xprt.c' l='1511' u='c' c='xprt_get'/>
<use f='linux/net/sunrpc/xprtmultipath.c' l='147' u='c' c='xprt_switch_get'/>
